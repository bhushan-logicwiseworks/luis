<div class="flex min-w-0 flex-auto flex-col">
    <!-- Header -->
    <div class="bg-card">
        <div class="mx-auto flex w-full max-w-screen-xl flex-col px-6 sm:px-8">
            <div class="my-8 flex min-w-0 flex-auto flex-col sm:my-12 sm:flex-row sm:items-center">
                <!-- Avatar and name -->
                <div class="flex min-w-0 flex-auto items-center">
                    <div class="h-16 w-16 flex-0 overflow-hidden rounded-full">
                        <img class="h-full w-full object-cover" [src]="profilePicture$ | async | getimage" />
                    </div>
                    <div class="ml-4 flex min-w-0 flex-col">
                        <ng-container *transloco="let t">
                            <div
                                class="truncate text-2xl font-semibold leading-7 tracking-tight md:text-5xl md:leading-snug"
                            >
                                Welcome back, {{ name$ | async }}!
                            </div>
                        </ng-container>
                        <div class="flex items-center">
                            <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:bell'"></mat-icon>
                            <div class="text-secondary ml-1.5 truncate leading-6">
                                You have 2 new messages and 15 new tasks
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Actions -->
                <div class="mt-6 flex items-center space-x-3 sm:ml-2 sm:mt-0">
                    <!-- <button class="bg-accent" mat-flat-button [color]="'accent'">
                        <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:mail'"></mat-icon>
                        <span class="ml-2">Messages</span>
                    </button> -->
                    <button mat-flat-button [color]="'primary'" (click)="settings()">
                        <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:cog'"></mat-icon>
                        <span class="ml-2">Settings</span>
                    </button>
                </div>
            </div>

            <!-- Project selector -->
            <div
                class="bg-default relative flex cursor-pointer self-start overflow-hidden rounded-t-xl border border-b-0 pb-1 pl-5 pr-4 pt-2"
                matRipple
                [matMenuTriggerFor]="projectsMenu"
            >
                <div class="flex items-center">
                    <div class="overflow-hidden">
                        <div class="truncate font-medium leading-6">{{ selectedProject }}</div>
                    </div>
                    <div class="flex items-center justify-center pl-2">
                        <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:chevron-down'"></mat-icon>
                    </div>
                </div>
                <mat-menu #projectsMenu="matMenu" [xPosition]="'before'">
                    <button mat-menu-item (click)="selectedProject = 'ACENTUS'">Acentus</button>
                </mat-menu>
            </div>
        </div>
    </div>

    <!-- Main -->
    <div class="mx-auto w-full max-w-screen-xl">
        <div class="-mt-px flex-auto border-t pt-4 sm:pt-6">
            <div class="mx-auto w-full">
                <!-- Tabs -->
                <mat-tab-group
                    class="sm:px-2"
                    mat-stretch-tabs="false"
                    [animationDuration]="'0'"
                    [selectedIndex]="selectedTab"
                >
                    <!-- Global -->
                    <mat-tab label="Global">
                        <ng-template matTabContent>
                            <app-global
                                [className]="'gap-3 grid grid-cols-1 md:grid-cols-3 sm:grid-cols-2 w-full'"
                            ></app-global>
                        </ng-template>
                    </mat-tab>

                    <!-- Monthly -->
                    <mat-tab label="Monthly">
                        <ng-template matTabContent>
                            <app-monthly
                                [className]="'gap-3 grid grid-cols-1 md:grid-cols-3 sm:grid-cols-2 w-full'"
                            ></app-monthly>
                        </ng-template>
                    </mat-tab>

                    <!-- Daily -->
                    <mat-tab label="Daily">
                        <ng-template matTabContent>
                            <app-daily
                                [className]="'gap-3 grid grid-cols-1 md:grid-cols-3 sm:grid-cols-2 w-full'"
                            ></app-daily>
                        </ng-template>
                    </mat-tab>

                    <!-- Combined -->
                    <mat-tab label="Combined">
                        <ng-template matTabContent>
                            <div class="md:flex">
                                <!-- COLUMN 1 -->
                                <app-daily
                                    [className]="'pr-4'"
                                    [rowClassName]="'pb-4'"
                                    class="w-full md:w-1/3"
                                ></app-daily>
                                <!-- COLUMN 2 -->
                                <app-monthly
                                    [className]="'pr-4'"
                                    [rowClassName]="'pb-4'"
                                    class="w-full md:w-1/3"
                                ></app-monthly>
                                <!-- COLUMN 3 -->
                                <app-global [rowClassName]="'pb-4'" class="w-full md:w-1/3"></app-global>
                            </div>
                        </ng-template>
                    </mat-tab>

                    <!-- Goals -->
                    <mat-tab label="Goals">
                        <ng-template matTabContent>
                            <app-goals
                                [className]="'gap-3 grid grid-cols-1 md:grid-cols-3 sm:grid-cols-2 w-full'"
                            ></app-goals>
                        </ng-template>
                    </mat-tab>
                </mat-tab-group>
            </div>
        </div>
    </div>
</div>
