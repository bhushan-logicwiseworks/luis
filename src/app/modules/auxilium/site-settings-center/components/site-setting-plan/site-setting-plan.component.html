<div class="w-full max-w-3xl">
    <form>
        <div class="w-full">
            <div class="text-xl">Change your plan</div>
            <div class="text-secondary">Upgrade or downgrade your current plan.</div>
        </div>
        <div class="mt-8 grid w-full gap-6 sm:grid-cols-3">
            <div class="sm:col-span-3">
                <fuse-alert [showIcon]="true" [appearance]="'outline'">
                    Changing the plan will take effect immediately. You will be charged for the rest of the current
                    month.
                </fuse-alert>
            </div>
            <div
                class="bg-card relative flex cursor-pointer flex-col items-start justify-start rounded-md p-6 shadow"
                (click)="selectPlan('BASIC')"
                [ngClass]="{ 'ring ring-inset ring-primary': selectedPlan === 'BASIC' }"
            >
                @if (selectedPlan === 'BASIC') {
                    <mat-icon
                        class="mat-icon-no-color mat-icon absolute right-0 top-0 mr-3 mt-3 text-primary icon-size-7"
                        [svgIcon]="'heroicons_solid:check-circle'"
                    ></mat-icon>
                }
                <div class="font-semibold">BASIC</div>
                <div class="text-secondary mt-1 whitespace-normal">Starter plan for individuals.</div>
                <div class="flex-auto"></div>
                <div class="mt-8 text-lg">
                    <span>$10</span>
                    <span class="text-secondary"> / month</span>
                </div>
            </div>
            <div
                class="bg-card relative flex cursor-pointer flex-col items-start justify-start rounded-md p-6 shadow"
                (click)="selectPlan('TEAM')"
                [ngClass]="{ 'ring ring-inset ring-primary': selectedPlan === 'TEAM' }"
            >
                @if (selectedPlan === 'TEAM') {
                    <mat-icon
                        class="mat-icon-no-color mat-icon absolute right-0 top-0 mr-3 mt-3 text-primary icon-size-7"
                        [svgIcon]="'heroicons_solid:check-circle'"
                    ></mat-icon>
                }
                <div class="font-semibold">TEAM</div>
                <div class="text-secondary mt-1 whitespace-normal">Collaborate up to 10 people.</div>
                <div class="flex-auto"></div>
                <div class="mt-8 text-lg">
                    <span>$20</span>
                    <span class="text-secondary"> / month</span>
                </div>
            </div>
            <div
                class="bg-card relative flex cursor-pointer flex-col items-start justify-start rounded-md p-6 shadow"
                (click)="selectPlan('ENTERPRISE')"
                [ngClass]="{ 'ring ring-inset ring-primary': selectedPlan === 'ENTERPRISE' }"
            >
                @if (selectedPlan === 'ENTERPRISE') {
                    <mat-icon
                        class="mat-icon-no-color mat-icon absolute right-0 top-0 mr-3 mt-3 text-primary icon-size-7"
                        [svgIcon]="'heroicons_solid:check-circle'"
                    ></mat-icon>
                }
                <div class="font-semibold">ENTERPRISE</div>
                <div class="text-secondary mt-1 whitespace-normal">For bigger businesses.</div>
                <div class="flex-auto"></div>
                <div class="mt-8 text-lg">
                    <span>$40</span>
                    <span class="text-secondary"> / month</span>
                </div>
            </div>
        </div>
        <div class="mb-10 mt-12 border-t"></div>
        <div class="w-full">
            <div class="text-xl">Payment Details</div>
            <div class="text-secondary">
                Update your billing information. Make sure to set your location correctly as it could affect your tax
                rates.
            </div>
        </div>
        <div class="mt-8 grid w-full grid-cols-4 gap-6">
            <div class="col-span-4">
                <mat-form-field class="w-full" [subscriptSizing]="'dynamic'">
                    <mat-label>Card holder</mat-label>
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:user'"></mat-icon>
                    <input [spellcheck]="false" matInput />
                </mat-form-field>
            </div>
            <div class="col-span-4 sm:col-span-2">
                <mat-form-field class="w-full" [subscriptSizing]="'dynamic'">
                    <mat-label>Card number</mat-label>
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:credit-card'"></mat-icon>
                    <input [spellcheck]="false" matInput />
                </mat-form-field>
            </div>
            <div class="col-span-2 sm:col-span-1">
                <mat-form-field class="w-full" (click)="datepicker1.open()">
                    <mat-label>Expiration date</mat-label>
                    <input matInput [matDatepicker]="datepicker1" />
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:calendar'"></mat-icon>
                    <!-- <mat-datepicker-toggle matIconSuffix [for]="datepicker1"></mat-datepicker-toggle> -->
                    <mat-datepicker #datepicker1="matDatepicker"></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-span-2 sm:col-span-1">
                <mat-form-field class="w-full" [subscriptSizing]="'dynamic'">
                    <mat-label>CVC / CVC2</mat-label>
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:lock-closed'"></mat-icon>
                    <input [spellcheck]="false" matInput />
                </mat-form-field>
            </div>
            <div class="col-span-4 sm:col-span-2">
                <div class="relative">
                    <mat-form-field class="state-select state w-full uppercase">
                        <mat-label>State</mat-label>
                        <mat-icon
                            class="absolute left-3 icon-size-5"
                            [svgIcon]="'heroicons_solid:location-marker'"
                        ></mat-icon>
                        <mat-select [(value)]="selectedState" class="ml-5">
                            @for (county of countyList; track county) {
                                <mat-option [value]="county.value">
                                    {{ county.name }}
                                </mat-option>
                            }
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>

            <div class="col-span-4 sm:col-span-2">
                <mat-form-field class="w-full">
                    <mat-label>ZIP / Postal code</mat-label>
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:hashtag'"></mat-icon>
                    <input [spellcheck]="false" matInput />
                </mat-form-field>
            </div>
        </div>
        <div class="mb-10 mt-11 border-t"></div>
        <div class="flex items-center justify-end">
            <button mat-stroked-button type="button">Cancel</button>
            <button class="ml-2" mat-flat-button [color]="'primary'" [matTooltip]="'Save'">Save</button>
        </div>
    </form>
</div>
