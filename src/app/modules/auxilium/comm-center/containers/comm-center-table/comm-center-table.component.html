<div class="flex flex-auto flex-col overflow-hidden">
    <!-- <div class="flex w-full bg-white p-1 dark:bg-transparent">
        <fuse-horizontal-navigation [navigation]="toolbarData" [name]="'patient-toolbar'"> </fuse-horizontal-navigation>
    </div> -->
    <div class="relative overflow-hidden bg-white shadow dark:bg-transparent">
        @if (filterSlug !== 'completed' && filterSlug !== 'deleted') {
            <div
                class="justfy-between flex w-full items-center border-b-[1px] border-[#BDC3C7] bg-white pb-2 pt-2 dark:bg-transparent"
            >
                <div>
                    <button
                        mat-stroked-button
                        color="primary"
                        (click)="Refresh()"
                        matTooltip="Refresh"
                        class="inline-flex items-center gap-2 py-2 pl-4"
                    >
                        <mat-icon svgIcon="mat_outline:refresh"></mat-icon>
                        <span>Refresh</span>
                    </button>
                </div>
                <div class="whitespace-nowrap py-2 pl-4 text-lg">{{ selection.selected.length }} Items Selected</div>

                <div class="flex w-full">
                    @if (!isDisabled()) {
                        <button class="pl-4" (click)="batchCompleteMail()" matTooltip="Complete">
                            <mat-icon class="text-green-500" svgIcon="check" size="24px"></mat-icon>
                        </button>
                    }
                    @if (!isDisabled()) {
                        <button class="pl-4 text-primary-500" (click)="batchDeleteMail()" matTooltip="Delete">
                            <mat-icon class="text-red-500" svgIcon="mat_outline:delete" size="24px"></mat-icon>
                        </button>
                    }
                    @if (!isDisabled()) {
                        <button class="pl-4 text-primary-500" (click)="groupEdit()" matTooltip="Group Edit">
                            <mat-icon class="text-purple-500" svgIcon="mat_outline:edit_note" size="24px"></mat-icon>
                        </button>
                    }
                </div>
            </div>
        }
        @if (filterSlug === 'completed' || filterSlug === 'deleted') {
            <div
                class="justfy-between flex w-full border-b-[1px] border-[#BDC3C7] bg-white pb-2 pt-2 dark:bg-transparent"
            >
                <div>
                    <button
                        mat-stroked-button
                        color="primary"
                        (click)="Refresh()"
                        matTooltip="Refresh"
                        class="inline-flex items-center gap-2 py-2 pl-4"
                    >
                        <mat-icon svgIcon="mat_outline:refresh"></mat-icon>
                        <span>Refresh</span>
                    </button>
                </div>
                <div class="whitespace-nowrap py-2 pl-4 pr-8 text-lg">&nbsp;</div>
            </div>
        }
        <aux-ag-grid
            [gridOptions]="options"
            [component]="'commcenter'"
            [rowData]="rowData"
            [columnDefs]="columnDefs"
            [visibleColumns]="visibleColumns"
            [agGridHeight]="'calc(100vh - 362px)'"
            (rowSelectionChange)="onSelectionChanged($event)"
            [loading]="loading$ | async"
        >
        </aux-ag-grid>
    </div>
</div>
