import{a as Me}from"./chunk-JBP6HANX.js";import{a as Te,b as ye,c as Ie}from"./chunk-6HRBECBJ.js";import{a as Pe}from"./chunk-ODTVUJKH.js";import{a as be}from"./chunk-Z76PEBTC.js";import{c as Ae,d as Le,h as he}from"./chunk-SIF5SKDU.js";import{a as oe}from"./chunk-QZ2WTBPW.js";import{a as xe}from"./chunk-HIKYOSQ5.js";import{e as ue}from"./chunk-YP5VDLTG.js";import{b as Se,c as we}from"./chunk-W6W3L4PS.js";import{c as Fe}from"./chunk-ZKDLRTZU.js";import{a,b as i,h as ee,n as te,o as m,p as ae,v as n,w as x}from"./chunk-7TJE7DO7.js";import{a as Oe}from"./chunk-UU7RD3EP.js";import{c as Ee}from"./chunk-6WEMRU4N.js";import{a as Ce,b as pe,d as fe,h as ge}from"./chunk-BV6IOHNV.js";import{B as ce,D as de,c as re,e as M,h as ne,i as ie,o as le,r as se,t as me}from"./chunk-4JDFQORI.js";import{a as Z,b as v}from"./chunk-ETZ3F2L4.js";import{$b as b,Ab as q,Gb as I,Ia as h,Ic as F,Ja as S,Jc as O,Ob as A,Vb as P,Wb as $,Xb as j,Yb as G,Zb as C,_b as u,dc as K,fc as w,gc as Q,mc as z,md as Y,nc as H,oc as J,pb as p,rc as W,sc as f,tb as T,tc as D,uc as X}from"./chunk-3Q5CJMKA.js";import{b as V}from"./chunk-WFMAM73Y.js";import{a as o,b as r}from"./chunk-2AVGQ2MQ.js";var At=a("[CommCenter Email/API] Reset email State"),Lt=a("[CommCenter Email/API] Load Email",i()),ht=a("[CommCenter Email/API] Load Email Success",i()),St=a("[CommCenter Email/API] Load Email Failure",i()),wt=a("[CommCenter Email/API] Load Owners"),Pt=a("[CommCenter Email/API] Load Owners Success",i()),bt=a("[CommCenter Email/API] Load Owners Failure",i()),Tt=a("[CommCenter Email/API] Load Comm Document",i()),yt=a("[CommCenter Email/API] Load Comm Document Success",i()),It=a("[CommCenter Email/API] Load Comm Document Failure",i()),xt=a("[CommCenter Email/API] Load Notes",i()),Ft=a("[CommCenter Email/API] Load Notes Success",i()),Ot=a("[CommCenter Email/API] Load Notes Failure",i()),Mt=a("[CommCenter Email/API] Update Label",i()),_t=a("[CommCenter Email/API] Update Label Success",i()),Dt=a("[CommCenter Email/API] Update Label Failure",i()),vt=a("[CommCenter Email/API] Update Owner",i()),kt=a("[CommCenter Email/API] Update Owner Success",i()),Nt=a("[CommCenter Email/API] Update Owner Failure",i()),Ut=a("[CommCenter Email/API] Load Attachments",i()),Rt=a("[CommCenter Email/API] Load Attachments Success",i()),Bt=a("[CommCenter Email/API] Load Attachments Failure",i()),Vt=a("[CommCenter Email/API] Load Tags",i()),qt=a("[CommCenter Email/API] Load Tags Success",i()),$t=a("[CommCenter Email/API] Load Tags Failure",i()),jt=a("[CommCenter Email/API] Add Tag",i()),Gt=a("[CommCenter Email/API] Add Tag Success"),Kt=a("[CommCenter Email/API] Add Tag Failure",i()),Qt=a("[CommCenter Email/API] Delete Tag",i()),zt=a("[CommCenter Email/API] Delete Tag Success"),Ht=a("[CommCenter Email/API] Delete Tag Failure",i()),Jt=a("[CommCenter Email/API] Add Note",i()),Wt=a("[CommCenter Email/API] Add Note Success",i()),Xt=a("[CommCenter Email/API] Add Note Failure",i()),Yt=a("[CommCenter Attachment/API] Play Audio Attachment",i()),Zt=a("[CommCenter Attachment/API] Play Audio Attachment Success",i()),ea=a("[CommCenter Attachment/API] Play Audio Attachment Failure",i()),ta=a("[CommCenter Patient Search/API] Link Patient Search",i()),aa=a("[CommCenter Patient Search/API] Link Patient Search Success",i()),oa=a("[CommCenter Patient Search/API] Link Patient Search Failure",i()),ra=a("[CommCenter Patient Search/API] Fax Link Patient Search",i()),na=a("[CommCenter Patient Search/API] Fax Link Patient Search Success",i()),ia=a("[CommCenter Patient Search/API] Fax Link Patient Search Failure",i()),la=a("[CommCenter Email/API] Update Email Group Edit",i()),sa=a("[CommCenter Email/API] Update Email Group Edit Success"),ma=a("[CommCenter Email/API] Update Email Group Edit Failure",i()),ca=a("[CommCenter Attachment] Stop Audio"),da=a("[CommCenter/API] Set Preview URL",i()),l={LoadEmail:Lt,LoadEmailSuccess:ht,LoadEmailFailure:St,LoadOwners:wt,LoadOwnersSuccess:Pt,LoadOwnersFailure:bt,LoadCommDocument:Tt,LoadCommDocumentSuccess:yt,LoadCommDocumentFailure:It,LoadNotes:xt,LoadNotesSuccess:Ft,LoadNotesFailure:Ot,UpdateLabel:Mt,UpdateLabelSuccess:_t,UpdateLabelFailure:Dt,UpdateOwner:vt,UpdateOwnerSuccess:kt,UpdateOwnerFailure:Nt,LoadAttachments:Ut,LoadAttachmentsSuccess:Rt,LoadAttachmentsFailure:Bt,LoadTags:Vt,LoadTagsSuccess:qt,LoadTagsFailure:$t,AddTag:jt,AddTagSuccess:Gt,AddTagFailure:Kt,DeleteTag:Qt,DeleteTagSuccess:zt,DeleteTagFailure:Ht,AddNote:Jt,AddNoteSuccess:Wt,AddNoteFailure:Xt,PlayAudioAttachment:Yt,PlayAudioAttachmentSuccess:Zt,PlayAudioAttachmentFailure:ea,StopAudioAttachment:ca,SetPreviewUrl:da,PatientSearch:ta,PatientSearchSuccess:aa,PatientSearchFailure:oa,PatientFaxIntoPatientRecord:ra,PatientFaxIntoPatientRecordSuccess:na,PatientFaxIntoPatientRecordFailure:ia,UpdateEmailGroupEdit:la,UpdateEmailGroupEditSuccess:sa,UpdateEmailGroupEditFailure:ma,ResetState:At};var ua=a("[CommCenter Table/API] Load Owners"),Ca=a("[CommCenter Table/API] Load Owners Success",i()),pa=a("[CommCenter Table/API] Load Owners Failure",i()),fa=a("[CommCenter Table/API] Load Emails",i()),ga=a("[CommCenter Table/API] Load Emails Success",i()),Ea=a("[CommCenter Table/API] Load Emails Failure",i()),Aa=a("[CommCenter Table/API] Load Emails By Owner"),La=a("[CommCenter Table/API] Load Emails By Owner Success",i()),ha=a("[CommCenter Table/API] Load Emails By Owner Failure",i()),Sa=a("[CommCenter Table/API] Load Completed Emails"),wa=a("[CommCenter Table/API] Load Completed Emails Success",i()),Pa=a("[CommCenter Table/API] Load Completed Emails Failure",i()),ba=a("[CommCenter Table/API] Load Deleted Emails"),Ta=a("[CommCenter Table/API] Load Deleted Emails Success",i()),ya=a("[CommCenter Table/API] Load Deleted Emails Failure",i()),Ia=a("[CommCenter Table/API] Load My Emails"),xa=a("[CommCenter Table/API] Load My Emails Success",i()),Fa=a("[CommCenter Table/API] Load My Emails Failure",i()),Oa=a("[CommCenter Table/API] Load Emails by Source",i()),Ma=a("[CommCenter Table/API] Load Emails by Source Success",i()),_a=a("[CommCenter Table/API] Load Emails by Source Failure",i()),Da=a("[CommCenter Table/API] Load Comm Document",i()),va=a("[CommCenter Table/API] Load Comm Document Success",i()),ka=a("[CommCenter Table/API] Load Comm Document Failure",i()),Na=a("[CommCenter Table/API] Mark Mail As Complete",i()),Ua=a("[CommCenter Table/API] Mark Mail As Complete Success"),Ra=a("[CommCenter Table/API] Mark Mail As Complete Failure",i()),Ba=a("[CommCenter Table/API] Mark Mails As Complete",i()),Va=a("[CommCenter Table/API] Mark Mails As Complete Success"),qa=a("[CommCenter Table/API] Mark Mails As Complete Failure",i()),$a=a("[CommCenter Table/API] Delete Mail",i()),ja=a("[CommCenter Table/API] Delete Mail Success"),Ga=a("[CommCenter Table/API] Delete Mail Failure",i()),Ka=a("[CommCenter Table/API] Delete Mails",i()),Qa=a("[CommCenter Table/API] Delete Mails Success"),za=a("[CommCenter Table/API] Delete Mails Failure",i()),Ha=a("[CommCenter Table/API] Reopen Completed Email",i()),Ja=a("[CommCenter Table/API] Reopen Completed Email Success"),Wa=a("[CommCenter Table/API] Reopen Completed Email Failure",i()),Xa=a("[CommCenter Table/API] Refresh"),s={LoadOwners:ua,LoadOwnersSuccess:Ca,LoadOwnersFailure:pa,LoadCompletedEmails:Sa,LoadCompletedEmailsSuccess:wa,LoadCompletedEmailsFailure:Pa,LoadDeletedEmails:ba,LoadDeletedEmailsSuccess:Ta,LoadDeletedEmailsFailure:ya,LoadEmails:fa,LoadEmailsSuccess:ga,LoadEmailsFailure:Ea,LoadEmailsByOwner:Aa,LoadEmailsByOwnerSuccess:La,LoadEmailsByOwnerFailure:ha,LoadMyEmails:Ia,LoadMyEmailsSuccess:xa,LoadMyEmailsFailure:Fa,LoadEmailsBySource:Oa,LoadEmailsBySourceSuccess:Ma,LoadEmailsBySourceFailure:_a,LoadCommDocument:Da,LoadCommDocumentSuccess:va,LoadCommDocumentFailure:ka,MarkMailAsComplete:Na,MarkMailAsCompleteSuccess:Ua,MarkMailAsCompleteFailure:Ra,MarkMailsAsComplete:Ba,MarkMailsAsCompleteSuccess:Va,MarkMailsAsCompleteFailure:qa,DeleteMail:$a,DeleteMailSuccess:ja,DeleteMailFailure:Ga,DeleteMails:Ka,DeleteMailsSuccess:Qa,DeleteMailsFailure:za,ReopenCompletedEmail:Ha,ReopenCompletedEmailSuccess:Ja,ReopenCompletedEmailFailure:Wa,Refresh:Xa};var Ya=a("[CommCenter Create/API] Create Email",i()),Za=a("[CommCenter Create/API] Create Email Success",i()),eo=a("[CommCenter Create/API] Create Email Failure",i()),to=a("[CommCenter Create/API] Load Owners"),ao=a("[CommCenter Create/API] Load Owners Success",i()),oo=a("[CommCenter Create/API] Load Owners Failure",i()),L={CreateEmail:Ya,CreateEmailSuccess:Za,CreateEmailFailure:eo,LoadOwners:to,LoadOwnersSuccess:ao,LoadOwnersFailure:oo};var k="comm-center-create",ro={loading:!1,error:null,owners:[],loadingOwners:!1,errorOwners:null},_e=x(ro,n(L.CreateEmail,e=>r(o({},e),{loading:!0,error:null})),n(L.CreateEmailSuccess,(e,{email:t})=>r(o({},e),{loading:!1,email:t})),n(L.CreateEmailFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(L.LoadOwners,e=>r(o({},e),{loadingOwners:!0,errorOwners:null})),n(L.LoadOwnersSuccess,(e,{owners:t})=>r(o({},e),{loadingOwners:!1,owners:t})),n(L.LoadOwnersFailure,(e,{error:t})=>r(o({},e),{loadingOwners:!1,errorOwners:t}))),De=e=>e.loading,ve=e=>e.error,ke=e=>e.owners,Ne=e=>e.loadingOwners;var N="comm-center-email",Ue={loading:!1,error:null,email:null,owners:[],loadingOwners:!1,notes:[],loadingNotes:!1,updatingNotes:!1,attachments:[],loadingAttachments:!1,updatingLabel:!1,updatingOwner:!1,tags:[],loadingTags:!1,updatingTags:0,audioPlaying:!1,audio:null,previewUrl:null,patient:[]},Re=x(Ue,n(l.ResetState,()=>Ue),n(l.LoadEmail,e=>r(o({},e),{loading:!0,error:null,email:null})),n(l.LoadEmailSuccess,(e,{email:t})=>r(o({},e),{loading:!1,email:t})),n(l.LoadEmailFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(l.LoadOwners,e=>r(o({},e),{loadingOwners:!0,error:null})),n(l.LoadOwnersSuccess,(e,{owners:t})=>r(o({},e),{loadingOwners:!1,owners:t})),n(l.LoadOwnersFailure,(e,{error:t})=>r(o({},e),{loadingOwners:!1,error:t})),n(l.LoadCommDocument,e=>r(o({},e),{loading:!0,error:null})),n(l.LoadCommDocumentSuccess,e=>r(o({},e),{loading:!1})),n(l.LoadCommDocumentFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(l.LoadNotes,e=>r(o({},e),{loadingNotes:!0,notes:[],error:null})),n(l.LoadNotesSuccess,(e,{notes:t})=>r(o({},e),{loadingNotes:!1,notes:t})),n(l.LoadNotesFailure,(e,{error:t})=>r(o({},e),{loadingNotes:!1,error:t})),n(l.UpdateLabel,e=>r(o({},e),{updatingLabel:!0,error:null})),n(l.UpdateLabelSuccess,(e,{})=>r(o({},e),{updatingLabel:!1})),n(l.UpdateLabelFailure,(e,{error:t})=>r(o({},e),{updatingLabel:!1,error:t})),n(l.UpdateOwner,e=>r(o({},e),{updatingOwner:!0,error:null})),n(l.UpdateOwnerSuccess,(e,{})=>r(o({},e),{updatingOwner:!1})),n(l.UpdateOwnerFailure,(e,{error:t})=>r(o({},e),{updatingOwner:!1,error:t})),n(l.LoadAttachments,e=>r(o({},e),{loadingAttachments:!0,attachments:[],error:null})),n(l.LoadAttachmentsSuccess,(e,{attachments:t})=>r(o({},e),{loadingAttachments:!1,attachments:t})),n(l.LoadAttachmentsFailure,(e,{error:t})=>r(o({},e),{loadingAttachments:!1,error:t})),n(l.AddNote,e=>r(o({},e),{updatingNotes:!0,error:null})),n(l.AddNoteSuccess,(e,{note:t})=>r(o({},e),{updatingNotes:!1,notes:[...e.notes,t]})),n(l.AddNoteFailure,(e,{error:t})=>r(o({},e),{updatingNotes:!1,error:t})),n(l.LoadTags,e=>r(o({},e),{loadingTags:!0,tags:[],error:null})),n(l.LoadTagsSuccess,(e,{tags:t})=>r(o({},e),{loadingTags:!1,tags:t})),n(l.LoadTagsFailure,(e,{error:t})=>r(o({},e),{loadingTags:!1,error:t})),n(l.AddTag,e=>r(o({},e),{updatingTags:e.updatingTags+1,error:null})),n(l.AddTagSuccess,(e,{})=>r(o({},e),{updatingTags:e.updatingTags-1})),n(l.AddTagFailure,(e,{error:t})=>r(o({},e),{updatingTags:e.updatingTags-1,error:t})),n(l.DeleteTag,e=>r(o({},e),{updatingTags:e.updatingTags+1,error:null})),n(l.DeleteTagSuccess,(e,{})=>r(o({},e),{updatingTags:e.updatingTags-1})),n(l.DeleteTagFailure,(e,{error:t})=>r(o({},e),{updatingTags:e.updatingTags-1,error:t})),n(l.PatientSearch,e=>r(o({},e),{loading:!0,patient:null})),n(l.PatientSearchSuccess,(e,{patient:t})=>r(o({},e),{loading:!1,patient:t})),n(l.PatientSearchFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(l.PatientFaxIntoPatientRecord,e=>r(o({},e),{loading:!0,patient:null})),n(l.PatientFaxIntoPatientRecordSuccess,(e,{patient:t})=>r(o({},e),{loading:!1,patient:t})),n(l.PatientFaxIntoPatientRecordFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(l.PlayAudioAttachmentSuccess,(e,{data:t})=>r(o({},e),{audio:t,audioPlaying:!0})),n(l.StopAudioAttachment,e=>r(o({},e),{audio:null,audioPlaying:!1})),n(l.SetPreviewUrl,(e,{url:t})=>r(o({},e),{previewUrl:t,loading:!1}))),Be=e=>e.loading,Ve=e=>e.email,qe=e=>e.loadingOwners,$e=e=>e.loadingNotes,je=e=>e.loadingAttachments,Ge=e=>e.updatingLabel,Ke=e=>e.updatingOwner,Qe=e=>e.error,ze=e=>e.owners,He=e=>e.notes,Je=e=>e.updatingNotes,We=e=>e.attachments,Xe=e=>e.tags,Ye=e=>e.loadingTags,Ze=e=>e.updatingTags>0,et=e=>e.audio,tt=e=>e.audioPlaying,at=e=>e.previewUrl,ot=e=>e.patient;var U="comm-center-table",rt={loading:!1,error:null,emails:[],emailsByOwner:[],completedEmails:[],deletedEmails:[],myEmails:[],emailsBySource:[],owners:[]},nt=x(rt,n(s.LoadEmails,e=>r(o({},rt),{loading:!0})),n(s.LoadEmailsSuccess,(e,{emails:t})=>r(o({},e),{loading:!1,emails:t})),n(s.LoadEmailsFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.LoadEmailsByOwner,e=>r(o({},e),{loading:!0})),n(s.LoadEmailsByOwnerSuccess,(e,{emails:t})=>r(o({},e),{loading:!1,emailsByOwner:t})),n(s.LoadEmailsByOwnerFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.LoadEmailsBySource,e=>r(o({},e),{loading:!0})),n(s.LoadEmailsBySourceSuccess,(e,{emails:t})=>r(o({},e),{loading:!1,emailsBySource:t})),n(s.LoadEmailsBySourceFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.LoadMyEmails,e=>r(o({},e),{loading:!0})),n(s.LoadMyEmailsSuccess,(e,{emails:t})=>r(o({},e),{loading:!1,myEmails:t})),n(s.LoadMyEmailsFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.LoadOwners,e=>r(o({},e),{loading:!0})),n(s.LoadOwnersSuccess,(e,{owners:t})=>r(o({},e),{loading:!1,owners:t})),n(s.LoadOwnersFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.LoadCompletedEmails,e=>r(o({},e),{loading:!0})),n(s.LoadCompletedEmailsSuccess,(e,{emails:t})=>r(o({},e),{loading:!1,completedEmails:t})),n(s.LoadCompletedEmailsFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.LoadDeletedEmails,e=>r(o({},e),{loading:!0})),n(s.LoadDeletedEmailsSuccess,(e,{emails:t})=>r(o({},e),{loading:!1,deletedEmails:t})),n(s.LoadDeletedEmailsFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.LoadCommDocument,e=>r(o({},e),{loading:!0})),n(s.LoadCommDocumentSuccess,e=>r(o({},e),{loading:!1})),n(s.LoadCommDocumentFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.MarkMailAsComplete,e=>r(o({},e),{loading:!0})),n(s.MarkMailAsCompleteSuccess,e=>r(o({},e),{loading:!1})),n(s.MarkMailAsCompleteFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.MarkMailsAsComplete,e=>r(o({},e),{loading:!0})),n(s.MarkMailsAsCompleteSuccess,e=>r(o({},e),{loading:!1})),n(s.MarkMailsAsCompleteFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.DeleteMail,e=>r(o({},e),{loading:!0})),n(s.DeleteMailSuccess,e=>r(o({},e),{loading:!1})),n(s.DeleteMailFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.DeleteMails,e=>r(o({},e),{loading:!0})),n(s.DeleteMailsSuccess,e=>r(o({},e),{loading:!1})),n(s.DeleteMailsFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t})),n(s.ReopenCompletedEmail,e=>r(o({},e),{loading:!0})),n(s.ReopenCompletedEmailSuccess,e=>r(o({},e),{loading:!1})),n(s.ReopenCompletedEmailFailure,(e,{error:t})=>r(o({},e),{loading:!1,error:t}))),it=e=>e.loading,lt=e=>e.error,st=e=>e.emails,mt=e=>e.emailsByOwner,ct=e=>e.completedEmails,dt=e=>e.deletedEmails,ut=e=>e.myEmails,Ct=e=>e.emailsBySource,pt=e=>e.owners;var so="comm-center";function ko(e,t){return ee({[U]:nt,[N]:Re,[k]:_e})(e,t)}var R=ae(so),ft;(function(e){let t=m(R,c=>c[U]);e.selectLoading=m(t,it),e.selectError=m(t,lt),e.selectEmails=m(t,st),e.selectEmailsByOwner=m(t,mt),e.selectEmailsBySource=m(t,Ct),e.selectCompletedEmails=m(t,ct),e.selectDeletedEmails=m(t,dt),e.selectMyEmails=m(t,ut),e.selectOwners=m(t,pt)})(ft||(ft={}));var gt;(function(e){let t=m(R,c=>c[N]);e.selectLoading=m(t,Be),e.selectEmail=m(t,Ve),e.selectLoadingOwners=m(t,qe),e.selectLoadingNotes=m(t,$e),e.selectLoadingAttachments=m(t,je),e.selectUpdatingLabel=m(t,Ge),e.selectUpdatingOwner=m(t,Ke),e.selectError=m(t,Qe),e.selectOwners=m(t,ze),e.selectNotes=m(t,He),e.selectUpdatingNotes=m(t,Je),e.selectAttachments=m(t,We),e.selectTags=m(t,Xe),e.selectTagNames=m(e.selectTags,c=>c?.map(d=>d.tag)),e.selectLoadingTags=m(t,Ye),e.selectUpdatingTags=m(t,Ze),e.selectAudio=m(t,et),e.selectAudioPlaying=m(t,tt),e.selectPreviewUrl=m(t,at),e.selectPatients=m(t,ot)})(gt||(gt={}));var y;(function(e){let t=m(R,c=>c[k]);e.selectLoading=m(t,De),e.selectError=m(t,ve),e.selectOwners=m(t,ke),e.selectLoadingOwners=m(t,Ne)})(y||(y={}));var mo=["quillEditor"];function co(e,t){e&1&&(C(0,"mat-error"),f(1,"This field is required."),u())}function uo(e,t){e&1&&(C(0,"mat-error"),f(1,"This field is required."),u())}function Co(e,t){e&1&&(C(0,"mat-error"),f(1,"This field is required."),u())}function po(e,t){if(e&1&&(C(0,"mat-error",11),f(1),u()),e&2){let c=Q();p(),X("Please enter valid date!! It should be ",c.dateFormat,".")}}function fo(e,t){e&1&&(C(0,"mat-error",11),f(1,"Due date cannot be in the past."),u())}function go(e,t){e&1&&(C(0,"mat-error"),f(1,"This field is required."),u())}function Eo(e,t){if(e&1&&(C(0,"mat-option",19),f(1),u()),e&2){let c=t.$implicit;A("value",c.networkName),p(),D(c.networkName)}}function Ao(e,t){if(e&1&&(C(0,"p",22),f(1),u()),e&2){let c=t;p(),D(c==null?null:c.message)}}var Et=class B{constructor(t,c,d,g,E,_){this.fb=t,this.store=c,this.actions$=d,this.auxUtilService=g,this.dialogRef=E,this.data=_,this.owners$=this.store.select(y.selectOwners),this.loadingOwners$=this.store.select(y.selectLoadingOwners),this.loading$=this.store.select(y.selectLoading),this.error$=this.store.select(y.selectError),this.user$=this.store.select(Fe.selectUser),this.dateFormat=Pe.DATE_FORMAT,this.quillModules={toolbar:!1},this.form=this.fb.group({from:["",[M.required]],subject:[""],taskdate:["",[M.required,this.auxUtilService.futureDateValidator()]],label:["",[M.required]],owner:["",[M.required]],body:[""],auth:[!1],verify:[!1],notes:[!1],referral:[!1],signon:[!1],addedrx:[!1]})}ngOnInit(){this.user$.pipe(v(this)).subscribe(t=>this.form.patchValue({from:t.email})),this.data.patientId>0&&this.form.get("label")?.patchValue(`${this.data.patientId}`,{emitEvent:!1}),this.store.dispatch(L.LoadOwners()),this.actions$.pipe(we(L.CreateEmailSuccess),v(this)).subscribe(()=>this.dialogRef.close())}submit(){if(this.form.invalid)return;let t=this.form.value,c=this.quillEditor.quillEditor;t.body=c.getText(),t=this.auxUtilService.cleanData(t),t=r(o({},t),{patientId:this.data.patientId}),this.store.dispatch(L.CreateEmail({dto:t}))}onDateChange(t,c){this.form=this.auxUtilService.manuallyCheckDateValid(t.target.value,this.form,c)}onCheckboxChange(t,c){let d=this.form.get("label");if(this.form.get(t)?.value)d?.patchValue(`${d.value} ${c}`.trim(),{emitEvent:!1});else{let E=d?.value||"";d?.patchValue(E.replace(new RegExp(`\\b${c}\\b`,"gi"),"").trim(),{emitEvent:!1})}}static{this.\u0275fac=function(c){return new(c||B)(T(ce),T(te),T(Se),T(be),T(Ae),T(Le))}}static{this.\u0275cmp=q({type:B,selectors:[["ac-comm-center-create"]],viewQuery:function(c,d){if(c&1&&z(mo,5),c&2){let g;H(g=J())&&(d.quillEditor=g.first)}},decls:59,vars:37,consts:[["datepickerRef",""],["quillEditor",""],[1,"mx-4",3,"ngSubmit","formGroup"],["mat-dialog-content",""],["appearance","outline",1,"mt-4","block","w-full"],["formControlName","from","matInput","","name","from","type","text",1,"uppercase"],["appearance","outline",1,"block","w-full"],["formControlName","subject","matInput","","name","subject","type","text",1,"uppercase"],["appearance","outline",1,"mb-1"],["formControlName","taskdate","matInput","","name","taskdate","type","text",3,"change","matDatepicker","placeholder"],["matSuffix","",3,"for"],[1,"whitespace-nowrap"],[1,"mt-4","flex","w-full","pb-2","pl-1"],[3,"change","formControlName","color"],[1,"mr-2",3,"change","formControlName","color"],["formControlName","label","matInput","","name","label","type","text",1,"uppercase"],[1,"relative"],["appearance","outline",1,"w-full"],["formControlName","owner"],[1,"uppercase",3,"value"],["type","spinner",3,"diameter","show"],[1,"mt-2","w-full","uppercase",3,"formControlName","placeholder","modules"],[1,"text-xs","font-medium","text-red-500"],[3,"show"]],template:function(c,d){if(c&1){let g=K();C(0,"form",2),w("ngSubmit",function(){return h(g),S(d.submit())}),C(1,"div",3)(2,"mat-form-field",4)(3,"mat-label"),f(4,"From"),u(),b(5,"input",5),I(6,co,2,0,"mat-error"),u(),C(7,"mat-form-field",6)(8,"mat-label"),f(9,"Subject"),u(),b(10,"input",7),I(11,uo,2,0,"mat-error"),u(),C(12,"mat-form-field",8)(13,"mat-label"),f(14,"Due Date"),u(),C(15,"input",9),w("change",function(_){return h(g),S(d.onDateChange(_,"taskdate"))}),u(),b(16,"mat-datepicker-toggle",10)(17,"mat-datepicker",null,0),I(19,Co,2,0,"mat-error")(20,po,2,1,"mat-error",11)(21,fo,2,0,"mat-error",11),u(),C(22,"div",12)(23,"mat-checkbox",13),w("change",function(){return h(g),S(d.onCheckboxChange("auth","Auth"))}),f(24,"Auth"),u(),C(25,"mat-checkbox",14),w("change",function(){return h(g),S(d.onCheckboxChange("verify","Verify"))}),f(26,"Verify"),u(),C(27,"mat-checkbox",14),w("change",function(){return h(g),S(d.onCheckboxChange("notes","Notes"))}),f(28,"Notes"),u(),C(29,"mat-checkbox",14),w("change",function(){return h(g),S(d.onCheckboxChange("referral","Referral"))}),f(30,"Referral"),u(),C(31,"mat-checkbox",14),w("change",function(){return h(g),S(d.onCheckboxChange("signon","Sign On"))}),f(32,"Sign On"),u(),C(33,"mat-checkbox",14),w("change",function(){return h(g),S(d.onCheckboxChange("addedrx","Added Rx"))}),f(34,"Added Rx"),u()(),C(35,"mat-form-field",6)(36,"mat-label"),f(37,"Label"),u(),b(38,"input",15),I(39,go,2,0,"mat-error"),u(),C(40,"div",16)(41,"mat-form-field",17)(42,"mat-label"),f(43,"Owner"),u(),C(44,"mat-select",18),j(45,Eo,2,2,"mat-option",19,$),F(47,"async"),u()(),b(48,"ac-loading-overlay",20),F(49,"async"),u(),C(50,"div")(51,"mat-label"),f(52,"Note"),u(),b(53,"quill-editor",21,1),u(),I(55,Ao,2,1,"p",22),F(56,"async"),u()(),b(57,"ac-loading-overlay",23),F(58,"async")}if(c&2){let g,E=W(18);A("formGroup",d.form),p(6),P(d.form.get("from").hasError("required")?6:-1),p(5),P(d.form.get("subject").hasError("required")?11:-1),p(4),A("matDatepicker",E)("placeholder",d.dateFormat),p(),A("for",E),p(3),P(d.form.get("taskdate").hasError("required")?19:-1),p(),P(d.form.get("taskdate").hasError("notValidDate")?20:-1),p(),P(d.form.get("taskdate").hasError("pastDate")?21:-1),p(2),A("formControlName","auth")("color","primary"),p(2),A("formControlName","verify")("color","primary"),p(2),A("formControlName","notes")("color","primary"),p(2),A("formControlName","referral")("color","primary"),p(2),A("formControlName","signon")("color","primary"),p(2),A("formControlName","addedrx")("color","primary"),p(6),P(d.form.get("label").hasError("required")?39:-1),p(6),G(O(47,29,d.owners$)),p(3),A("diameter",50)("show",O(49,31,d.loadingOwners$)),p(5),A("formControlName","body")("placeholder","Note")("modules",d.quillModules),p(2),P((g=O(56,33,d.error$))?55:-1,g),p(2),A("show",O(58,35,d.loading$))}},dependencies:[de,le,re,ne,ie,se,me,he,ge,Ce,Ee,pe,ye,Ie,fe,Te,Oe,xe,ue,oe,Me,Y],encapsulation:2})}};Et=V([Z()],Et);export{L as a,l as b,s as c,so as d,ko as e,ft as f,gt as g,y as h,Et as i};
