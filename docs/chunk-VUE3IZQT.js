import{a as Ke}from"./chunk-BA35O3D2.js";import{a as K}from"./chunk-ZKZQT5NF.js";import{a as B}from"./chunk-GSIASDE6.js";import{a as ze}from"./chunk-6LE6SZDP.js";import{a as U}from"./chunk-BRERDI67.js";import{a as F}from"./chunk-DOHNGIRK.js";import{a as Be}from"./chunk-EPDAUZIC.js";import{a as Qe}from"./chunk-X74UJ3QR.js";import{a as $e}from"./chunk-VGE2PNKJ.js";import{a as _e,b as Le}from"./chunk-7O4GN6JJ.js";import{a as We}from"./chunk-RW26HZBH.js";import{a as y}from"./chunk-Y5RI4PHI.js";import{a as je,b as Ee,c as Oe}from"./chunk-BLZL7MQY.js";import{a as z,c as Ue}from"./chunk-OJSM7WWP.js";import{a as L}from"./chunk-PVSGC5X6.js";import"./chunk-YCMFPTNH.js";import{a as Me}from"./chunk-Z76PEBTC.js";import"./chunk-GLNCR2H3.js";import"./chunk-2LVKS4R7.js";import{a as Pe}from"./chunk-BWPVOFCI.js";import{a as Ne}from"./chunk-VK4TGBYQ.js";import{e as De}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as be}from"./chunk-3IAIBVAD.js";import"./chunk-QZ2WTBPW.js";import"./chunk-KFQHPBEM.js";import{a as Q}from"./chunk-7RWCIHFI.js";import"./chunk-HIKYOSQ5.js";import{c as ke}from"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{a as P,b as $,c as x,e as Ae}from"./chunk-W6W3L4PS.js";import{a,b as l,h as he,n as W,o as I,p as ue,q as ge,v as c,w as Ce}from"./chunk-7TJE7DO7.js";import"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import"./chunk-BV6IOHNV.js";import{D as Fe,c as Se,h as xe,m as Ie,q as ye}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{o as we}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import{a as Te}from"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as _,b}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as ve,p as Re}from"./chunk-HJKZPT2B.js";import{b as de,c as fe}from"./chunk-W5GYUEPJ.js";import{$b as w,Ab as M,Bc as se,Ia as re,Ic as le,J as O,Ja as ie,Jc as me,Ob as C,Zb as R,_b as v,da as Y,dc as oe,f as J,fc as k,ga as ee,ha as D,md as pe,p as E,pb as g,qa as te,rc as ae,sc as ne,sd as ce,tb as s,v as S,w as X,wa as T}from"./chunk-3Q5CJMKA.js";import{b as A}from"./chunk-WFMAM73Y.js";import{a as f,b as h}from"./chunk-2AVGQ2MQ.js";var j=class V{constructor(e,i,o,u){this._fuseMediaWatcherService=e,this.searchService=i,this._matDialog=o,this.breakpointObserver=u,this.toggleMenu=!1,this.drawerMode="side",this.drawerOpened=!0,this.categories=K,this.menuData=[{title:"Actions",subtitle:"Add Patient",type:"group",children:[{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()}}]},{title:"Filters",type:"group",children:[{title:"None",type:"basic",icon:"mat_outline:cancel_presentation",link:"./none"},{title:"Show All",type:"basic",icon:"mat_outline:all_inclusive",link:"./all"}]}],this.searchCtrl=new Ie,this.isHandset$=this.breakpointObserver.observe([Q.Tablet,Q.Handset]).pipe(S(m=>m.matches),Y())}ngOnInit(){for(let e of K){let i={title:e.name,type:"basic",icon:"heroicons_outline:tag",link:`./${e.name.toLowerCase()}`,classes:{icon:e.icon}};this.menuData[1].children.push(i)}this.searchCtrl.valueChanges.pipe(b(this)).subscribe(e=>this.searchService.search.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(b(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}ngOnDestroy(){this.searchService.search.next(null)}static{this.\u0275fac=function(i){return new(i||V)(s(Ne),s(be),s(De),s(Re))}}static{this.\u0275cmp=M({type:V,selectors:[["ac-reporting-center"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(i,o){if(i&1){let u=oe();R(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),ne(5," ReportingCenter "),v()()(),R(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),w(10,"mat-icon",9)(11,"input",10),v()()()(),R(12,"div",11)(13,"button",12),k("click",function(){re(u);let d=ae(17);return ie(d.toggle())}),w(14,"mat-icon",13),v()()(),R(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),w(18,"aux-sidebar",16),v(),R(19,"mat-drawer-content",17)(20,"div",18),w(21,"router-outlet"),v()()()()}i&2&&(g(10),C("svgIcon","mat_outline:search"),g(),C("formControl",o.searchCtrl),g(3),C("svgIcon","heroicons_outline:menu"),g(2),C("autoFocus",!1)("mode",o.drawerMode)("opened",o.drawerOpened),g(2),C("menuData",o.menuData)("showTitle",!1)("title","ReportCenter Actions"))},dependencies:[ve,Fe,Se,xe,ye,we,Oe,Ee,Qe,je,fe],encapsulation:2,data:{animation:[We,Le,_e,$e]}})}};j=A([_()],j);var it=a("[ReportCenter Table/API] Reset Reports State"),ot=a("[ReportCenter Table/API] Load Reports",l()),at=a("[ReportCenter Table/API] Load Reports Success",l()),nt=a("[ReportCenter Table/API] Load Reports Failure",l()),st=a("[ReportCenter Table/API] Add Report QuickSave",l()),lt=a("[ReportCenter Table/API] Add Report QuickSave Success",l()),mt=a("[ReportCenter Table/API] Add Report QuickSave Failure",l()),pt=a("[ReportCenter Table/API] Report Search",l()),ct=a("[ReportCenter Table/API] Report Search Success",l()),dt=a("[ReportCenter Table/API] Report Search Failure",l()),ft=a("[ReportCenter Delete/API] Delete Report",l()),ht=a("[ReportCenter Delete/API] Delete Report Success"),ut=a("[ReportCenter Delete/API] Delete Report Failure",l()),gt=a("[ReportCenter Table/API] Refresh"),Ct=a("[Router] Navigate",l()),Rt=a("[Router] Redirect ReportCenter"),r={LoadReports:ot,LoadReportsSuccess:at,LoadReportsFailure:nt,AddReportQuickSave:st,AddReportQuickSaveSuccess:lt,AddReportQuickSaveFailure:mt,ReportSearch:pt,ReportSearchSuccess:ct,ReportSearchFailure:dt,DeleteReport:ft,DeleteReportSuccess:ht,DeleteReportFailure:ut,Refresh:gt,ResetState:it,Navigate:Ct,RedirectReportCenter:Rt};var H="report-center-table",G={loading:!1,error:null,report:[],id:null},Ge=Ce(G,c(r.ResetState,()=>G),c(r.LoadReports,t=>h(f({},G),{loading:!0})),c(r.LoadReportsSuccess,(t,{report:e})=>h(f({},t),{loading:!1,report:e})),c(r.LoadReportsFailure,(t,{error:e})=>h(f({},t),{loading:!1,error:e})),c(r.AddReportQuickSave,t=>h(f({},t),{loading:!0})),c(r.AddReportQuickSaveSuccess,(t,{id:e})=>h(f({},t),{loading:!1,id:e})),c(r.AddReportQuickSaveFailure,(t,{error:e})=>h(f({},t),{loading:!1,error:e})),c(r.ReportSearch,t=>h(f({},t),{loading:!0})),c(r.ReportSearchSuccess,(t,{report:e})=>h(f({},t),{loading:!1,report:e})),c(r.ReportSearchFailure,(t,{error:e})=>h(f({},t),{loading:!1,error:e}))),He=t=>t.loading,Ze=t=>t.error,qe=t=>t.report,Je=t=>t.id;var Z="report-center";function Xe(t,e){return he({[H]:Ge})(t,e)}var bt=ue(Z),N;(function(t){let e=I(bt,i=>i[H]);t.selectLoading=I(e,He),t.selectError=I(e,Ze),t.selectReports=I(e,qe),t.selectReport=I(e,Je)})(N||(N={}));var n=class q{constructor(e,i,o,u,m,d,tt,rt){switch(this.store=e,this.route=i,this.dateTimeFormatPipe=o,this.dateFormatPipe=u,this.phoneNumberPipe=m,this.actions$=d,this._fuseConfirmationService=tt,this.auxUtilService=rt,this.columnDefs=[{headerName:"PID",minWidth:80,field:"id",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1,cellRenderer:ze,cellRendererParams:{field:"PatientWithId",patientIdField:"id"},onCellClicked:p=>this.handleRedirect("id",{data:{id:p.data.id}})},{headerName:"PatAlpha",minWidth:115,field:"patAlpha",filter:"agMultiColumnFilter",sortIndex:2,hide:!1},{headerName:"Sales ID",minWidth:100,field:"salesId",filter:"agMultiColumnFilter",sortIndex:2,hide:!1},{headerName:"Last Name",minWidth:140,field:"lastName",cellStyle:{"font-weight":700},filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"First Name",minWidth:140,field:"firstName",filter:"agMultiColumnFilter",sortIndex:4,hide:!1},{headerName:"State",minWidth:75,field:"state",filter:"agMultiColumnFilter",sortIndex:5,hide:!1},{headerName:"Zip",minWidth:75,field:"zip",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"Cell Phone",minWidth:150,field:"cell",cellRenderer:U,cellRendererParams:{field:"cell"},valueFormatter:p=>this.phoneNumberPipe.transform(p.data.cell),filter:"agMultiColumnFilter",sortIndex:7,hide:!1},{headerName:"Phone",minWidth:150,field:"phone",cellRenderer:U,cellRendererParams:{field:"phone"},valueFormatter:p=>this.phoneNumberPipe.transform(p.data.phone),filter:"agMultiColumnFilter",sortIndex:9,hide:!1},{headerName:"Email",minWidth:250,field:"email",filter:"agMultiColumnFilter",sortIndex:9,hide:!1},{headerName:"DOB",minWidth:125,field:"dob",valueFormatter:p=>this.dateFormatPipe.transform(p.data.dob),filter:"agDateColumnFilter",filterParams:z,sortIndex:10,hide:!1},{headerName:"County",minWidth:150,field:"county",filter:"agMultiColumnFilter",sortIndex:11,hide:!1},{headerName:"City",minWidth:150,field:"city",filter:"agMultiColumnFilter",sortIndex:12,hide:!1},{headerName:"Ref ID",minWidth:200,field:"referId",filter:"agMultiColumnFilter",sortIndex:13,hide:!1},{headerName:"Ref Code",minWidth:100,field:"referCode",filter:"agMultiColumnFilter",sortIndex:14,hide:!1},{headerName:"Referral Source",minWidth:300,field:"referName",filter:"agMultiColumnFilter",sortIndex:15,hide:!1},{headerName:"Physician",minWidth:200,field:"doctorName",filter:"agMultiColumnFilter",sortIndex:16,hide:!1},{headerName:"Branch ID",minWidth:100,field:"branchId",filter:"agMultiColumnFilter",sortIndex:17,hide:!1},{headerName:"Branch Name",minWidth:300,field:"branchName",filter:"agMultiColumnFilter",sortIndex:18,hide:!1},{headerName:"Payor Name",minWidth:300,field:"payorName",filter:"agMultiColumnFilter",sortIndex:19,hide:!1},{headerName:"Status",minWidth:170,field:"patientStatus",cellRenderer:Ke,sort:"desc",filter:"agMultiColumnFilter",sortIndex:15,hide:!1,cellStyle:{display:"flex",alignItems:"center"}},{headerName:"Category",minWidth:150,field:"patientCategory",cellRenderer:B,cellRendererParams:p=>({category:p.data.patientCategory}),sortIndex:16,filter:"agMultiColumnFilter",filterParams:{filters:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter",filterParams:{cellRenderer:B}}]},hide:!1},{headerName:"Entry Date",minWidth:175,field:"entryDate",valueFormatter:p=>this.dateTimeFormatPipe.transform(p.data.entryDate),filter:"agDateColumnFilter",filterParams:z,sortIndex:17,hide:!1},{headerName:"Actions",width:101,field:"actions",cellRenderer:Be,cellRendererParams:{menuItems:[{name:"Delete Permanently",action:this.deleteRow.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},filter:!1,sortIndex:18,hide:!1,sortable:!1}],this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.visibleColumns=["id","lastName","firstName","state","zip","email","patientStatus","patientCategory"],this.loading$=this.store.select(N.selectLoading),this.data$=this.route.paramMap.pipe(D(p=>this.store.select(N.selectReports))),this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.refresh=new J,this.refresh$=this.refresh.asObservable(),this.selectedRowIndex=-1,this.selection=new ke(!0,[]),this.route.routeConfig.path){case"all":this.visibleColumns=["id","lastName","firstName","state","zip","email","referName","doctorName","payorName","patientStatus","patientCategory"];break;default:this.visibleColumns=["id","lastName","firstName","state","zip","email","patientStatus","patientCategory"];break}}ngOnInit(){X([this.route.paramMap,this.refresh$.pipe(ee(null))]).pipe(b(this)).subscribe(()=>{let e=this.route.snapshot.routeConfig.path;this.store.dispatch(r.LoadReports({filter:e}))}),this.data$.pipe(b(this)).subscribe(e=>{this.rowData=e}),this.actions$.pipe(x(r.Refresh),b(this)).subscribe(e=>this.refresh.next(e))}onRowChange(e){}deleteRow(e){this.deletePatient(e.data)}ngOnDestroy(){this.store.dispatch(r.ResetState())}ngAfterViewInit(){}deletePatient(e){this._fuseConfirmationService.open({title:"Delete Report",message:"Are you sure you want to delete this Report? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(b(this)).subscribe(o=>{o==="confirmed"&&this.store.dispatch(r.DeleteReport({dto:e}))})}handleRedirect(e,i){this.auxUtilService.redirectToNewTab(e,i)}static{this.\u0275fac=function(i){return new(i||q)(s(W),s(de),s(y),s(L),s(F),s($),s(Pe),s(Me))}}static{this.\u0275cmp=M({type:q,selectors:[["ac-reporting-center-table"]],features:[se([y,L,F])],decls:4,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"cellClicked","gridOptions","component","rowData","columnDefs","visibleColumns","agGridHeight","loading","isCsvExport"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"aux-ag-grid",2),le(3,"async"),k("cellClicked",function(m){return o.onRowChange(m)}),v()()()),i&2&&(g(2),C("gridOptions",o.options)("component","reportingcenter")("rowData",o.rowData)("columnDefs",o.columnDefs)("visibleColumns",o.visibleColumns)("agGridHeight","calc(100vh - 292px)")("loading",me(3,8,o.loading$))("isCsvExport",!0))},dependencies:[Ue,pe],encapsulation:2,changeDetection:0})}};n=A([_()],n);var Ye=(()=>{class t{constructor(i,o,u){this.actions$=i,this.store=o,this.apiService=u,this.loadReports$=P(()=>this.actions$.pipe(x(r.LoadReports),D(m=>this.apiService.getReportingCenterPatients(m.filter).pipe(S(d=>r.LoadReportsSuccess({report:d})),O(d=>E(r.LoadReportsFailure({error:d.error}))))))),this.deleteReport$=P(()=>this.actions$.pipe(x(r.DeleteReport),D(m=>this.apiService.deletePatient(m.dto).pipe(S(d=>r.DeleteReportSuccess()),O(d=>E(r.DeleteReportFailure({error:d.error}))))))),this.redirectReportCenter$=P(()=>this.actions$.pipe(x(r.AddReportQuickSaveSuccess),S(m=>r.Navigate({commands:[`/centers/patient-center/${m.id.toString()}/demographics`]})))),this.refresh$=P(()=>this.actions$.pipe(x(r.AddReportQuickSaveSuccess,r.DeleteReportSuccess),S(()=>r.Refresh())))}static{this.\u0275fac=function(o){return new(o||t)(T($),T(W),T(Te))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var et=[ge(Z,Xe),Ae([Ye]),ce,F,y];var Er=[{path:"",component:j,providers:et,children:[{path:"",redirectTo:"none",pathMatch:"full"},{path:"none",component:n},{path:"recent",component:n},{path:"pending",component:n},{path:"active",component:n},{path:"inactive",component:n},{path:"deleted",component:n},{path:"all",component:n},{path:"cgm",component:n},{path:"enteral",component:n},{path:"incontinence",component:n},{path:"ostomy",component:n},{path:"urology",component:n},{path:"wound",component:n}]}];export{Er as default};
