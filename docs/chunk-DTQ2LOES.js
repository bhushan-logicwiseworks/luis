import{aa as rt}from"./chunk-XL4UWPO2.js";import{a as qe}from"./chunk-ZKZQT5NF.js";import{a as He}from"./chunk-2RC5KJLV.js";import{a as Jt}from"./chunk-TJLYJQXY.js";import{a as Xt,b as ei}from"./chunk-D7SFZ6EE.js";import{a as at}from"./chunk-BRERDI67.js";import{a as Ke}from"./chunk-DOHNGIRK.js";import{a as Ge,b as Yt}from"./chunk-CFVP3FCT.js";import{a as Ht}from"./chunk-X74UJ3QR.js";import{a as Kt}from"./chunk-VGE2PNKJ.js";import{a as Wt,b as qt}from"./chunk-7O4GN6JJ.js";import{a as Gt}from"./chunk-RW26HZBH.js";import{a as We}from"./chunk-Y5RI4PHI.js";import{a as Oe,b as ze,c as Ue}from"./chunk-BLZL7MQY.js";import{a as Zt,c as Qt}from"./chunk-OJSM7WWP.js";import{a as jt}from"./chunk-PRXHNPXO.js";import"./chunk-WX54DYK2.js";import{a as $t}from"./chunk-FJCYNQP7.js";import"./chunk-YCMFPTNH.js";import{b as $e}from"./chunk-PAS4GHRS.js";import{a as Pe,c as de}from"./chunk-VRDZKI6P.js";import{a as ce}from"./chunk-V2BYYYUY.js";import"./chunk-ODTVUJKH.js";import{a as Ve}from"./chunk-Z76PEBTC.js";import{c as Pt}from"./chunk-GLNCR2H3.js";import{b as zt}from"./chunk-M7CNBRZG.js";import"./chunk-2LVKS4R7.js";import{a as kt}from"./chunk-BWPVOFCI.js";import"./chunk-T6JQBFCO.js";import{a as Ne}from"./chunk-VK4TGBYQ.js";import{c as Bt,e as Te}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as Rt}from"./chunk-3IAIBVAD.js";import{a as At}from"./chunk-QZ2WTBPW.js";import"./chunk-KFQHPBEM.js";import{a as it}from"./chunk-7RWCIHFI.js";import"./chunk-HIKYOSQ5.js";import{c as Ot}from"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import{e as _e}from"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{a as P,b as j,c as D,e as Vt}from"./chunk-W6W3L4PS.js";import{a as h,b as C,h as wt,n as L,o as N,p as Dt,q as Ft,v as x,w as xe}from"./chunk-7TJE7DO7.js";import{a as je}from"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import"./chunk-2SL7SW2K.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{a as Ut}from"./chunk-WTDAEWCX.js";import{c as Me}from"./chunk-6WEMRU4N.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import{a as Ae,c as Lt,d as Re,g as Nt,h as Ee}from"./chunk-BV6IOHNV.js";import{A as Mt,B as Tt,D as le,c as oe,e as A,h as ne,i as Ie,l as Y,m as Et,o as we,q as se,r as De,t as Fe}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{o as Le}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import{a as Be}from"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import{a as ke}from"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as $,b as S}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as Q,p as _t}from"./chunk-HJKZPT2B.js";import{b as re,c as ye,d as be,e as It}from"./chunk-W5GYUEPJ.js";import{$b as p,Ab as V,Bc as Ce,Cc as bt,Gb as J,Ia as R,Ic as g,J as z,Ja as E,Jc as y,L as fe,Ob as r,Sc as xt,Ta as he,Vb as Se,Wb as pe,Xb as ie,Yb as ae,Zb as s,_b as o,da as vt,dc as H,f as ee,fc as _,g as St,ga as k,gc as ve,ha as F,id as ge,mc as Ct,md as Z,nc as gt,oc as yt,p as O,pb as t,qa as te,rc as T,sc as l,tb as f,tc as U,uc as W,v as b,w as K,wa as q}from"./chunk-3Q5CJMKA.js";import{b as B}from"./chunk-WFMAM73Y.js";import{a as I,b as w}from"./chunk-2AVGQ2MQ.js";var yi=h("[SalesCenter Table/API] Load SalesRep"),bi=h("[SalesCenter Table/API] Load SalesRep Success",C()),xi=h("[SalesCenter Table/API] Load SalesRep Failure",C()),Ii=h("[SalesRepCenter Create/API] Add SalesRep",C()),wi=h("[SalesRepCenter Create/API] Add SalesRep Success",C()),Di=h("[SalesRepCenter Create/API] Add SalesRep Failure",C()),Fi=h("[SalesRepCenter Update/API] Update SalesRep",C()),_i=h("[SalesRepCenter Update/API] Update SalesRep Success",C()),Ai=h("[SalesRepCenter Update/API] Update SalesRep Failure",C()),Ri=h("[SalesRepCenter API] Load Branch DropDown"),Ei=h("[SalesRepCenter API] Load Branch DropDown Success",C()),Mi=h("[SalesRepCenter API] Load Branch DropDown Failure",C()),v={LoadSalesRep:yi,LoadSalesRepFailure:xi,LoadSalesRepSuccess:bi,AddSalesRep:Ii,AddSalesRepSuccess:wi,AddSalesRepFailure:Di,UpdateSalesRep:Fi,UpdateSalesRepSuccess:_i,UpdateSalesRepFailure:Ai,LoadBranchDropDown:Ri,LoadBranchDropDownSuccess:Ei,LoadBranchDropDownFailure:Mi};var Ti=h("[SalesCenter Table/API] Reset SalesReps State"),Li=h("[SalesCenter Table/API] Load SalesReps",C()),Ni=h("[SalesCenter Table/API] Load SalesReps Success",C()),Bi=h("[SalesCenter Table/API] Load SalesReps Failure",C()),ki=h("[SalesRepCenter Delete/API] Delete SalesRep",C()),Vi=h("[SalesRepCenter Delete/API] Delete SalesRep Success"),$i=h("[SalesRepCenter Delete/API] Delete SalesRep Failure",C()),Pi=h("[SalesRepCenter Table/API] Load SalesRep By Id",C()),ji=h("[SalesRepCenterTable/ API] Load SalesRep By Id Success",C()),Oi=h("[SalesRepCenter Table/API] Load SalesRep By Id Failure",C()),zi=h("[SalesRepCenter Table/API] Load City and Sate DropDown",C()),Ui=h("[SalesRepCenter Table/API] Load City and Sate DropDown Success",C()),Wi=h("[SalesRepCenter Table/API] Load City and Sate DropDown Failure",C()),Gi=h("[SalesCenter Table/API] Refresh"),u={LoadSalesReps:Li,LoadSalesRepsSuccess:Ni,LoadSalesRepsFailure:Bi,Refresh:Gi,ResetState:Ti,DeleteSalesRep:ki,DeleteSalesRepSuccess:Vi,DeleteSalesRepFailure:$i,LoadSalesById:Pi,LoadSalesByIdSuccess:ji,LoadSalesByIdFailure:Oi,LoadCityAndStateDropDown:zi,LoadCityAndStateDropDownSuccess:Ui,LoadCityAndStateDropDownFailure:Wi};var ot="sales-center-individual",Ki={loading:!1,error:null,salesrep:null,salesreps:[],branch:[]},ti=xe(Ki,x(v.LoadSalesRep,a=>w(I({},a),{loading:!0})),x(v.LoadSalesRepSuccess,(a,{salesrep:e})=>w(I({},a),{loading:!1,salesrep:e})),x(v.LoadSalesRepFailure,(a,{error:e})=>w(I({},a),{loading:!1,error:e})),x(v.LoadBranchDropDown,a=>w(I({},a),{loading:!0})),x(v.LoadBranchDropDownSuccess,(a,{branch:e})=>w(I({},a),{loading:!1,branch:e})),x(v.LoadBranchDropDownFailure,(a,{error:e})=>w(I({},a),{loading:!1,error:e}))),ii=a=>a.loading,ai=a=>a.salesrep,ri=a=>a.error;var oi=a=>a.branch;var st="sales-center-table",nt={loading:!1,error:null,salesreps:[],salesRepById:null,zipCodeLookup:void 0},ni=xe(nt,x(u.ResetState,()=>nt),x(u.LoadSalesReps,a=>w(I({},nt),{loading:!0})),x(u.LoadSalesRepsSuccess,(a,{salesreps:e})=>w(I({},a),{loading:!1,salesreps:e})),x(u.LoadSalesRepsFailure,(a,{error:e})=>w(I({},a),{loading:!1,error:e})),x(u.LoadSalesById,a=>w(I({},a),{loading:!0})),x(u.LoadSalesByIdSuccess,(a,{salesRepById:e})=>w(I({},a),{loading:!1,salesRepById:e})),x(u.LoadSalesByIdFailure,(a,{error:e})=>w(I({},a),{loading:!1,error:e})),x(u.LoadCityAndStateDropDown,a=>w(I({},a),{loading:!0})),x(u.LoadCityAndStateDropDownSuccess,(a,{zipCodeLookup:e})=>w(I({},a),{loading:!1,zipCodeLookup:e})),x(u.LoadCityAndStateDropDownFailure,(a,{error:e})=>w(I({},a),{loading:!1,error:e}))),si=a=>a.loading,li=a=>a.error,mi=a=>a.salesreps,pi=a=>a.salesRepById,ci=a=>a.zipCodeLookup;var lt="sales-center";function di(a,e){return wt({[st]:ni,[ot]:ti})(a,e)}var ui=Dt(lt),M;(function(a){let e=N(ui,i=>i[st]);a.selectLoading=N(e,si),a.selectError=N(e,li),a.selectSalesReps=N(e,mi),a.selectSalesRepById=N(e,pi),a.selectSalesCityState=N(e,ci)})(M||(M={}));var me;(function(a){let e=N(ui,i=>i[ot]);a.selectLoading=N(e,ii),a.selectSalesRep=N(e,ai),a.selectError=N(e,ri),a.selectBranch=N(e,oi)})(me||(me={}));var Yi=(a,e)=>e.abbreviation;function Ji(a,e){if(a&1&&(s(0,"mat-option",28)(1,"span",50),l(2),o(),s(3,"span"),l(4),o()()),a&2){let i=e.$implicit;r("value",i.abbreviation),t(2),U(i.abbreviation),t(2),U(i.name)}}function Xi(a,e){if(a&1&&(s(0,"mat-option",28),l(1),o()),a&2){let i=e.$implicit;r("value",i.name),t(),U(i.name)}}function ea(a,e){if(a&1&&(s(0,"mat-option",28),l(1),o()),a&2){let i=e.$implicit;r("value",i),t(),W(" ",i.branchcode," ")}}var Ze=class mt{constructor(e,i,n,d,c){this.fb=e,this.store=i,this.route=n,this.actions$=d,this.auxUtilService=c,this.usstates=Ge,this.categories=qe,this.state=new Y,this.branchName=new Y,this.territory=new Y,this.refresh=new ee,this.salesDetailsById$=this.route.paramMap.pipe(F(m=>this.store.select(M.selectSalesRepById))),this.branch$=this.store.select(me.selectBranch),this.salesCityState$=this.store.select(M.selectSalesCityState),this.pecosOptions=[{option:"",value:""},{option:"Yes",value:"Y"},{option:"No",value:"N"}],this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}}],this.filteredStates=this.state.valueChanges.pipe(k(""),b(m=>m?this._filterStates(m):this.usstates.slice()))}ngOnInit(){this.salesForm=this.fb.group({id:[0],firstname:["",[A.required]],lastname:["",[A.required]],email:["",[A.required]],address:[""],address2:[""],city:[""],state:[""],zip:[""],phone:["",[A.pattern(/^[0-9]{10}$/)]],fax:["",[A.pattern(/^[0-9]{10}$/)]],cell:["",[A.pattern(/^[0-9]{10}$/)]],territory:[""],authrep:[""],isactive:[!0],adddate:[""],addUserId:[""],branchid:[""]}),this.salesDetailsById$.pipe(S(this)).subscribe(e=>{e&&(this.salesDetails=e,this.salesForm.patchValue(e,{emitEvent:!1}),this.state.setValue(e.state),K([this.branch$,this.salesForm.get("branchid").valueChanges.pipe(k(this.salesForm.get("branchid").value))]).pipe(S(this)).subscribe(([i,n])=>{if(i&&n){let d=i.find(c=>c.id===n);d&&this.onBranchSelected(d)}}))}),this.salesForm.get("zip").valueChanges.pipe(S(this),fe(500)).subscribe(e=>{e!==""&&this.store.dispatch(u.LoadCityAndStateDropDown({zipCode:e}))}),this.salesCityState$.pipe(S(this)).subscribe(e=>{e?(this.state.setValue(e.state),this.salesForm.get("state").setValue(e.state),this.salesForm.get("city").setValue(e.city)):(this.state.setValue(""),this.salesForm.get("state").setValue(""),this.salesForm.get("city").setValue(""))}),this.actions$.pipe(D(u.Refresh),S(this)).subscribe(e=>this.refresh.next(e))}save(){if(this.salesForm.invalid)return;let e=this.salesForm.value;e=this.auxUtilService.transFormValuesToUpperCase(e,["firstname","lastname","address","address2","city","state","email","territory"]),e=this.auxUtilService.transFormValues(e,jt),this.store.dispatch(v.AddSalesRep({salesrep:e}))}trackByFn(e){return e.abbreviation}categoryhandler(e){this.territory.setValue(e.option.value)}_filterStates(e){let i=e.toLowerCase().replace(/\s+/g," ");return this.usstates.filter(n=>n.name.toLowerCase().replace(/\s+/g," ").includes(i)||n.abbreviation.toLowerCase().includes(i))}makeCall(e){let i=this.salesForm.get(e=="Cell"?"cell":"phone")?.value;this.auxUtilService.makeCall(i)}onBranchSelected(e){let i=e;this.salesForm.get("branchid").setValue(i.id,{emitEvent:!1}),this.branchName.setValue(i.branchcode)}static{this.\u0275fac=function(i){return new(i||mt)(f(Mt),f(L),f(re),f(j),f(Ve))}}static{this.\u0275cmp=V({type:mt,selectors:[["app-sales-demographics"]],features:[Ce([{provide:Nt,useValue:{appearance:"outline"}}])],decls:103,vars:58,consts:[["auto","matAutocomplete"],["autoInput",""],["auto1","matAutocomplete"],["auto2","matAutocomplete"],[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"flex","w-full","bg-white","p-1","shadow","dark:bg-transparent"],[3,"navigation","name"],[1,"w-full","pb-2","pl-1","pr-1","pt-2","md:flex"],[1,"flex","w-full","flex-col","md:w-1/2"],[1,"flex","flex-col","bg-white","p-4","shadow","dark:bg-transparent"],[1,"text-secondary","my-2","flex","items-center","text-xl","font-semibold"],[1,"mr-2",3,"svgIcon"],[1,"mt-4","flex","flex-col"],[1,"flex","w-full"],[1,"w-6/12","pr-2"],["matInput","","tabindex","1",1,"uppercase",3,"formControlName"],["matInput","","tabindex","2",1,"uppercase",3,"formControlName"],[1,"w-8/12","pr-2"],["matInput","","tabindex","3",1,"uppercase",3,"formControlName"],[1,"w-4/12"],["matInput","","tabindex","4",1,"uppercase",3,"formControlName"],[1,"w-1/2","pr-2"],["matInput","","type","text","tabindex","6",1,"uppercase",3,"formControlName"],["bindLabel","abbreviation",1,"state-select","w-1/4","pr-2",3,"appearance"],["matInput","","tabindex","7","aria-label","State",3,"matAutocomplete","formControlName"],["matSuffix","",1,"mr-2","flex-auto","text-3xl"],[3,"panelWidth"],[3,"value"],[1,"w-1/4"],["matInput","","tabindex","5",1,"uppercase",3,"formControlName"],[1,"mt-4"],["tabIndex","8",1,"-ml-2",3,"color","formControlName"],[1,"flex","w-full","flex-col","pl-2","md:w-1/2"],[1,"w-4/12","pr-2",3,"subscriptSizing"],["matSuffix","",1,"hidden","icon-size-5","sm:flex",3,"click","svgIcon"],["matInput","","mask","(000) 000-0000","tabindex","9","numbers","",3,"formControlName","value","showMaskTyped","placeholder"],["matInput","","tabindex","10","mask","(000) 000-0000","numbers","",3,"formControlName","value","showMaskTyped","placeholder"],["matSuffix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","","tabindex","11","mask","(000) 000-0000","numbers","",3,"formControlName","value","showMaskTyped","placeholder"],[1,"mt-4","flex","w-full"],[1,"w-full","pr-2",3,"subscriptSizing"],["matInput","","tabindex","12",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[1,"w-1/3","pr-2"],["matInput","","type","text","tabindex","13",1,"uppercase",3,"formControlName","placeholder","matAutocomplete"],["tabindex","12",3,"optionSelected"],[1,"w-1/3"],["matInput","","type","text","tabindex","14",1,"uppercase",3,"formControl","placeholder","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[1,"mr-1","font-bold"]],template:function(i,n){if(i&1){let d=H();s(0,"div",4)(1,"form",5),_("ngSubmit",function(){return R(d),E(n.save())}),s(2,"div",6),p(3,"fuse-horizontal-navigation",7),o(),s(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11),p(8,"mat-icon",12),l(9," Sales Details "),o(),s(10,"div",13)(11,"div",14)(12,"mat-form-field",15)(13,"mat-label"),l(14,"First Name"),o(),p(15,"input",16),o(),s(16,"mat-form-field",15)(17,"mat-label"),l(18,"Last Name"),o(),p(19,"input",17),o()(),s(20,"div",14)(21,"mat-form-field",18)(22,"mat-label"),l(23,"Address"),o(),p(24,"input",19),o(),s(25,"mat-form-field",20)(26,"mat-label"),l(27,"Address 2"),o(),p(28,"input",21),o()(),s(29,"div",14)(30,"mat-form-field",22)(31,"mat-label"),l(32,"City"),o(),p(33,"input",23),o(),s(34,"mat-form-field",24)(35,"mat-label"),l(36,"State"),o(),p(37,"input",25),s(38,"mat-icon",26),l(39,"arrow_drop_down"),o(),s(40,"mat-autocomplete",27,0),ie(42,Ji,5,3,"mat-option",28,Yi),g(44,"async"),o()(),s(45,"mat-form-field",29)(46,"mat-label"),l(47,"Zip"),o(),p(48,"input",30),o()(),s(49,"div",31)(50,"mat-checkbox",32)(51,"span"),l(52,"Is Active?"),o()()()()()(),s(53,"div",33)(54,"div",10)(55,"div",11),p(56,"mat-icon",12),l(57," Contact Information "),o(),s(58,"div",13)(59,"div",14)(60,"mat-form-field",34)(61,"mat-label"),l(62,"Cell"),o(),s(63,"mat-icon",35),_("click",function(){return R(d),E(n.makeCall("Cell"))}),o(),p(64,"input",36),g(65,"phone"),o(),s(66,"mat-form-field",34)(67,"mat-label"),l(68,"Phone"),o(),s(69,"mat-icon",35),_("click",function(){return R(d),E(n.makeCall("Phone"))}),o(),p(70,"input",37),g(71,"phone"),o(),s(72,"mat-form-field",34)(73,"mat-label"),l(74,"Fax"),o(),p(75,"mat-icon",38)(76,"input",39),g(77,"phone"),o()()(),s(78,"div",40)(79,"mat-form-field",41)(80,"mat-label"),l(81,"Email"),o(),p(82,"input",42),o()(),s(83,"div",40)(84,"mat-form-field",43)(85,"mat-label"),l(86,"Territory"),o(),p(87,"input",44,1),s(89,"mat-autocomplete",45,2),_("optionSelected",function(m){return R(d),E(n.categoryhandler(m))}),ie(91,Xi,2,2,"mat-option",28,pe),g(93,"async"),o()(),s(94,"mat-form-field",46)(95,"mat-label"),l(96,"Branch"),o(),p(97,"input",47,1),s(99,"mat-autocomplete",48,3),_("optionSelected",function(m){return R(d),E(n.onBranchSelected(m.option.value))}),J(101,ea,2,2,"mat-option",49),g(102,"async"),o()()()()()()()()}if(i&2){let d=T(41),c=T(90),m=T(100);t(),r("formGroup",n.salesForm),t(2),r("navigation",n.toolbarData)("name","patient-toolbar"),t(5),r("svgIcon","person_outline"),t(7),r("formControlName","firstname"),t(4),r("formControlName","lastname"),t(5),r("formControlName","address"),t(4),r("formControlName","address2"),t(5),r("formControlName","city"),t(),r("appearance","outline"),t(3),r("matAutocomplete",d)("formControlName","state"),t(3),r("panelWidth",285),t(2),ae(y(44,46,n.filteredStates)),t(6),r("formControlName","zip"),t(2),r("color","primary")("formControlName","isactive"),t(6),r("svgIcon","email"),t(4),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:phone"),t(),r("formControlName","cell")("value",y(65,48,(n.salesDetails==null?null:n.salesDetails.cell)||""))("showMaskTyped",!0)("placeholder","Cell"),t(2),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:phone"),t(),r("formControlName","phone")("value",y(71,50,(n.salesDetails==null?null:n.salesDetails.phone)||""))("showMaskTyped",!0)("placeholder","Phone"),t(2),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:printer"),t(),r("formControlName","fax")("value",y(77,52,(n.salesDetails==null?null:n.salesDetails.fax)||""))("showMaskTyped",!0)("placeholder","Fax"),t(3),r("subscriptSizing","dynamic"),t(3),r("formControlName","email")("placeholder","Email")("spellcheck",!1),t(5),r("formControlName","territory")("placeholder","Territory")("matAutocomplete",c),t(4),ae(y(93,54,n.filteredCategories)),t(6),r("formControl",n.branchName)("placeholder","Branch")("matAutocomplete",m),t(4),r("ngForOf",y(102,56,n.branch$))}},dependencies:[le,we,oe,ne,Ie,se,De,Fe,$t,Q,Ee,Ae,Me,de,Re,Pe,_e,je,$e,ge,Z,He],encapsulation:2,data:{animation:Be},changeDetection:0})}};Ze=B([$()],Ze);function ta(a,e){if(a&1&&(s(0,"mat-option",18)(1,"span",29),l(2),o(),s(3,"span"),l(4),o()()),a&2){let i=e.$implicit;r("value",i.abbreviation),t(2),W(" ",i.abbreviation," "),t(2),U(i.name)}}function ia(a,e){if(a&1&&(s(0,"mat-option",18),l(1),o()),a&2){let i=e.$implicit;r("value",i.name),t(),U(i.name)}}function aa(a,e){if(a&1&&(s(0,"mat-option",18),l(1),o()),a&2){let i=e.$implicit;r("value",i),t(),W(" ",i.branchcode," ")}}function ra(a,e){if(a&1&&(s(0,"fuse-alert",28),l(1),o()),a&2){let i=ve();r("appearance","outline")("type",i.alert.type)("showIcon",!1)("@shake",!0),t(),W(" ",i.alert.message," ")}}var Ye=class pt{constructor(e,i,n,d){this._formBuilder=e,this.store=i,this.auxUtilService=n,this.dialogRef=d,this.showDeleteButton=!1,this.cancel=new he,this.save=new he,this.delete=new he,this.state=new Y,this.branchName=new Y,this.editMode=!1,this.usstates=Ge,this.stateMapping=Yt,this.showAlert=!1,this.territory=new Y,this.categories=qe,this.salesCityState$=this.store.select(M.selectSalesCityState),this.branch$=this.store.select(me.selectBranch),this.filteredStates=this.state.valueChanges.pipe(k(""),b(c=>c?this._filterStates(c):this.usstates.slice()))}ngOnInit(){this.contactForm=this._formBuilder.group({id:[0],firstname:["",[A.required]],lastname:["",[A.required]],email:["",[A.required]],address:[""],address2:[""],city:[""],state:[""],zip:[""],phone:["",[A.pattern(/^[0-9]{10}$/)]],fax:["",[A.pattern(/^[0-9]{10}$/)]],cell:["",[A.pattern(/^[0-9]{10}$/)]],territory:[""],authrep:[""],isActive:[!0],addDate:[""],addUserId:[""],branchid:[0]}),this.filteredOptions=this.contactForm.get("state").valueChanges.pipe(k(""),b(e=>this.filter(e))),this.salesCityState$.pipe(S(this)).subscribe(e=>{e?(this.state.setValue(e.state),this.contactForm.get("state").setValue(e.state),this.contactForm.get("city").setValue(e.city)):(this.state.setValue(""),this.contactForm.get("state").setValue(""),this.contactForm.get("city").setValue(""))}),this.contact&&(this.contactForm.get("salesCode").patchValue(this.contact.salescode),this.contactForm.get("addDate").patchValue(this.contact.adddate),this.contactForm.get("addUserId").patchValue(this.contact.adduserid),this.contactForm.get("branchid").setValue(this.contact.branchid.toString()),this.contactForm.get("isActive").setValue(this.contact.isactive),this.state.setValue(this.contact.state),this.contactForm.patchValue(this.contact,{emitEvent:!1})),this.filteredCategories=this.contactForm.get("territory").valueChanges.pipe(k(""),b(e=>this.CategoryFilter(e))),this.contactForm.get("zip").valueChanges.pipe(S(this),fe(500)).subscribe(e=>{e!==""&&this.store.dispatch(u.LoadCityAndStateDropDown({zipCode:e}))}),K([this.branch$,this.contactForm.get("branchid").valueChanges.pipe(k(this.contactForm.get("branchid").value))]).pipe(S(this)).subscribe(([e,i])=>{if(e&&i){let n=e.find(d=>d.id===i);n&&this.contactForm.get("branchid").value!==n.id&&this.onBranchSelected(n)}})}CategoryFilter(e){return this.categories.filter(i=>i.name.toLowerCase().indexOf(e?.toLowerCase())===0)}filter(e){return this.usstates.filter(i=>i.name.toLowerCase().indexOf(e?.toLowerCase())===0)}ngAfterViewInit(){}ngOnDestroy(){}toggleEditMode(e=null){this.cancel.emit(e)}trackByFn(e){return e.abbreviation}saveContact(){if(this.contactForm.invalid)return;let e=this.contactForm.value;e.id==0&&(e.addDate=new Date),e=this.auxUtilService.transFormValuesToUpperCase(e,["firstname","lastname","address","address2","city","state","email","territory"]),this.store.dispatch(v.AddSalesRep({salesrep:e})),this.save.emit(),this.dialogRef.close()}categoryhandler(e){this.territory.setValue(e.option.value)}_filterStates(e){let i=e.toLowerCase().replace(/\s+/g," ");return this.usstates.filter(n=>n.name.toLowerCase().replace(/\s+/g," ").includes(i)||n.abbreviation.toLowerCase().includes(i))}onBranchSelected(e){let i=e;this.contactForm.get("branchid").setValue(i.id,{emitEvent:!1}),this.branchName.setValue(i.branchcode)}static{this.\u0275fac=function(i){return new(i||pt)(f(Tt),f(L),f(Ve),f(Bt))}}static{this.\u0275cmp=V({type:pt,selectors:[["ac-sales-center-individual-form"]],viewQuery:function(i,n){if(i&1&&Ct(de,5),i&2){let d;gt(d=yt())&&(n.stateAutocomplete=d.first)}},inputs:{contact:"contact",showDeleteButton:"showDeleteButton"},outputs:{cancel:"cancel",save:"save",delete:"delete"},decls:108,vars:78,consts:[["auto","matAutocomplete"],["autoInput",""],["auto1","matAutocomplete"],["auto2","matAutocomplete"],[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["matInput","",1,"uppercase",3,"formControlName","placeholder"],["matInput","","tabindex","-1",1,"uppercase",3,"formControlName","placeholder"],[1,"relative"],["bindLabel","abbreviation",1,"state-select","w-full"],[1,"state-label"],["matInput","","tabindex","9","aria-label","State",3,"matAutocomplete","formControl"],["matSuffix","",1,"mr-2","flex-auto","text-3xl"],[3,"value"],["matInput","","numbers","",3,"formControlName","placeholder"],["matInput","","mask","(000) 000-0000","numbers","",3,"formControlName","value","showMaskTyped","placeholder"],[1,"w-full"],["matInput","","type","text",1,"uppercase",3,"formControlName","placeholder","matAutocomplete"],[3,"optionSelected"],[1,"flex","flex-col"],["matInput","","type","text","tabindex","4",1,"uppercase",3,"formControl","placeholder","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"-ml-2",3,"color","formControlName"],[1,"mt-4",3,"appearance","type","showIcon"],[1,"mr-1","font-bold","uppercase"]],template:function(i,n){if(i&1){let d=H();s(0,"div",4)(1,"div",5)(2,"form",6)(3,"div",7)(4,"mat-form-field",8)(5,"mat-label"),l(6,"First Name"),o(),p(7,"mat-icon",9)(8,"input",10),o()(),s(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),l(12,"Last Name"),o(),p(13,"mat-icon",9)(14,"input",10),o()(),s(15,"div",7)(16,"mat-form-field",8)(17,"mat-label"),l(18,"Email"),o(),p(19,"mat-icon",9)(20,"input",10),o()(),s(21,"div",7)(22,"mat-form-field",8)(23,"mat-label"),l(24,"Address"),o(),p(25,"mat-icon",9)(26,"input",11),o()(),s(27,"div",7)(28,"mat-form-field",8)(29,"mat-label"),l(30,"Address 2"),o(),p(31,"mat-icon",9)(32,"input",11),o()(),s(33,"div",7)(34,"mat-form-field",8)(35,"mat-label"),l(36,"City"),o(),p(37,"mat-icon",9)(38,"input",12),o()(),s(39,"div",7)(40,"div",13)(41,"mat-form-field",14)(42,"mat-label",15),l(43,"State"),o(),p(44,"mat-icon",9)(45,"input",16),s(46,"mat-icon",17),l(47,"arrow_drop_down"),o(),s(48,"mat-autocomplete",null,0),ie(50,ta,5,3,"mat-option",18,pe),g(52,"async"),o()()()(),s(53,"div",7)(54,"mat-form-field",8)(55,"mat-label"),l(56,"Zip"),o(),p(57,"mat-icon",9)(58,"input",19),o()(),s(59,"div",7)(60,"mat-form-field",8)(61,"mat-label"),l(62,"Cell"),o(),p(63,"mat-icon",9)(64,"input",20),g(65,"phone"),o()(),s(66,"div",7)(67,"mat-form-field",8)(68,"mat-label"),l(69,"Phone"),o(),p(70,"mat-icon",9)(71,"input",20),g(72,"phone"),o()(),s(73,"div",7)(74,"mat-form-field",8)(75,"mat-label"),l(76,"Fax"),o(),p(77,"mat-icon",9)(78,"input",20),g(79,"phone"),o()(),s(80,"div",7)(81,"mat-form-field",21)(82,"mat-label"),l(83,"Categories"),o(),p(84,"mat-icon",9)(85,"input",22,1),s(87,"mat-autocomplete",23,2),_("optionSelected",function(m){return R(d),E(n.categoryhandler(m))}),ie(89,ia,2,2,"mat-option",18,pe),g(91,"async"),o()()(),s(92,"div",24)(93,"mat-form-field",8)(94,"mat-label"),l(95,"Branch"),o(),p(96,"mat-icon",9)(97,"input",25,1),s(99,"mat-autocomplete",23,3),_("optionSelected",function(m){return R(d),E(n.onBranchSelected(m.option.value))}),J(101,aa,2,2,"mat-option",26),g(102,"async"),o()()(),s(103,"div",7)(104,"mat-checkbox",27)(105,"span"),l(106,"Is Active?"),o()()(),J(107,ra,2,5,"fuse-alert",28),o()()()}if(i&2){let d=T(49),c=T(88),m=T(100);t(2),r("formGroup",n.contactForm),t(2),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:user-circle"),t(),r("formControlName","firstname")("placeholder","First Name")("spellcheck",!1),t(2),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:user-circle"),t(),r("formControlName","lastname")("placeholder","Last Name")("spellcheck",!1),t(2),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:mail"),t(),r("formControlName","email")("placeholder","Email")("spellcheck",!1),t(2),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:location-marker"),t(),r("formControlName","address")("placeholder","Address"),t(2),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:location-marker"),t(),r("formControlName","address2")("placeholder","Address 2"),t(2),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:location-marker"),t(),r("formControlName","city")("placeholder","City"),t(6),r("svgIcon","heroicons_solid:location-marker"),t(),r("matAutocomplete",d)("formControl",n.state),t(5),ae(y(52,66,n.filteredStates)),t(4),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:location-marker"),t(),r("formControlName","zip")("placeholder","Zip"),t(2),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:phone"),t(),r("formControlName","cell")("value",y(65,68,(n.contact==null?null:n.contact.cell)||""))("showMaskTyped",!0)("placeholder","Cell"),t(3),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:phone"),t(),r("formControlName","phone")("value",y(72,70,(n.contact==null?null:n.contact.phone)||""))("showMaskTyped",!0)("placeholder","Phone"),t(3),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:printer"),t(),r("formControlName","fax")("value",y(79,72,(n.contact==null?null:n.contact.fax)||""))("showMaskTyped",!0)("placeholder","Fax"),t(6),r("svgIcon","mat_outline:category"),t(),r("formControlName","territory")("placeholder","Categories")("matAutocomplete",c),t(4),ae(y(91,74,n.filteredCategories)),t(4),r("subscriptSizing","dynamic"),t(3),r("svgIcon","heroicons_solid:office-building"),t(),r("formControl",n.branchName)("placeholder","Branch")("matAutocomplete",m),t(4),r("ngForOf",y(102,76,n.branch$)),t(3),r("color","primary")("formControlName","isActive"),t(3),Se(n.alert?107:-1)}},dependencies:[le,we,oe,ne,Ie,se,De,Fe,Ee,Ae,Q,Lt,Me,de,Re,Pe,_e,$e,ge,je,Ut,Z,He],encapsulation:2,data:{animation:Be}})}};Ye=B([$()],Ye);var vi=(()=>{class a{constructor(){this.search=new St(null),this.search$=this.search.asObservable()}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275prov=te({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Je=class ct{constructor(e,i,n,d,c){this._fuseMediaWatcherService=e,this.searchService=i,this.auxSearchService=n,this.breakpointObserver=d,this.dialog=c,this.toggleMenu=!1,this.drawerMode="side",this.drawerOpened=!0,this.menuData=[{title:"Actions",subtitle:"Add new team member",type:"group",children:[{title:"Add Sales Rep",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}},{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()}}]},{title:"Filters",type:"group",children:[{title:"Active",type:"basic",icon:"heroicons_outline:clipboard-check",link:"./active"},{title:"Inactive",type:"basic",icon:"heroicons_outline:clipboard",link:"./inactive"}]}],this.searchCtrl=new Et,this.isHandset$=this.breakpointObserver.observe([it.Tablet,it.Handset]).pipe(b(m=>m.matches),vt())}ngOnInit(){this.searchCtrl.valueChanges.pipe(S(this)).subscribe(e=>this.auxSearchService.search.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(S(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}openCreate(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"ADD SALES REP",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Ye,dynamicComponentData:null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(zt,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(S(this)).subscribe(i=>{})}clearFilter(){this.auxSearchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(i){return new(i||ct)(f(Ne),f(vi),f(Rt),f(_t),f(Te))}}static{this.\u0275cmp=V({type:ct,selectors:[["ac-sales-center"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(i,n){if(i&1){let d=H();s(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),l(5," SalesCenter "),o()()(),s(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),p(10,"mat-icon",9)(11,"input",10),o()()()(),s(12,"div",11)(13,"button",12),_("click",function(){R(d);let m=T(17);return E(m.toggle())}),p(14,"mat-icon",13),o()()(),s(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),p(18,"aux-sidebar",16),o(),s(19,"mat-drawer-content",17)(20,"div",18),p(21,"router-outlet"),o()()()()}i&2&&(t(10),r("svgIcon","mat_outline:search"),t(),r("formControl",n.searchCtrl),t(3),r("svgIcon","heroicons_outline:menu"),t(2),r("autoFocus",!1)("mode",n.drawerMode)("opened",n.drawerOpened),t(2),r("menuData",n.menuData)("showTitle",!1)("title","SalesCode Actions"))},dependencies:[Q,le,oe,ne,se,Le,Ue,ze,Ht,Oe,ye],styles:[".max-w-sx[_ngcontent-%COMP%]{max-width:16rem!important}"],data:{animation:[Gt,qt,Wt,Kt]}})}};Je=B([$()],Je);var sa=()=>["/centers/sales-center/"];function la(a,e){if(a&1&&(s(0,"div",20),p(1,"ngx-avatars",24),s(2,"div",25)(3,"div",26)(4,"h2",27),l(5),o()(),s(6,"div",28)(7,"div",29),l(8),o()()()()),a&2){let i=ve();t(),r("name",(i.salesDetails==null?null:i.salesDetails.firstname)+" "+(i.salesDetails==null?null:i.salesDetails.lastname)),t(4),W(" ",i.salesDetails.firstname+" "+i.salesDetails.lastname," "),t(3),W(" ",i.salesDetailId," ")}}var Xe=class dt{constructor(e,i,n,d,c,m,tt){this._fuseMediaWatcherService=e,this.store=i,this.route=n,this.cdr=d,this.router=c,this.actions$=m,this.titleService=tt,this.drawerMode="side",this.drawerOpened=!0,this.loading$=this.store.select(M.selectLoading).pipe(),this.data$=this.route.paramMap.pipe(F(ht=>this.store.select(M.selectSalesRepById))),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.menuData=[{title:"Servicing Actions",type:"group",children:[{title:"Demographics",type:"basic",icon:"heroicons_outline:location-marker",link:"./demographics",classes:{wrapper:"padding-style"}}]}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.titleService.value$.pipe(S(this)).subscribe(e=>{setTimeout(()=>{this.title=e})}),K([this.route.paramMap]).pipe(S(this)).subscribe(()=>{this.salesDetailId=Number(this.route.snapshot.paramMap.get("id")),this.store.dispatch(u.LoadSalesById({id:this.salesDetailId}))}),this.data$.pipe(S(this)).subscribe(e=>{e&&(this.salesDetails=e)}),this.actions$.pipe(D(u.Refresh),S(this)).subscribe(e=>this.refresh.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(S(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){}static{this.\u0275fac=function(i){return new(i||dt)(f(Ne),f(L),f(re),f(xt),f(be),f(j),f(Jt))}}static{this.\u0275cmp=V({type:dt,selectors:[["app-sales-center-details"]],decls:40,vars:24,consts:[["matDrawer",""],[1,"flex","min-w-0","flex-auto","flex-col"],[1,"flex-auto"],[3,"show"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[1,"mx-6","mt-6","text-2xl","font-bold"],[3,"appearance","navigation","inner","mode","name","opened"],[1,"flex","flex-col"],[1,"bg-card","flex","flex-0","flex-col","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:pb-0","sm:pt-2"],[1,"min-w-0","flex-1"],[1,"hidden","w-full","flex-wrap","items-center","font-medium","sm:flex"],[1,"whitespace-nowrap","text-sm","font-bold","uppercase","tracking-wider","text-primary-500"],[1,"ml-1","flex","items-center","whitespace-nowrap"],[1,"text-secondary","icon-size-5",3,"svgIcon"],[1,"ml-1","whitespace-nowrap","text-sm","font-bold","uppercase","tracking-wider","text-primary-500",3,"routerLink"],[1,"text-secondary","ml-1","whitespace-nowrap","text-sm","font-bold","uppercase","tracking-wider"],[1,"flex","pl-4","pt-4","sm:hidden"],[1,"text-secondary","-ml-1.5","inline-flex","items-center","font-medium",3,"routerLink"],[1,"ml-1"],[1,"bg-card","flex","flex-0","flex-col","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:pb-4","sm:pt-0"],[1,"flex"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],["size","75",1,"mr-4","mt-1",3,"name"],[1,"items-left","my-auto"],[1,"grid"],[1,"my-auto","truncate","text-2xl","font-extrabold","leading-7","sm:leading-10","md:text-3xl"],[1,"flex","items-center"],[1,"mr-2","flex","flex-none","items-center","rounded","bg-yellow-300","px-2","text-xs","font-medium"]],template:function(i,n){if(i&1){let d=H();s(0,"div",1)(1,"mat-drawer-container",2),p(2,"ac-loading-overlay",3),g(3,"async"),s(4,"mat-drawer",4,0)(6,"div",5),l(7,"Sales Details"),o(),p(8,"fuse-vertical-navigation",6),o(),s(9,"mat-drawer-content",7)(10,"div",8)(11,"div",9)(12,"div")(13,"div",10)(14,"div")(15,"a",11),l(16,"Home"),o()(),s(17,"div",12),p(18,"mat-icon",13),s(19,"a",14),l(20,"Sales Center"),o()(),s(21,"div",12),p(22,"mat-icon",13),s(23,"span",15),l(24),o()()(),s(25,"div",16)(26,"a",17),p(27,"mat-icon",13),s(28,"span",18),l(29,"Back"),o()()()()()(),s(30,"div",19)(31,"div",9),J(32,la,9,3,"div",20),o(),s(33,"div",21)(34,"button",22),_("click",function(){R(d);let m=T(5);return E(m.toggle())}),p(35,"mat-icon",23),o()()(),s(36,"div",2),p(37,"ac-loading-overlay",3),g(38,"async"),p(39,"router-outlet"),o()()()()}i&2&&(t(2),r("show",y(3,19,n.loading$)),t(2),r("autoFocus",!1)("mode",n.drawerMode)("opened",n.drawerOpened),t(4),r("appearance","default")("navigation",n.menuData)("inner",!0)("mode","side")("name","patient-details-navigation")("opened",!0),t(10),r("svgIcon","heroicons_solid:chevron-right"),t(),r("routerLink",bt(23,sa)),t(3),r("svgIcon","heroicons_solid:chevron-right"),t(2),U(n.title),t(2),r("routerLink","./.."),t(),r("svgIcon","heroicons_solid:chevron-left"),t(5),Se(n.salesDetails?32:-1),t(3),r("svgIcon","heroicons_outline:menu"),t(2),r("show",y(38,21,n.loading$)))},dependencies:[Ue,At,ze,Pt,Oe,Q,It,ei,Xt,Le,ye,Z],encapsulation:2,changeDetection:0})}};Xe=B([$()],Xe);var et=class ut{constructor(e,i,n,d,c,m,tt,ht){this.store=e,this.route=i,this.actions$=n,this.router=d,this.dateTime=c,this.phonenumber=m,this.dialog=tt,this._fuseConfirmationService=ht,this.columnDefs=[{headerName:"ID",minWidth:65,field:"id",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Sales Code",minWidth:120,field:"salescode",filter:"agMultiColumnFilter",sortIndex:2,hide:!1},{headerName:"Last Name",minWidth:170,field:"lastname",filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"First Name",minWidth:170,field:"firstname",filter:"agMultiColumnFilter",sortIndex:4,hide:!1},{headerName:"Address 2",minWidth:200,field:"address2",filter:"agMultiColumnFilter",sortIndex:5,hide:!1},{headerName:"City",minWidth:150,field:"city",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"State",minWidth:70,field:"state",filter:"agMultiColumnFilter",sortIndex:7,hide:!1},{headerName:"Zip",minWidth:75,field:"zip",filter:"agMultiColumnFilter",sortIndex:8,hide:!1},{headerName:"Cell",minWidth:150,field:"cell",cellRenderer:at,cellRendererParams:{field:"cell"},filter:"agMultiColumnFilter",sortIndex:11,hide:!1,valueFormatter:G=>this.phonenumber.transform(G.data.cell)},{headerName:"Phone",minWidth:150,field:"phone",cellRenderer:at,cellRendererParams:{field:"phone"},filter:"agMultiColumnFilter",sortIndex:9,hide:!1,valueFormatter:G=>this.phonenumber.transform(G.data.phone)},{headerName:"Fax",minWidth:150,field:"fax",filter:"agMultiColumnFilter",sortIndex:10,hide:!1,valueFormatter:G=>this.phonenumber.transform(G.data.fax)},{headerName:"Email",minWidth:325,field:"email",filter:"agMultiColumnFilter",sortIndex:12,hide:!1},{headerName:"Branch ID",minWidth:200,field:"branchid",filter:"agMultiColumnFilter",sortIndex:13,hide:!1},{headerName:"Branch Name",minWidth:200,field:"branchName",filter:"agMultiColumnFilter",sortIndex:13,hide:!1},{headerName:"Territory",minWidth:130,field:"territory",filter:"agMultiColumnFilter",sortIndex:14,hide:!1},{headerName:"Added Date",minWidth:200,field:"adddate",filter:"agDateColumnFilter",valueFormatter:G=>this.dateTime.transform(G.data.adddate),filterParams:Zt,sortIndex:15,hide:!1},{headerName:"Added By",minWidth:125,field:"adduserid",filter:"agMultiColumnFilter",sortIndex:16,hide:!1}],this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.visibleColumns=["id","lastname","firstname","city","state","cell","email","adduserid"],this.loading$=this.store.select(M.selectLoading),this.data$=this.route.paramMap.pipe(F(G=>this.store.select(M.selectSalesReps))),this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.selection=new Ot(!0,[])}ngOnInit(){K([this.route.paramMap,this.refresh$.pipe(k(null))]).pipe(S(this)).subscribe(([e])=>{switch(e.get("filterSlug")){case"active":this.store.dispatch(u.LoadSalesReps({filter:"ACTIVE"}));break;case"inactive":this.store.dispatch(u.LoadSalesReps({filter:"INACTIVE"}));break}}),this.data$.pipe(S(this)).subscribe(e=>{this.rowData=e}),this.actions$.pipe(D(u.Refresh),S(this)).subscribe(e=>this.refresh.next(e))}ngAfterViewInit(){}openItem(e){this.router.navigateByUrl(`/centers/sales-center/${e.api.getSelectedRows()[0].id}/demographics`)}deleteData(e){this.deleteContact(e.data)}deleteContact(e){this._fuseConfirmationService.open({title:"Delete Sales Rep",message:"Are you sure you want to delete this sales rep? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(S(this)).subscribe(n=>{n==="confirmed"&&this.store.dispatch(u.DeleteSalesRep({dto:e}))})}onSelectionChanged(e){["actions","cell"].includes(e.column.colId)||this.openItem(e)}static{this.\u0275fac=function(i){return new(i||ut)(f(L),f(re),f(j),f(be),f(We),f(Ke),f(Te),f(kt))}}static{this.\u0275cmp=V({type:ut,selectors:[["ac-sales-center-table"]],features:[Ce([We,Ke])],decls:4,vars:9,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"cellClicked","gridOptions","component","rowData","columnDefs","visibleColumns","agGridHeight","loading"]],template:function(i,n){i&1&&(s(0,"div",0)(1,"div",1)(2,"aux-ag-grid",2),g(3,"async"),_("cellClicked",function(c){return n.onSelectionChanged(c)}),o()()()),i&2&&(t(2),r("gridOptions",n.options)("component","salescenter")("rowData",n.rowData)("columnDefs",n.columnDefs)("visibleColumns",n.visibleColumns)("agGridHeight","calc(100vh - 292px)")("loading",y(3,7,n.loading$)))},dependencies:[Qt,Z],encapsulation:2,changeDetection:0})}};et=B([$()],et);var Ci=(()=>{class a{constructor(i,n,d){this.actions$=i,this.apiService=n,this.store=d,this.addSalesRep$=P(()=>this.actions$.pipe(D(v.AddSalesRep),F(c=>this.apiService.saveSalesRep(c.salesrep).pipe(b(m=>(ce.ADD_SUCCESS(),v.AddSalesRepSuccess({salesrep:m}))),z(m=>(ce.ADD_FAILURE(),O(v.AddSalesRepFailure({error:m.error})))))))),this.updateSalesRep$=P(()=>this.actions$.pipe(D(v.UpdateSalesRep),F(c=>this.apiService.saveSalesRep(c.salesrep).pipe(b(m=>(ce.EDIT_SUCCESS(),v.AddSalesRepSuccess({salesrep:m}))),z(m=>(ce.EDIT_FAILURE(),O(v.AddSalesRepFailure({error:m.error})))))))),this.LoadBranches$=P(()=>this.actions$.pipe(D(v.LoadBranchDropDown),F(c=>this.apiService.getBranchList().pipe(b(m=>v.LoadBranchDropDownSuccess({branch:m})),z(m=>O(v.LoadBranchDropDownFailure({error:m.error})))))))}static{this.\u0275fac=function(n){return new(n||a)(q(j),q(ke),q(L))}}static{this.\u0275prov=te({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var gi=(()=>{class a{constructor(i,n,d){this.actions$=i,this.store=n,this.apiService=d,this.loadSalesReps$=P(()=>this.actions$.pipe(D(u.LoadSalesReps),F(c=>this.apiService.getSalesReps(c.filter).pipe(b(m=>u.LoadSalesRepsSuccess({salesreps:m})),z(m=>O(u.LoadSalesRepsFailure({error:m.error}))))))),this.deleteSale$=P(()=>this.actions$.pipe(D(u.DeleteSalesRep),F(c=>this.apiService.deleteSalesRep(c.dto).pipe(b(m=>u.DeleteSalesRepSuccess()),z(m=>O(u.DeleteSalesRepFailure({error:m.error}))))))),this.getSalesByIdRe$=P(()=>this.actions$.pipe(D(u.LoadSalesById),F(c=>this.apiService.getSalesRep(c.id).pipe(b(m=>u.LoadSalesByIdSuccess({salesRepById:m})),z(m=>O(u.LoadSalesByIdFailure({error:m.error}))))))),this.LoadCityAndStateDropDown$=P(()=>this.actions$.pipe(D(u.LoadCityAndStateDropDown),F(c=>this.apiService.getStateCityBasedOnZipCode(c.zipCode).pipe(b(m=>u.LoadCityAndStateDropDownSuccess({zipCodeLookup:m})),z(m=>O(u.LoadCityAndStateDropDownFailure({error:m.error}))))))),this.refresh$=P(()=>this.actions$.pipe(D(v.AddSalesRepSuccess,v.UpdateSalesRepSuccess,u.DeleteSalesRepSuccess),b(()=>u.Refresh())))}static{this.\u0275fac=function(n){return new(n||a)(q(j),q(L),q(ke))}}static{this.\u0275prov=te({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var ft=[Ft(lt,di),Vt([gi,Ci])];var Oo=[{path:"",canActivate:[rt],component:Je,providers:ft,children:[{path:"",redirectTo:"active",pathMatch:"full"},{path:":filterSlug",component:et}]},{path:":id",canActivate:[rt],component:Xe,providers:ft,children:[{path:"",redirectTo:"demographics",pathMatch:"full"},{path:"demographics",component:Ze}]}];export{Oo as default};
