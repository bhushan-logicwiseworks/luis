import{a as Ys,b as Ks,c as Qs,d as Xs}from"./chunk-E3I4DFOU.js";import{a as fo,b as As}from"./chunk-J2BYJM64.js";import{a as ho,b as ws}from"./chunk-US4VIAPG.js";import{a as uo,b as _s}from"./chunk-GYNEZ7BS.js";import{a as el}from"./chunk-POE2GWAF.js";import{f as Os,g as At,h as js,i as Rs,j as $s,k as Bs,l as Vs,m as Ls,n as Ws,o as Gs,p as Us,q as Hs}from"./chunk-PPBQGNMY.js";import"./chunk-XPFFTSXC.js";import{a as Ts}from"./chunk-5I4OC3DK.js";import{a as xs,b as Zt,c as _i,d as li,e as wi,f as qs}from"./chunk-FQEWWJX2.js";import{a as Wa}from"./chunk-BA35O3D2.js";import{c as ks}from"./chunk-ZCEPZISC.js";import{a as zs,d as go}from"./chunk-Y7YUQZKJ.js";import{a as Ds}from"./chunk-B6K5K6RV.js";import{a as Js}from"./chunk-XPG6R2TU.js";import{a as La}from"./chunk-XNSTYRIR.js";import{a as bs}from"./chunk-OEH4H5Q5.js";import{o as fi}from"./chunk-ARGWYLIT.js";import{a as Ba,b as Is,c as Es}from"./chunk-62KJ75TI.js";import{a as Ft}from"./chunk-EQEFPPMX.js";import{l as Fs,m as Ms,n as Zs}from"./chunk-PSB55E7I.js";import{a as Ps}from"./chunk-LQP35CM2.js";import{a as Va,b as Ns}from"./chunk-JST4RBVZ.js";import{c as Ra,d as $a}from"./chunk-T6SOJJBJ.js";import{i as ds}from"./chunk-FVWJTMHT.js";import{a as ms}from"./chunk-JBP6HANX.js";import{a as ss,b as ls}from"./chunk-YO73HNCF.js";import{b as ps,c as cs}from"./chunk-EK6R63FN.js";import{a as Zi}from"./chunk-ZKZQT5NF.js";import{a as Ji}from"./chunk-2RC5KJLV.js";import{a as le}from"./chunk-TJLYJQXY.js";import{a as us,b as hs}from"./chunk-D7SFZ6EE.js";import{a as Mi}from"./chunk-ZXWBVHHI.js";import{a as es}from"./chunk-WAL4G5HG.js";import{a as no}from"./chunk-GSIASDE6.js";import{a as pt}from"./chunk-6LE6SZDP.js";import{a as rs}from"./chunk-CDD7M2DC.js";import{a as hi}from"./chunk-BRERDI67.js";import{a as Wt}from"./chunk-DOHNGIRK.js";import{a as Oi,b as Xi}from"./chunk-CFVP3FCT.js";import{a as Lt}from"./chunk-EPDAUZIC.js";import{a as os}from"./chunk-X74UJ3QR.js";import{a as as}from"./chunk-VGE2PNKJ.js";import{a as ts,b as ns}from"./chunk-7O4GN6JJ.js";import{a as is}from"./chunk-RW26HZBH.js";import{a as xe}from"./chunk-Y5RI4PHI.js";import{a as Na,b as ka,c as Ma}from"./chunk-BLZL7MQY.js";import{a as J,c as se}from"./chunk-OJSM7WWP.js";import{a as Xr,b as Zr,c as Jr,d as co}from"./chunk-BVPIHI5K.js";import"./chunk-G3BC7QXL.js";import{a as gt,b as Aa,f as Ot}from"./chunk-HTMKYO5H.js";import{a as vi,e as Ss,g as yi}from"./chunk-OKOLWBZG.js";import{$ as ja,A as Si,B as gs,C as Cs,D as Ei,E as $e,F as Pi,G as Xt,H as ri,I as oo,J as ra,K as sa,L as Ri,M as qt,N as Pe,O as Fi,P as la,Q as si,R as vs,S as ro,T as so,U as ma,V as lo,W as mo,X as ys,Y as Oa,Z as po,_ as ze,a as Gt,aa as Ci,b as Ut,ba as da,c as dt,d as Xe,e as Ye,f as wt,g as je,h as rt,i as ea,j as He,k as gi,l as ta,m as Ct,n as ji,o as Ht,p as Ge,q as qe,r as Bi,s as vt,t as oe,u as Te,v as jt,w as ia,x as Ke,y as xi,z as fs}from"./chunk-4RIDPFY2.js";import{a as Ue}from"./chunk-6YJMKPRN.js";import{a as Di,b as ao}from"./chunk-PRXHNPXO.js";import{a as Ta}from"./chunk-OD2F5SLA.js";import{a as q}from"./chunk-PVSGC5X6.js";import"./chunk-WX54DYK2.js";import"./chunk-PL5OXHAL.js";import{a as Z}from"./chunk-FJCYNQP7.js";import"./chunk-XMHJJKH6.js";import{a as Ve}from"./chunk-YCMFPTNH.js";import{b as ui}from"./chunk-PAS4GHRS.js";import{a as Et,c as Ze}from"./chunk-VRDZKI6P.js";import{a as xt,b as St,c as Pt}from"./chunk-6HRBECBJ.js";import{c as wa}from"./chunk-E6UI7ODH.js";import{a as ue}from"./chunk-V2BYYYUY.js";import{a as ot}from"./chunk-ODTVUJKH.js";import{a as ke}from"./chunk-Z76PEBTC.js";import{c as Qr}from"./chunk-GLNCR2H3.js";import{b as E}from"./chunk-M7CNBRZG.js";import"./chunk-2LVKS4R7.js";import{a as ge}from"./chunk-BWPVOFCI.js";import"./chunk-T6JQBFCO.js";import{a as Ki}from"./chunk-VK4TGBYQ.js";import{c as Be,d as nt,e as z}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as be}from"./chunk-3IAIBVAD.js";import{a as Yt}from"./chunk-QZ2WTBPW.js";import{c as Qi}from"./chunk-KFQHPBEM.js";import{a as io}from"./chunk-7RWCIHFI.js";import{a as Vt,b as Qt}from"./chunk-HIKYOSQ5.js";import{c as Kt}from"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import{e as lt}from"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{a as T,b as L,c as b,e as Kr}from"./chunk-W6W3L4PS.js";import"./chunk-ZKDLRTZU.js";import"./chunk-FADVVZG5.js";import{n as F,q as to}from"./chunk-7TJE7DO7.js";import{a as _t}from"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import{a as Bl}from"./chunk-2SL7SW2K.js";import{b as Yr}from"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{a as oi}from"./chunk-WTDAEWCX.js";import{a as Ia,c as Fe}from"./chunk-6WEMRU4N.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import{a as Ie,b as Dt,c as Re,d as mt,g as ni,h as Ee}from"./chunk-BV6IOHNV.js";import{A as bt,B as st,C as Yi,D as fe,b as Hr,c as De,e as et,g as qr,h as he,i as _e,l as at,m as Me,n as zi,o as Oe,q as $t,r as we,t as Ne}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{l as zr,o as Ea,q as Fa}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import{a as Bt}from"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import{a as Ae}from"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as k,b as h}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as ye,p as Ur}from"./chunk-HJKZPT2B.js";import{b as K,c as _a,d as O,e as Gr}from"./chunk-W5GYUEPJ.js";import{$b as c,Ab as A,Bc as re,Cb as Da,Cc as $r,Dc as We,Ec as Ii,G as Ai,Gb as R,Gd as Pa,Ha as Or,Ia as P,Ic as w,J as V,Ja as _,Jc as I,Kc as Br,L as Le,Mc as Sa,N as zt,Ob as r,Pb as Ui,Q as kr,Qb as Ti,S as it,Sc as ce,Ta as $i,Tb as di,Ub as Hi,Vb as B,Wb as de,Xb as ae,Ya as jr,Yb as ne,Zb as n,_b as a,ac as qi,bc as Ni,da as Mr,dc as Se,f as ee,fc as v,ga as Q,gc as U,gd as Vr,ha as j,hd as Rt,id as pi,jd as Lr,kb as Gi,kc as eo,la as Jt,lb as Jn,mc as ut,md as G,nc as ht,oc as ft,od as Wr,p as M,pb as o,qa as ve,qd as ki,rc as Y,sc as l,sd as ci,tb as p,tc as $,uc as W,v as x,vc as xa,w as te,wa as X,wc as Rr,x as ba,xc as ei,yc as ti,zc as ii}from"./chunk-3Q5CJMKA.js";import{b as N}from"./chunk-WFMAM73Y.js";import{a as Je,b as ai,g as $l}from"./chunk-2AVGQ2MQ.js";var tl=(()=>{class d{constructor(i){this.store=i}loadBranchList(){return this.store.select(qt.selectBranch).pipe(zt(1),j(i=>((!i||i.length===0)&&this.store.dispatch(je.LoadBranchDropDown()),M(!0))))}canActivate(){return this.loadBranchList().pipe(j(()=>M(!0)),V(i=>(console.error("Error loading branch list:",i),M(!1))))}static{this.\u0275fac=function(t){return new(t||d)(X(F))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var il=(()=>{class d{constructor(i){this.store=i}loadBranchList(){return this.store.select(si.selectBranch).pipe(zt(1),j(i=>((!i||i.length===0)&&this.store.dispatch(Ge.LoadBranchDropDown()),M(!0))))}canActivate(){return this.loadBranchList().pipe(j(()=>M(!0)),V(i=>(console.error("Error loading branch list:",i),M(!1))))}static{this.\u0275fac=function(t){return new(t||d)(X(F))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var al=(()=>{class d{constructor(i){this.store=i}loadBranchList(){return this.store.select(Pe.selectBranch).pipe(zt(1),j(i=>((!i||i.length===0)&&this.store.dispatch(Te.LoadBranchDropDown()),M(!0))))}canActivate(){return this.loadBranchList().pipe(j(()=>M(!0)),V(i=>(console.error("Error loading branch list:",i),M(!1))))}static{this.\u0275fac=function(t){return new(t||d)(X(F))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var nl=(()=>{class d{loadInTakeAndSalesPerson(i){return this.store.select(Pe.selectPatientInquiryChangesState).pipe(zt(1),j(t=>(t.printstatus.length||this.store.dispatch(Te.PrintStatusDropDown()),t.billType.length||this.store.dispatch(Te.BillTypeDropdown()),t.claimType.length||this.store.dispatch(Te.ClaimTypeDropdown()),t.pwkMethod.length||this.store.dispatch(Te.PwkMethodDropdown()),t.tranType.length||this.store.dispatch(Te.TranTypeDropdown()),t.pwkType.length||this.store.dispatch(Te.PwkTypeDropdown()),t.salesrep.length||this.store.dispatch(Te.LoadPatientSalesRep()),t.billTo.length||this.store.dispatch(Te.BillTo({patientId:i.parent.params.id})),t.icdCode.length||this.store.dispatch(Te.IcdCode({patientId:i.parent.params.id})),t.physician.length||this.store.dispatch(Te.Physician({patientId:i.parent.params.id})),M(!0))))}constructor(i){this.store=i}canActivate(i){return this.loadInTakeAndSalesPerson(i).pipe(j(()=>M(!0)),V(t=>(console.log("Error",t),M(!1))))}static{this.\u0275fac=function(t){return new(t||d)(X(F))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var aa=(()=>{class d{constructor(i,t,s,m){if(this.data=i,this.store=t,this._matDialog=s,this.searchService=m,this.columnDefs=[{headerName:"ID",minWidth:90,field:"id",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Code",minWidth:150,field:"code",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Description",minWidth:500,field:"description",filter:"agMultiColumnFilter",sortIndex:2,hide:!1}],this.visibleColumns=["id","code","description"],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.loading$=this.store.select(qt.selectLoading),this.rowData$=this.store.select(qt.selectAmtAdjustedCode),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.amtadjustedCode="",this.data)if(this.amtadjustedCode=this.data.dynamicComponentData&&this.data.dynamicComponentData?.amtadjustedCode||"",this.amtadjustedCode){let u={amtadjustedCode:{filterType:"multi",filterModels:[{filterType:"text",type:"contains",filter:this.data.dynamicComponentData.amtadjustedCode}]}};this.searchService.saveFilterState(u,"amtadjustedCodeList")}else this.searchService.saveFilterState({},"amtadjustedCodeList")}ngOnInit(){this.store.dispatch(je.AmtAdjustedCodeDropdown())}selectRowSubmit(){this._matDialog.close(this.selectedItem),this.selectedItem=null}selectionChange(i){this.selectedItem=i.api.getSelectedRows()[0]}static{this.\u0275fac=function(t){return new(t||d)(p(nt,8),p(F),p(Be),p(be))}}static{this.\u0275cmp=A({type:d,selectors:[["app-amtadjusted-code-list"]],decls:4,vars:11,consts:[[1,"relative","bg-white","shadow"],[3,"cellClicked","gridOptions","columnDefs","rowData","visibleColumns","agGridHeight","loading","component"]],template:function(t,s){t&1&&(n(0,"div",0)(1,"aux-ag-grid",1),w(2,"async"),w(3,"async"),v("cellClicked",function(u){return s.selectionChange(u)}),a()()),t&2&&(o(),r("gridOptions",s.options)("columnDefs",s.columnDefs)("rowData",I(2,7,s.rowData$))("visibleColumns",s.visibleColumns)("agGridHeight","calc(100vh - 312px)")("loading",I(3,9,s.loading$))("component",s.amtadjustedCode?"amtadjustedCodeList":""))},dependencies:[se,G],styles:[".remove-margin[_ngcontent-%COMP%]{margin:-24px}"]})}}return d})();function Vl(d,e){if(d&1&&(n(0,"p",12),l(1),a()),d&2){let i=U();o(),W(" ",i.arHistoryId," ")}}function Ll(d,e){if(d&1&&(n(0,"mat-option",32)(1,"div",104)(2,"h2",105),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.value),o(3),$(i.value),o(),W(" ",i.description," ")}}function Wl(d,e){if(d&1&&(n(0,"mat-option",32),l(1),a()),d&2){let i=e.$implicit;r("value",i),o(),W(" ",i.branchcode," ")}}function Gl(d,e){if(d&1&&(n(0,"mat-option",32)(1,"div",104)(2,"h2",105),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.billType),o(3),$(i.billType),o(),W(" ",i.description," ")}}function Ul(d,e){if(d&1&&(n(0,"mat-option",32)(1,"div",104)(2,"h2",105),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function Hl(d,e){if(d&1&&(n(0,"mat-option",32)(1,"div",104)(2,"h2",105),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function ql(d,e){if(d&1&&(n(0,"mat-option",32)(1,"div",104)(2,"h2",105),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function zl(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function Yl(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}var Ga=class Co{constructor(e,i,t,s,m,u,C){this.store=e,this.route=i,this.formBuilder=t,this.auxUtilService=s,this.router=m,this.matDialog=u,this.searchService=C,this.arHistoryId=null,this.dateFormat=ot.DATE_FORMAT,this.arHistoryById$=this.store.select(qt.selectArHistoryById),this.itemCode$=this.store.select(Ot.selectItemCode),this.branchName=new at,this.branch$=this.store.select(qt.selectBranch),this.selectedPayors$=this.store.select(Ot.selectPayorsDetail),this.placeOfServiceReps$=this.store.select($e.selectPlaceOfService),this.placeOfServiceDropdown=[],this.billType$=this.store.select(qt.selectArBillType),this.tranType$=this.store.select(Pe.selectTranType).pipe(x(f=>f.map(y=>({code:y.code,description:y.description||y.code})))),this.PrintStatusDropDown$=this.store.select(Pe.selectPrintStatus).pipe(x(f=>f.map(y=>({code:y.code,description:y.description||y.code})))),this.AmtAdjustedCodeDropdown$=this.store.select(qt.selectAmtAdjustedCode).pipe(x(f=>f.map(y=>({code:y.code})))),this.primaryBillForm$=this.store.select(yi.selectPayorPrimaryBillForm).pipe(x(f=>f.map(y=>({name:y.code,value:y.code,description:y.description||y.code}))));let D=Number(this.router.url.split("/")[3]);this.store.dispatch(gt.BillTypeDropdown()),this.store.dispatch(Te.TranTypeDropdown()),this.store.dispatch(je.AmtAdjustedCodeDropdown()),this.store.dispatch(Te.PrintStatusDropDown()),this.store.dispatch(vi.LoadPrimaryBillFormDropDown()),this.store.dispatch(qe.LoadPlaceOfServiceDropDown()),this.store.dispatch(je.BillTypeDropdown()),this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}}]}ngOnInit(){this.arHistoryForm=this.formBuilder.group({id:[0],patientid:[""],patientpayorid:[""],payorid:[],payorName:[""],svcdate:[""],billform:[""],itemid:[""],itemcode:[""],branchid:[""],hcpcscode:[""],epsdt:[""],billtype:[""],trantype:[""],printstatus:[""],description:[""],pos:[""],batchno:[""],checkno:[""],checkdate:[""],postingdate:[""],postdate:[""],isincollections:[!1],icn:[""],msg1:[""],msg2:[""],msg3:[""],msg4:[""],msg5:[""],submitted:[""],quantity:[""],allowed:[""],tranamount:[""],amountpaid:[""],amountadjusted1:[""],amountadjusted2:[""],amountadjusted3:[""],amountadjusted4:[""],amountadjusted5:[""],amountadjusted6:[""],adjustmentcode1:[""],adjustmentcode2:[""],adjustmentcode3:[""],adjustmentcode4:[""],adjustmentcode5:[""],adjustmentcode6:[""],balance:[""],collectionstatus:[""],datebilled1:[""],datebilled2:[""],datebilled3:[""]}),this.route.paramMap.pipe(h(this)).subscribe(e=>{this.arHistoryId=e.get("id"),this.arHistoryId&&(this.store.dispatch(je.LoadHistoryById({arHistoryId:this.arHistoryId})),this.arHistoryForm.get("id").setValue(this.arHistoryId),this.patchForm())}),this.billType$.pipe(h(this)).subscribe(e=>{this.billTypeDropDown=e}),this.tranType$.pipe(h(this)).subscribe(e=>{this.tranTypeDropdown=e}),this.PrintStatusDropDown$.pipe(h(this)).subscribe(e=>{this.PrintStatusDropDown=e}),this.AmtAdjustedCodeDropdown$.pipe(h(this)).subscribe(e=>{this.AmtAdjustedCodeDropdown=e}),this.primaryBillForm$.pipe(h(this)).subscribe(e=>{this.primaryBillFormdropdown=e}),this.placeOfServiceReps$.pipe(h(this)).subscribe(e=>{this.placeOfServiceDropdown=e})}save(){let e=this.arHistoryForm.value;e=this.auxUtilService.transFormValues(e,Di),e=this.auxUtilService.transFormValuesToUpperCase(e,["description","icn","msg1","msg2","msg3","msg4","msg5","batchno","checkno"]),e.itemCode===""&&(e.itemid=0),e=this.auxUtilService.transformBankStringToDefaultDate(e,["svcdate","checkdate","postdate","datebilled1","datebilled2","datebilled3"]),e=this.auxUtilService.formatDateFields(e,["svcdate","checkdate","postdate","datebilled1","datebilled2","datebilled3"]),e=this.auxUtilService.cleanData(e),this.store.dispatch(je.saveArHistory({arHistory:e}))}get selectedBillType(){return this.billTypeDropDown.find(e=>e.billType===this.arHistoryForm.get("billtype")?.value)?.billType}get selectedTranType(){return this.tranTypeDropdown.find(e=>e.code===this.arHistoryForm.get("trantype")?.value)?.code}get selectedPrintStatus(){return this.PrintStatusDropDown.find(e=>e.code===this.arHistoryForm.get("printstatus")?.value)?.code}get selectedAmtAdjustedCode(){return this.AmtAdjustedCodeDropdown.find(e=>e.code===this.arHistoryForm.get("adjustmentcode1")?.value)?.code}get selectedPlaceOfService(){return this.placeOfServiceDropdown.find(e=>e.code===this.arHistoryForm.get("pos")?.value)?.code}get selectedPrimaryBillForm(){return this.primaryBillFormdropdown.find(e=>e.value===this.arHistoryForm.get("billform")?.value)?.name}patchForm(){this.arHistoryById$.pipe(h(this)).subscribe(e=>{if(e!=null){this.arHistoryDisp=e[0];let i=[e[0].payorid];if(this.store.dispatch(gt.LoadPayorDetails({id:i})),this.arHistoryDisp.itemid!==0){this.itemCode$.pipe(h(this)).subscribe(C=>{this.arHistoryForm.get("itemcode").setValue(C.desciption)});let u=this.arHistoryDisp.itemid;this.store.dispatch(gt.getItemCode({id:u}))}else this.arHistoryForm.get("itemcode").setValue("");this.selectedPayors$.pipe(h(this)).subscribe(u=>{if(u&&u!=null&&u.id===this.arHistoryForm.get("payorid").value){let C=u.billto?`${u.id} - ${u.billto}`:`${u.billto} `;this.arHistoryForm.get("payorName").setValue(C),this.arHistoryForm.get("payorid").setValue(u.id)}});let t=Je({},this.arHistoryDisp);t.branchid=this.arHistoryDisp.branchid.toString();let s="1900-01-01T00:00:00";["checkdate","postdate","datebilled1","datebilled2","datebilled3","svcdate"].forEach(u=>{t[u]===s&&(t[u]="")}),this.arHistoryForm.patchValue(t),te([this.branch$,this.arHistoryForm.get("branchid").valueChanges.pipe(Q(this.arHistoryForm.get("branchid").value))]).pipe(h(this)).subscribe(([u,C])=>{if(u&&Number(C)){let D=u.find(f=>f.id===Number(C));D&&this.onBranchSelected(D)}})}})}backToListing(){window.history.back()}openItemList(){let e={icon:"mat_outline:edit_note",title:"Select Item Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fi,dynamicComponentData:{itemCode:this.arHistoryForm.get("itemcode").value},submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:e}).afterClosed().subscribe(t=>{t&&(this.arHistoryForm.get("itemcode").setValue(t.itemcode),this.arHistoryForm.get("description").setValue(t.description),this.arHistoryForm.get("itemid").setValue(t.id))})}onDateChange(e,i){this.arHistoryForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.arHistoryForm,i)}openPayorList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Payors",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Zt,dynamicComponentData:this.arHistoryForm.get("patientid").value,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"50%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{if(t){let s=t.billTo?`${t.payorId} - ${t.billTo}`:`${t.billTo} `;this.arHistoryForm.get("payorName").setValue(s),this.arHistoryForm.get("patientpayorid").setValue(t.id),this.arHistoryForm.get("payorid").setValue(t.payorId)}})}openAdjustmentCodeList(e){let i={icon:"mat_outline:edit_note",title:"Select Adjustment Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:aa,dynamicComponentData:{amtadjustedCode:this.arHistoryForm.get(e).value},submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:i}).afterClosed().subscribe(s=>{s&&this.arHistoryForm.get(e).setValue(s.code)})}trackByFn(e){return e.abbreviation}onBranchSelected(e){let i=e;this.arHistoryForm.get("branchid").setValue(i.id,{emitEvent:!1}),this.branchName.setValue(i.branchcode)}static{this.\u0275fac=function(i){return new(i||Co)(p(F),p(K),p(st),p(ke),p(O),p(z),p(be))}}static{this.\u0275cmp=A({type:Co,selectors:[["app-patient-ar-history-edit"]],decls:298,vars:75,consts:[["serviceDate","matDatepicker"],["autoInput",""],["auto2","matAutocomplete"],["AuthToDate","matDatepicker"],["PostDate","matDatepicker"],["billed1datepicker","matDatepicker"],["billed2datepicker","matDatepicker"],["billed3datepicker","matDatepicker"],[1,"flex","w-full","flex-col"],[1,"flex","w-full","items-center","bg-white","p-3","shadow","dark:bg-transparent"],[3,"click"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"svgIcon"],[1,"status","ml-3","flex","flex-none","items-center","rounded","bg-primary-100","px-3","py-1.5","text-xs","font-medium","text-accent-600"],[3,"navigation","name"],[1,"ar-history","w-full"],[1,"w-full",3,"formGroup"],[1,"w-full","p-1","pb-0"],[1,"w-full","border","bg-white","p-3","shadow","dark:bg-transparent","md:w-full"],[1,"mt-2"],[1,"flex","w-full","flex-col","md:flex-row","md:flex-wrap","lg:flex-nowrap"],[1,"flex","items-center","gap-x-2"],[1,"w-30","text-right"],["appearance","outline",1,"m-0","w-30"],["matInput","",3,"change","matDatepicker","placeholder","formControlName"],["matIconSuffix","",3,"for"],[1,"flex","items-center"],["appearance","outline",1,"m-0","w-40"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","ml-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"ml-4","flex","items-center","gap-x-2"],[1,"w-10","text-right"],[3,"formControlName","panelClass","tabindex"],[3,"value"],[1,"w-15","text-right"],["matInput","","type","text","tabindex","4",1,"uppercase",3,"formControl","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-4","flex","w-full","flex-col","md:flex-row","md:flex-wrap","lg:flex-nowrap"],[1,"flex","items-center","gap-x-2","pr-2"],[1,"m-0"],["appearance","outline",1,"w-20","text-right"],[1,"m-0","w-96"],["matInput","",1,"uppercase",3,"formControlName"],[1,"mt-4","flex","w-full","flex-col","gap-5","md:flex-row","md:flex-wrap","lg:flex-nowrap"],[1,"m-0","w-2/5"],[1,"w-24","text-right"],["appearance","outline",1,"m-0","w-2/5"],[3,"formControlName","panelClass"],[1,"w-full","p-1"],[1,"grid","grid-cols-1","gap-1","md:grid-cols-2"],[1,"bg-white","p-4","shadow","dark:bg-transparent"],[1,"flex","flex-col","space-y-4"],[1,"w-1/3","pr-4","text-right"],["appearance","outline",1,"w-2/6"],["matInput","","formControlName","batchno",1,"uppercase"],["matInput","","formControlName","checkno",1,"uppercase"],[1,"flex","items-start"],[1,"pr-2"],["formControlName","isincollections",3,"color"],[1,"w-1/3","text-right"],["appearance","outline",1,"m-0","w-2/6"],["matInput","","formControlName","icn",1,"uppercase"],["matInput","","formControlName","msg1",1,"uppercase"],["matInput","","formControlName","msg2",1,"uppercase"],["matInput","","formControlName","msg3",1,"uppercase"],["matInput","","formControlName","msg4",1,"uppercase"],["matInput","","formControlName","msg5",1,"uppercase"],["appearance","outline",1,"w-2/12"],["matInput","","formControlName","submitted",1,"uppercase"],[1,"ml-3","mr-3","w-15","pr-4","text-right"],["matInput","","formControlName","quantity",1,"uppercase"],["matInput","","formControlName","allowed",1,"uppercase"],["matInput","","formControlName","tranamount",1,"uppercase"],["matInput","","formControlName","amountpaid",1,"uppercase"],["matInput","","formControlName","amountadjusted1",1,"uppercase"],["appearance","outline",1,"ml-2","w-48"],["matInput","","formControlName","adjustmentcode1",1,"uppercase"],["matInput","","formControlName","amountadjusted2",1,"uppercase"],["matInput","","formControlName","adjustmentcode2",1,"uppercase"],["matInput","","formControlName","amountadjusted3",1,"uppercase"],["matInput","","formControlName","adjustmentcode3",1,"uppercase"],["matInput","","formControlName","amountadjusted4",1,"uppercase"],["matInput","","formControlName","adjustmentcode4",1,"uppercase"],["matInput","","formControlName","amountadjusted5",1,"uppercase"],["matInput","","formControlName","adjustmentcode5",1,"uppercase"],["matInput","","formControlName","amountadjusted6",1,"uppercase"],["matInput","","formControlName","adjustmentcode6",1,"uppercase"],["appearance","outline",1,"m-0","w-2/12"],["matInput","","formControlName","balance",1,"uppercase"],[1,"flex","w-full","p-1","pt-0"],[1,"w-full","border","bg-white","p-2","shadow","dark:bg-transparent","md:w-full"],[1,"mt-2","flex","flex-col","space-y-4"],[1,"flex","w-full","items-center"],[1,"w-56","pr-4","text-right"],["appearance","outline",1,"m-0","w-1/6"],["matInput","","formControlName","collectionstatus",1,"uppercase"],[1,"flex","flex-col","space-y-4","sm:flex-row","sm:items-center","sm:space-y-0"],[1,"flex","flex-wrap","gap-4"],[1,"mr-2","w-4","text-right"],["appearance","outline",1,"m-0","w-32"],["matInput","","formControlName","datebilled1","defaultDate","",3,"matDatepicker","placeholder"],[1,"mr-2","w-8","text-right"],["matInput","","formControlName","datebilled2","defaultDate","",3,"matDatepicker","placeholder"],["matInput","","formControlName","datebilled3","defaultDate","",3,"matDatepicker","placeholder"],[1,"flex","gap-6"],[1,"font-extrabold"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",8)(1,"div",9)(2,"div",10),v("click",function(){return P(s),_(t.backToListing())}),c(3,"mat-icon",11),a(),R(4,Vl,2,1,"p",12),c(5,"fuse-horizontal-navigation",13),a(),n(6,"div",14)(7,"form",15)(8,"div",16)(9,"div",17)(10,"div",18)(11,"div",19)(12,"div",20)(13,"label",21),l(14,"Service Date:"),a(),n(15,"mat-form-field",22)(16,"input",23),v("change",function(u){return P(s),_(t.onDateChange(u,"svcdate"))}),a(),c(17,"mat-datepicker-toggle",24)(18,"mat-datepicker",null,0),a()(),n(20,"div",20)(21,"label",21),l(22,"Bill-To:"),a(),n(23,"div",25)(24,"mat-form-field",26),c(25,"input",27),a(),n(26,"mat-icon",28),v("click",function(){return P(s),_(t.openPayorList())}),a()()(),n(27,"div",29)(28,"label",30),l(29,"Form:"),a(),n(30,"mat-form-field",22)(31,"mat-select",31)(32,"mat-select-trigger"),l(33),a(),ae(34,Ll,5,3,"mat-option",32,de),w(36,"async"),a()()(),n(37,"div",29)(38,"label",33),l(39,"Branch:"),a(),n(40,"mat-form-field",22),c(41,"input",34,1),n(43,"mat-autocomplete",35,2),v("optionSelected",function(u){return P(s),_(t.onBranchSelected(u.option.value))}),R(45,Wl,2,2,"mat-option",36),w(46,"async"),a()()()(),n(47,"div",37)(48,"div",38)(49,"label",21),l(50,"Item code:"),a(),n(51,"div",25)(52,"mat-form-field",39),c(53,"input",27),a(),n(54,"mat-icon",28),v("click",function(){return P(s),_(t.openItemList())}),a()()(),n(55,"div",20)(56,"label",40),l(57,"Description:"),a(),n(58,"mat-form-field",41),c(59,"input",42),a()()(),n(60,"div",43)(61,"div",20)(62,"label",21),l(63,"Procedure:"),a(),n(64,"mat-form-field",44),c(65,"input",42),a()(),n(66,"div",20)(67,"label",45),l(68,"EPSDT:"),a(),n(69,"mat-form-field",46),c(70,"input",42),a()()(),n(71,"div",43)(72,"div",20)(73,"mat-label",21),l(74,"Bill Type:"),a(),n(75,"mat-form-field",44)(76,"mat-select",47)(77,"mat-select-trigger"),l(78),a(),ae(79,Gl,5,3,"mat-option",32,de),w(81,"async"),a()()(),n(82,"div",20)(83,"label",45),l(84,"Tran Type:"),a(),n(85,"mat-form-field",44)(86,"mat-select",47)(87,"mat-select-trigger"),l(88),a(),ae(89,Ul,5,3,"mat-option",32,de),w(91,"async"),a()()()(),n(92,"div",43)(93,"div",20)(94,"mat-label",21),l(95,"Place of Service:"),a(),n(96,"mat-form-field",44)(97,"mat-select",47)(98,"mat-select-trigger"),l(99),a(),ae(100,Hl,5,3,"mat-option",32,de),w(102,"async"),a()()(),n(103,"div",20)(104,"label",45),l(105,"Print:"),a(),n(106,"mat-form-field",44)(107,"mat-select",47)(108,"mat-select-trigger"),l(109),a(),ae(110,ql,5,3,"mat-option",32,de),w(112,"async"),a()()()()()()(),n(113,"div",48)(114,"div",49)(115,"div",50)(116,"div",51)(117,"div",25)(118,"label",52),l(119,"Payment Batch:"),a(),n(120,"mat-form-field",53),c(121,"input",54),a()(),n(122,"div",25)(123,"label",52),l(124,"Check #:"),a(),n(125,"mat-form-field",53),c(126,"input",55),a()(),n(127,"div",56),c(128,"label",52),n(129,"div",25)(130,"mat-form-field",57)(131,"mat-label"),l(132,"Check Date"),a(),n(133,"input",23),v("change",function(u){return P(s),_(t.onDateChange(u,"checkdate"))}),a(),c(134,"mat-datepicker-toggle",24)(135,"mat-datepicker",null,3),R(137,zl,2,1,"mat-error"),a()(),n(138,"div",25)(139,"div")(140,"mat-form-field",57)(141,"mat-label"),l(142,"Post Date"),a(),n(143,"input",23),v("change",function(u){return P(s),_(t.onDateChange(u,"postdate"))}),a(),c(144,"mat-datepicker-toggle",24)(145,"mat-datepicker",null,4),R(147,Yl,2,1,"mat-error"),a(),n(148,"div",20)(149,"mat-checkbox",58),l(150," Forwarded "),a()()()()(),n(151,"div",20)(152,"label",59),l(153,"ICN:"),a(),n(154,"mat-form-field",60),c(155,"input",61),a()(),n(156,"div",20)(157,"label",59),l(158,"Msg 1:"),a(),n(159,"mat-form-field",60),c(160,"input",62),a()(),n(161,"div",20)(162,"label",59),l(163,"Msg 2:"),a(),n(164,"mat-form-field",60),c(165,"input",63),a()(),n(166,"div",20)(167,"label",59),l(168,"Msg 3:"),a(),n(169,"mat-form-field",60),c(170,"input",64),a()(),n(171,"div",20)(172,"label",59),l(173,"Msg 4:"),a(),n(174,"mat-form-field",60),c(175,"input",65),a()(),n(176,"div",20)(177,"label",59),l(178,"Msg 5:"),a(),n(179,"mat-form-field",60),c(180,"input",66),a()()()(),n(181,"div",50)(182,"div",51)(183,"div",25)(184,"label",52),l(185,"Submitted:"),a(),n(186,"mat-form-field",67),c(187,"input",68),a(),n(188,"label",69),l(189,"Quantity:"),a(),n(190,"mat-form-field",67),c(191,"input",70),a()(),n(192,"div",25)(193,"label",52),l(194,"Allowed:"),a(),n(195,"mat-form-field",67),c(196,"input",71),a()(),n(197,"div",25)(198,"label",52),l(199,"Tran Amount:"),a(),n(200,"mat-form-field",67),c(201,"input",72),a()(),n(202,"div",25)(203,"label",52),l(204,"Amt Paid:"),a(),n(205,"mat-form-field",67),c(206,"input",73),a()(),n(207,"div",25)(208,"label",52),l(209,"Amt Adj 1:"),a(),n(210,"mat-form-field",67),c(211,"input",74),a(),n(212,"mat-form-field",75),c(213,"input",76),a(),n(214,"mat-icon",28),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode1"))}),a()(),n(215,"div",25)(216,"label",52),l(217,"Amt Adj 2:"),a(),n(218,"mat-form-field",67),c(219,"input",77),a(),n(220,"mat-form-field",75),c(221,"input",78),a(),n(222,"mat-icon",28),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode2"))}),a()(),n(223,"div",25)(224,"label",52),l(225,"Amt Adj 3:"),a(),n(226,"mat-form-field",67),c(227,"input",79),a(),n(228,"mat-form-field",75),c(229,"input",80),a(),n(230,"mat-icon",28),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode3"))}),a()(),n(231,"div",25)(232,"label",52),l(233,"Amt Adj 4:"),a(),n(234,"mat-form-field",67),c(235,"input",81),a(),n(236,"mat-form-field",75),c(237,"input",82),a(),n(238,"mat-icon",28),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode4"))}),a()(),n(239,"div",25)(240,"label",52),l(241,"Amt Adj 5:"),a(),n(242,"mat-form-field",67),c(243,"input",83),a(),n(244,"mat-form-field",75),c(245,"input",84),a(),n(246,"mat-icon",28),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode5"))}),a()(),n(247,"div",25)(248,"label",52),l(249,"Amt Adj 6:"),a(),n(250,"mat-form-field",67),c(251,"input",85),a(),n(252,"mat-form-field",75),c(253,"input",86),a(),n(254,"mat-icon",28),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode6"))}),a()(),n(255,"div",25)(256,"label",52),l(257,"Balance:"),a(),n(258,"mat-form-field",87),c(259,"input",88),a()()()()()(),n(260,"div",89)(261,"div",90)(262,"div",91)(263,"div",92)(264,"div",20)(265,"label",93),l(266,"Collection Status:"),a(),n(267,"mat-form-field",94),c(268,"input",95),a()()(),n(269,"div",92)(270,"div",96)(271,"label",93),l(272,"Dates Billed:"),a(),n(273,"div",97)(274,"div",25)(275,"label",98),l(276,"1"),a(),n(277,"mat-form-field",99),c(278,"input",100)(279,"mat-datepicker-toggle",24)(280,"mat-datepicker",null,5),a()(),n(282,"div",25)(283,"label",101),l(284,"2"),a(),n(285,"mat-form-field",99),c(286,"input",102)(287,"mat-datepicker-toggle",24)(288,"mat-datepicker",null,6),a()(),n(290,"div",25)(291,"label",101),l(292,"3 "),a(),n(293,"mat-form-field",99),c(294,"input",103)(295,"mat-datepicker-toggle",24)(296,"mat-datepicker",null,7),a()()()()()()()()()()()}if(i&2){let s=Y(19),m=Y(44),u=Y(136),C=Y(146),D=Y(281),f=Y(289),y=Y(297);o(3),r("svgIcon","heroicons_solid:arrow-left"),o(),B(t.arHistoryId!==null?4:-1),o(),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("formGroup",t.arHistoryForm),o(9),r("matDatepicker",s)("placeholder",t.dateFormat)("formControlName","svcdate"),o(),r("for",s),o(8),r("readonly",!1)("formControlName","payorName"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","billform")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none")("tabindex",31),o(2),$(t.selectedPrimaryBillForm),o(),ne(I(36,63,t.primaryBillForm$)),o(7),r("formControl",t.branchName)("matAutocomplete",m),o(4),r("ngForOf",I(46,65,t.branch$)),o(8),r("readonly",!1)("formControlName","itemcode"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","description"),o(6),r("formControlName","hcpcscode"),o(5),r("formControlName","epsdt"),o(6),r("formControlName","billtype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedBillType),o(),ne(I(81,67,t.billType$)),o(7),r("formControlName","trantype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedTranType),o(),ne(I(91,69,t.tranType$)),o(8),r("formControlName","pos")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-70"),o(2),$(t.selectedPlaceOfService),o(),ne(I(102,71,t.placeOfServiceReps$)),o(7),r("formControlName","printstatus")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedPrintStatus),o(),ne(I(112,73,t.PrintStatusDropDown$)),o(23),r("matDatepicker",u)("placeholder",t.dateFormat)("formControlName","checkdate"),o(),r("for",u),o(3),B(t.arHistoryForm.get("checkdate").hasError("notValidDate")?137:-1),o(6),r("matDatepicker",C)("placeholder",t.dateFormat)("formControlName","postdate"),o(),r("for",C),o(3),B(t.arHistoryForm.get("postdate").hasError("notValidDate")?147:-1),o(2),r("color","primary"),o(65),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(24),r("matDatepicker",D)("placeholder",t.dateFormat),o(),r("for",D),o(7),r("matDatepicker",f)("placeholder",t.dateFormat),o(),r("for",f),o(7),r("matDatepicker",y)("placeholder",t.dateFormat),o(),r("for",y)}},dependencies:[ye,Re,Z,fe,Oe,De,he,_e,$t,we,Ne,Ee,Ie,Fe,St,Pt,mt,xt,Dt,Vt,lt,Ze,Et,pi,Qt,_t,G],styles:[".ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-wrapper{padding:0!important;margin:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-flex{min-height:30px!important;padding-top:0!important;padding-bottom:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-infix{padding-top:0!important;padding-bottom:0!important;min-height:0px!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding-top:0!important;padding-bottom:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-mdc-form-field{margin-top:0!important;margin-bottom:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{margin:0!important;padding:0!important;min-height:0!important;height:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-bottom-align:after{display:none!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field input[matDatepicker]{height:30px!important;line-height:30px!important;padding:0 8px!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle{height:30px!important;width:30px!important;display:flex!important;align-items:center!important;justify-content:center!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle .mat-datepicker-toggle-default-icon{width:16px!important;height:16px!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{height:30px!important;display:flex!important;align-items:center!important}.ar-history[_ngcontent-%COMP%]   aux-select-dropdown[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{margin-top:0!important}"]})}};Ga=N([k()],Ga);var Ua=class vo{constructor(e,i,t,s,m,u,C,D,f,y,g){this.store=e,this.currency=i,this.actions$=t,this.router=s,this.activatedRoute=m,this.dateTime=u,this.datePipe=C,this.cdr=D,this.titleService=f,this.decimalPipe=y,this._fuseConfirmationService=g,this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.arHistoryData$=this.store.select(qt.selectArHistory),this.loading$=this.store.select(qt.selectLoading),this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"SvcDate",minWidth:125,sort:"desc",field:"svcdate",filter:"agDateColumnFilter",sortIndex:1,hide:!1,filterParams:J,valueFormatter:S=>this.datePipe.transform(S.data.svcdate),onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Created",minWidth:125,field:"createdate",filter:"agDateColumnFilter",sortIndex:2,hide:!1,filterParams:J,valueFormatter:S=>this.datePipe.transform(S.data.createdate),onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Item Code",minWidth:115,field:"itemcode",filter:"agMultiColumnFilter",sortIndex:3,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Procedure",minWidth:115,field:"hcpcscode",filter:"agMultiColumnFilter",sortIndex:4,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"T",minWidth:50,field:"trantype",sortIndex:5,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"P",minWidth:50,field:"printstatus",sortIndex:6,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"C",minWidth:50,field:"collectionstatus",sortIndex:7,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Submitted",minWidth:100,field:"submitted",filter:"agMultiColumnFilter",sortIndex:8,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S),valueFormatter:S=>this.currency.transform(S.data.submitted,"USD","symbol")},{headerName:"Tran Amt",minWidth:100,field:"tranamount",filter:"agMultiColumnFilter",sortIndex:8,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S),valueFormatter:S=>this.currency.transform(S.data.tranamount,"USD","symbol")},{headerName:"Paid",minWidth:100,field:"amountpaid",filter:"agMultiColumnFilter",sortIndex:9,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S),valueFormatter:S=>this.currency.transform(S.data.amountpaid,"USD","symbol")},{headerName:"Adj",minWidth:100,field:"amountadjusteD1",filter:"agMultiColumnFilter",sortIndex:10,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S),valueFormatter:S=>this.currency.transform(S.data.amountadjusteD1,"USD","symbol")},{headerName:"Balance",minWidth:100,field:"balance",filter:"agMultiColumnFilter",sortIndex:11,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S),valueFormatter:S=>this.currency.transform(S.data.balance,"USD","symbol")},{headerName:"Code",minWidth:75,field:"adjustmentcodE1",filter:"agMultiColumnFilter",sortIndex:12,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Post Date",minWidth:125,field:"postdate",filter:"agDateColumnFilter",sortIndex:13,hide:!1,filterParams:J,valueFormatter:S=>this.datePipe.transform(S.data.postdate),onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Check #",minWidth:150,field:"checkno",filter:"agMultiColumnFilter",sortIndex:14,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Bill To",minWidth:100,field:"billto",filter:"agMultiColumnFilter",sortIndex:15,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"B",minWidth:50,field:"billtype",sortIndex:16,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Code2",minWidth:75,field:"adjustmentcodE2",filter:"agMultiColumnFilter",sortIndex:17,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Adj2",minWidth:100,field:"amountadjusteD2",filter:"agMultiColumnFilter",sortIndex:18,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S),valueFormatter:S=>this.currency.transform(S.data.amountadjusteD2,"USD","symbol")},{headerName:"Code3",minWidth:75,field:"adjustmentcodE3",filter:"agMultiColumnFilter",sortIndex:19,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S)},{headerName:"Adj3",minWidth:100,field:"amountadjusteD3",filter:"agMultiColumnFilter",sortIndex:20,hide:!1,onCellClicked:S=>this.openArHistoryDetails(S),valueFormatter:S=>this.currency.transform(S.data.amountadjusteD3,"USD","symbol")},{headerName:"Actions",minWidth:80,field:"actions",cellRenderer:Lt,cellRendererParams:{menuItems:[{name:"Remove Record",action:this.delete.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},sortIndex:21,hide:!1}],this.visibleColumns=["svcdate","createdate","itemcode","hcpcscode","trantype","printstatus","collectionstatus","tranamount","amountpaid","amountadjusteD1","balance","adjustmentcodE1","postdate","checkno","billto","billtype","adjustmentcodE2","amountadjusteD2","adjustmentcodE3","amountadjusteD3","actions"],this.arHistoryTotalObj={submitted:0,tranamount:0,amountpaid:0,adjustments:0,balance:0},this.toolbarData=[{title:"Refresh",type:"basic",icon:"mat_outline:refresh",function:()=>{this.refresh.next(null)}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.patientId=Number(this.router.url.split("/")[3]),te([this.activatedRoute.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(()=>{this.store.dispatch(je.LoadArHistory({patientId:this.patientId}))}),this.arHistoryData$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.rowData.length&&this.getCalculation()}),this.actions$.pipe(b(je.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}openArHistoryDetails(e){this.toolbarData.findIndex(t=>t.title==="Edit")===-1&&(this.toolbarData=[...this.toolbarData,{title:"Edit",type:"basic",icon:"mat_outline:edit",function:()=>{this.redirectToEdit(e)}}],this.cdr.detectChanges())}updateToolBarData(e){this.toolbarData=[...this.toolbarData.slice(0,e),...this.toolbarData.slice(e+1)]}redirectToEdit(e){this.router.navigate([`/centers/patient-center/${this.patientId}/ar-history/add`,e.data.id])}getCalculation(){if(this.resetCount(),!!this.rowData?.length){for(let e of this.rowData)Object.keys(this.arHistoryTotalObj).map(i=>{i==="adjustments"?this.arHistoryTotalObj[i]+=(Number(e.amountadjusteD1)||0)+(Number(e.amountadjusteD2)||0)+(Number(e.amountadjusteD3)||0):i==="submitted"?e.trantype==="1"&&(this.arHistoryTotalObj[i]+=Number(e[i])||0):this.arHistoryTotalObj[i]+=Number(e[i])||0});this.arHistoryTotalObj=this.transformObjectToDecimal(this.arHistoryTotalObj),this.cdr.detectChanges()}}transformObjectToDecimal(e,i="1.2-2"){let t={};for(let s in e)typeof e[s]=="number"?t[s]=this.decimalPipe.transform(e[s],i):t[s]=e[s];return t}resetCount(){this.arHistoryTotalObj={submitted:0,adjustments:0,tranamount:0,amountpaid:0,balance:0}}delete(e){this.deleteRecord(e.data)}deleteRecord(e){this._fuseConfirmationService.open({title:"Remove Record",message:"Are you sure you want to remove this record? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{t==="confirmed"&&this.store.dispatch(je.DeleteArHistory({arHistory:e}))})}static{this.\u0275fac=function(i){return new(i||vo)(p(F),p(ci),p(L),p(O),p(K),p(xe),p(q),p(ce),p(le),p(ki),p(ge))}}static{this.\u0275cmp=A({type:vo,selectors:[["app-patient-ar-history-table"]],features:[re([q,ki])],decls:44,vars:18,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"],[3,"show"],[1,"lg:flex"],[1,"ml-2","mr-2","w-full","border-t-2","bg-white","pl-2","pr-2","pt-2","dark:bg-transparent","lg:w-1/2"],[1,"flex","w-full","items-baseline"],[1,"w-6/12","pr-2"],["matPrefix","",1,"text-black"],["matInput","","readonly","",1,"uppercase",3,"ngModelChange","ngModel"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"div",3),c(5,"aux-ag-grid",4),w(6,"async"),c(7,"ac-loading-overlay",5),w(8,"async"),a(),n(9,"div",6)(10,"div",7)(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),l(14,"Submitted"),a(),n(15,"span",10),l(16,"$\xA0"),a(),n(17,"input",11),ii("ngModelChange",function(m){return ti(t.arHistoryTotalObj.submitted,m)||(t.arHistoryTotalObj.submitted=m),m}),a()(),n(18,"mat-form-field",9)(19,"mat-label"),l(20,"Billed"),a(),n(21,"span",10),l(22,"$\xA0"),a(),n(23,"input",11),ii("ngModelChange",function(m){return ti(t.arHistoryTotalObj.tranamount,m)||(t.arHistoryTotalObj.tranamount=m),m}),a()(),n(24,"mat-form-field",9)(25,"mat-label"),l(26,"Paid"),a(),n(27,"span",10),l(28,"$\xA0"),a(),n(29,"input",11),ii("ngModelChange",function(m){return ti(t.arHistoryTotalObj.amountpaid,m)||(t.arHistoryTotalObj.amountpaid=m),m}),a()()()(),n(30,"div",7)(31,"div",8)(32,"mat-form-field",9)(33,"mat-label"),l(34,"Adj"),a(),n(35,"span",10),l(36,"$\xA0"),a(),n(37,"input",11),ii("ngModelChange",function(m){return ti(t.arHistoryTotalObj.adjustments,m)||(t.arHistoryTotalObj.adjustments=m),m}),a()(),n(38,"mat-form-field",9)(39,"mat-label"),l(40,"Balance"),a(),n(41,"span",10),l(42,"$\xA0"),a(),n(43,"input",11),ii("ngModelChange",function(m){return ti(t.arHistoryTotalObj.balance,m)||(t.arHistoryTotalObj.balance=m),m}),a()()()()()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(3),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 471px)")("visibleColumns",t.visibleColumns)("loading",I(6,14,t.loading$)),o(2),r("show",I(8,16,t.loading$)),o(10),ei("ngModel",t.arHistoryTotalObj.submitted),o(6),ei("ngModel",t.arHistoryTotalObj.tranamount),o(6),ei("ngModel",t.arHistoryTotalObj.amountpaid),o(8),ei("ngModel",t.arHistoryTotalObj.adjustments),o(6),ei("ngModel",t.arHistoryTotalObj.balance))},dependencies:[Z,se,Yt,G,Yi,De,he,zi,Ee,Fe,Ie,Re],encapsulation:2,data:{animation:Bt},changeDetection:0})}};Ua=N([k()],Ua);var Ha=class yo{constructor(e,i,t,s,m,u,C,D,f,y){this.store=e,this.route=i,this.router=t,this.cdr=s,this.actions$=m,this.dialog=u,this.dateFormatePipe=C,this.titleService=D,this.searchService=f,this._fuseConfirmationService=y,this.rowData=[],this.columnDefs=[{headerName:"ID",field:"id",minWidth:50},{headerName:"Date Of Audit",field:"dateOfAudit",valueFormatter:g=>this.dateFormatePipe.transform(g.data.dateOfAudit),filter:"agDateColumnFilter",minWidth:125},{headerName:"Audit Type",field:"auditType",filter:"agMultiColumnFilter",minWidth:100},{headerName:"Sub Type",field:"subType",filter:"agMultiColumnFilter",minWidth:90},{headerName:"Sub Type Description",field:"subTypeDescription",filter:"agMultiColumnFilter",minWidth:200},{headerName:"Assigned To",field:"assignedTo",filter:"agMultiColumnFilter",minWidth:125},{headerName:"Auditor",field:"auditor",filter:"agMultiColumnFilter",minWidth:125},{headerName:"Resolution",field:"resolution",filter:"agMultiColumnFilter",minWidth:125},{headerName:"Resolution Date",field:"resolutionDate",valueFormatter:g=>this.dateFormatePipe.transform(g.data.resolutionDate),filter:"agDateColumnFilter",minWidth:125},{headerName:"Notes",field:"contactNotes",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:65,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId),hide:!1}],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0},pagination:!0,paginationPageSize:20},this.toolbarData=[{title:"Add Audit Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.addAuditRequest()}}],this.showSystemNotes=!1,this.data$=this.store.select(ja.selectAudits),this.loading$=this.store.select(ja.selectLoading),this.error$=this.store.select(ja.selectError),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.visibleColumns=["id","dateOfAudit","auditType","subType","subTypeDescription","assignedTo","auditor","resolution","resolutionDate","contactNotes"],this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.searchCtrl=new Me,this.selectedRowIndex=-1,this.addedBy="Current User"}ngOnInit(){this.title=this.router.url.split("/")[4]||"Audit",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(rt.loadAudit({patientId:this.patientId})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{let i=e.filter(t=>this.showSystemNotes||t.createdBy!=="SYSTEM");this.rowData=i,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.error$.pipe(h(this)).subscribe(),this.actions$.pipe(b(rt.refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["actions","contactNotes","patientId"].includes(e.column.getColId())||this.openEditAuditRequest(e.data)}addAuditRequest(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Add Audit Event",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:uo,dynamicComponentData:{patientId:this.patientId,addedBy:this.addedBy,audit:null},submitFunction:"saveAudit",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}openContactNote(e,i){this.store.dispatch(rt.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:_s,dynamicComponentData:{patientId:i,refId:e,moduleName:"COMPLIANCE"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(rt.LoadContactNotes({patientId:this.patientId,refId:e}))})}openEditAuditRequest(e){let i={icon:"mat_outline:edit_note",title:"EDIT AUDIT REQUEST",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:uo,dynamicComponentData:{patientId:this.patientId,addedBy:this.addedBy,audit:e},submitFunction:"saveAudit",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{})}static{this.\u0275fac=function(i){return new(i||yo)(p(F),p(K),p(O),p(ce),p(L),p(z),p(q),p(le),p(be),p(ge))}}static{this.\u0275cmp=A({type:yo,selectors:[["ac-patient-audit"]],features:[re([q])],decls:6,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","rowData","columnDefs","visibleColumns","agGridHeight","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("visibleColumns",t.visibleColumns)("agGridHeight","calc(100vh - 292px)")("loading",I(5,8,t.loading$)))},dependencies:[Z,se,G],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}"],changeDetection:0})}};Ha=N([k()],Ha);var Kl=["shadowElem"];function Ql(d,e){d&1&&(n(0,"div",2)(1,"div",3),c(2,"span",null,0),a()())}var ol=(()=>{class d{constructor(i){this.data=i,this.htmlData=i.dynamicComponentData}ngAfterViewInit(){if(this.shadowElem?.nativeElement){let i=this.shadowElem.nativeElement.attachShadow({mode:"open"}),t=document.createElement("div");i.appendChild(t),t.innerHTML=this.htmlData.message}}static{this.\u0275fac=function(t){return new(t||d)(p(nt))}}static{this.\u0275cmp=A({type:d,selectors:[["app-automated-emails-details"]],viewQuery:function(t,s){if(t&1&&ut(Kl,5),t&2){let m;ht(m=ft())&&(s.shadowElem=m.first)}},decls:2,vars:1,consts:[["shadowElem",""],[1,"flex","w-full","flex-col"],[1,"flex"],[1,"ml-6","h-full","overflow-auto","text-lg"]],template:function(t,s){t&1&&(n(0,"div",1),R(1,Ql,4,0,"div",2),a()),t&2&&(o(),B(s.data.message?1:-1))},encapsulation:2})}}return d})();function Xl(d,e){if(d&1&&c(0,"div",17),d&2){let i=U().$implicit;r("innerHTML",i.contactType,Gi)}}function Zl(d,e){if(d&1&&c(0,"div",20),d&2){let i=U().$implicit;r("innerHTML",i.note,Gi)}}function Jl(d,e){if(d&1){let i=Se();n(0,"li",11),qi(1),c(2,"div",12),Ni(),n(3,"div",13),v("click",function(){let s=P(i).$implicit,m=U(3);return _(m.onSelectionChanged(s))}),n(4,"div",14),c(5,"mat-icon",15),a(),n(6,"div",16),R(7,Xl,1,1,"div",17),n(8,"div",18)(9,"div",19),l(10),w(11,"datetimeformat"),a()(),R(12,Zl,1,1,"div",20),a()()()}if(d&2){let i=e.$implicit;o(5),r("svgIcon","heroicons_solid:mail-open"),o(2),B(i.contactType?7:-1),o(3),W(" ",I(11,4,i.addDate)," "),o(2),B(i.note?12:-1)}}function em(d,e){if(d&1){let i=Se();n(0,"div",6)(1,"ol"),qi(2)(3),n(4,"li",8)(5,"div",9),v("click",function(){P(i);let s=U(2);return _(s.showThisMonth())}),l(6," This Month "),a(),n(7,"div",10),v("click",function(){P(i);let s=U(2);return _(s.showLastMonth())}),l(8," Last Month "),a(),n(9,"div",10),v("click",function(){P(i);let s=U(2);return _(s.showOlder())}),l(10," Older "),a()(),Ni(),ae(11,Jl,13,6,"li",11,Hi().trackByFn,!0),Ni(),a()()}if(d&2){let i=U(2);o(5),Ti("bg-slate-400",!i.isActiveThisMonth)("bg-primary",i.isActiveThisMonth),o(2),Ti("bg-slate-400",!i.isActiveLastMonth)("bg-primary",i.isActiveLastMonth),o(2),Ti("bg-slate-400",!i.isActiveOlder)("bg-primary",i.isActiveOlder),o(2),ne(i.filterEmails)}}function tm(d,e){d&1&&(n(0,"div",7)(1,"div",21),l(2,"There are no emails at the moment..."),a()())}function im(d,e){if(d&1&&R(0,em,13,12,"div",6)(1,tm,3,0,"div",7),d&2){let i=e;B(i.length?0:-1),o(),B(i.length?-1:1)}}var qa=class bo{constructor(e,i,t,s){this.store=e,this.router=i,this.dateTime=t,this.dialog=s,this.data$=this.store.select(lo.selectAutomatedEmails),this.loading$=this.store.select(lo.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.isActiveThisMonth=!0,this.isActiveLastMonth=!1,this.isActiveOlder=!1}ngOnInit(){let e=Number(this.router.url.split("/")[3]);this.store.dispatch(ea.LoadAutomatedEmails({patientId:e})),this.data$.subscribe(i=>{this.totalEmails=i,this.showThisMonth()})}showThisMonth(){let e=new Date,t=new Date().getMonth(),s=this.totalEmails?.filter(m=>new Date(m?.addDate).getMonth()===t);this.filterEmails=s,this.isActiveThisMonth=!0,this.isActiveLastMonth=!1,this.isActiveOlder=!1}showLastMonth(){let e=new Date,t=new Date().getMonth()-1,s=this.totalEmails.filter(m=>new Date(m.addDate).getMonth()===t);this.filterEmails=s,this.isActiveThisMonth=!1,this.isActiveLastMonth=!0,this.isActiveOlder=!1}showOlder(){let e=new Date,t=new Date().getMonth()-2,s=this.totalEmails.filter(m=>new Date(m.addDate).getMonth()<=t);this.filterEmails=s,this.isActiveThisMonth=!1,this.isActiveLastMonth=!1,this.isActiveOlder=!0}onSelectionChanged(e){this.openAutomatedEmail(e)}openAutomatedEmail(e){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"DETAILS",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:ol,dynamicComponentData:e||null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}trackByFn(e,i){return i.id||e}static{this.\u0275fac=function(i){return new(i||bo)(p(F),p(O),p(xe),p(z))}}static{this.\u0275cmp=A({type:bo,selectors:[["app-patient-automated-emails"]],decls:10,vars:3,consts:[[1,"flex","w-full","flex-col",2,"height","695px","overflow-y","scroll"],[1,"relative","flex","min-w-0","flex-auto","flex-col"],[1,"flex","flex-auto","flex-col","px-6","py-10","sm:px-8","sm:pb-8","sm:pt-8"],[1,"w-full","max-w-3xl"],[1,"text-3xl","font-extrabold","leading-none","tracking-tight"],[1,"text-secondary","mt-1.5","text-md"],[1,"mt-8"],[1,"py-8"],[1,"relative","flex","pb-2","pt-0"],[1,"relative","rounded-full","px-8","py-2","text-md","font-medium","leading-5","text-on-primary",3,"click"],[1,"relative","ml-2","rounded-full","px-8","py-2","text-md","font-medium","leading-5","text-on-primary",3,"click"],[1,"relative","flex","py-7"],[1,"absolute","left-5","top-7","-ml-px","h-full","w-0.5","bg-gray-300","dark:bg-gray-600"],[1,"relative","flex","flex-auto","cursor-pointer",3,"click"],[1,"mr-4","flex","h-10","w-10","shrink-0","items-center","justify-center","rounded-full","bg-gray-400"],[1,"text-white","icon-size-5",3,"svgIcon"],[1,"flex","flex-auto","flex-col","items-start"],[3,"innerHTML"],[1,"mt-2","flex","flex-col","text-md","leading-5","sm:mt-1","sm:flex-row","sm:items-center","sm:space-x-2"],[1,"text-secondary"],[1,"mt-4","rounded-lg","bg-gray-200","px-5","py-4","dark:bg-gray-800",3,"innerHTML"],[1,"text-secondary","mt-1.5","text-lg"]],template:function(i,t){if(i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),l(5,"Emails & Texts Sent"),a(),n(6,"div",5),l(7," Emails and texts sent to the patient are listed here as individual items, starting with the most recent. "),a(),R(8,im,2,2),w(9,"async"),a()()()()),i&2){let s;o(8),B((s=I(9,1,t.data$))?8:-1,s)}},dependencies:[ye,G,xe],encapsulation:2})}};qa=N([k()],qa);var za=class Do{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(po.selectRecords),this.loading$=this.store.select(po.selectLoading),this.visibleColumns=["id","dateAssigned","dueDate","servicedBy","insuranceId","insuranceUpdated","billingCode","billingDetails","nobleId","contactNotes","updatedByUser","sentForShipment","shipmentDate",,],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",minWidth:50,sort:"desc",sortIndex:1},{headerName:"Date Assigned",field:"dateAssigned",valueFormatter:g=>this.datePipe.transform(g.data.dateAssigned),filter:"agDateColumnFilter",minWidth:110},{headerName:"Due Date",field:"dueDate",valueFormatter:g=>this.datePipe.transform(g.data.dueDate),filter:"agDateColumnFilter",minWidth:110},{headerName:"Label",field:"label",filter:"agMultiColumnFilter",minWidth:90},{headerName:"Assigned To",field:"assignedTo",filter:"agMultiColumnFilter",minWidth:125},{headerName:"Serviced By",field:"servicedBy",filter:"agMultiColumnFilter",minWidth:125},{headerName:"Insurance ID",field:"insuranceId",filter:"agMultiColumnFilter",minWidth:125},{headerName:"Ins Updated",field:"insuranceUpdated",filter:"agMultiColumnFilter",filterValueGetter:g=>g.data.insuranceUpdated?"YES":"NO",valueFormatter:g=>g.value?"YES":"NO",cellDataType:"text",minWidth:100},{headerName:"Billing Code",field:"billingCode",filter:"agMultiColumnFilter",minWidth:125},{headerName:"Billing Details",field:"billingDetails",filter:"agMultiColumnFilter",minWidth:250},{headerName:"Updated By",field:"updatedByUser",filter:"agMultiColumnFilter",minWidth:125},{headerName:"Noble ID",field:"nobleId",filter:"agMultiColumnFilter",minWidth:100},{headerName:"Sent Ship",field:"sentForShipment",filter:"agMultiColumnFilter",minWidth:100},{headerName:"Ship Date",field:"shipmentDate",valueFormatter:g=>this.datePipe.transform(g.data.shipmentDate),filter:"agDateColumnFilter",minWidth:110},{headerName:"Notes",field:"contactNotes",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:75,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Care Management Record",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.addRecord()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Care Management",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(He.LoadPatientCareManagement({patientId:this.patientId})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(He.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["actions","contactNotes"].includes(e.column.getColId())||this.openEditRecordRequest(e.data)}addRecord(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Add Care Management Record",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Add Record",dynamicComponent:ho,dynamicComponentData:{patientId:this.patientId},submitFunction:"saveCareManagement",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}openEditRecordRequest(e){let i={icon:"mat_outline:edit_note",title:"Edit Care Management Record",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:ho,dynamicComponentData:{patientId:this.patientId,patientCareManagement:e},submitFunction:"saveCareManagement",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{})}openContactNote(e,i){this.store.dispatch(He.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:ws,dynamicComponentData:{patientId:i,refId:e,moduleName:"CAREMANAGEMENT"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(He.LoadContactNotes({patientId:this.patientId,refId:e}))})}delete(e){this.deleteRecord(e.data)}deleteRecord(e){this._fuseConfirmationService.open({title:"Remove Record",message:"Are you sure you want to remove this record? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{t==="confirmed"&&this.store.dispatch(He.DeletePatientCareManagement({record:e}))})}onGridReady(e){this.gridApi=e.api,this.cdr.detectChanges()}static{this.\u0275fac=function(i){return new(i||Do)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:Do,selectors:[["ac-patient-caremanagement-table"]],features:[re([q])],decls:6,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-caremanagement-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 292px)")("visibleColumns",t.visibleColumns)("loading",I(5,8,t.loading$)))},dependencies:[Z,se,G],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.fuse-horizontal-navigation[_ngcontent-%COMP%]{display:block!important;visibility:visible!important;min-height:48px}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important;z-index:10}"],changeDetection:0})}};za=N([k()],za);function am(d,e){if(d&1&&(n(0,"p",15),l(1),a()),d&2){let i=U();o(),W(" ",i.chargeId," ")}}function nm(d,e){if(d&1&&(n(0,"mat-option",39),l(1),a()),d&2){let i=e.$implicit;r("value",i),o(),W(" ",i.branchcode," ")}}function om(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function rm(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function sm(d,e){if(d&1&&(n(0,"mat-option",39)(1,"div",57)(2,"h2",58),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.billType),o(3),$(i.billType),o(),W(" ",i.description," ")}}function lm(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function mm(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function dm(d,e){if(d&1&&(n(0,"mat-option",39)(1,"div",59),l(2),a()()),d&2){let i=e.$implicit;r("value",i.value),o(2),W(" ",i.name," ")}}function pm(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function cm(d,e){if(d&1&&(n(0,"mat-option",39)(1,"div",57)(2,"h2",58),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}var Ya=class xo{constructor(e,i,t,s,m,u,C){this._formBuilder=e,this.store=i,this.matDialog=t,this.route=s,this.router=m,this.auxUtilService=u,this.searchService=C,this.chargeId=null,this.branchName=new at,this.PatientChargesById$=this.store.select(da.selectPatientChargesById),this.diagnosisCodeList$=this.store.select(ri.selectdiagnosiscodesList),this.salesrep$=this.store.select(Ot.selectDropDownSalesrep),this.placeOfServiceReps$=this.store.select($e.selectPlaceOfService),this.billType$=this.store.select(Ot.selectBillType),this.itemCode$=this.store.select(Ot.selectItemCode),this.selectedPhysician$=this.store.select(Xt.selectPhysicians),this.selectedPayors$=this.store.select(Ot.selectPayorsDetail),this.referCode$=this.store.select(Ot.selectReferCode),this.branch$=this.store.select(Ot.selectBranch),this.dateFormat=ot.DATE_FORMAT,this.placeOfServiceDropdown=[];let D=Number(this.router.url.split("/")[3]);this.store.dispatch(gt.LoadworkSalesRep()),this.store.dispatch(gt.BillTypeDropdown()),this.store.dispatch(qe.LoadPlaceOfServiceDropDown()),this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}}]}ngOnInit(){this.chargeForm=this._formBuilder.group({payorName:[""],id:[0],patientid:[""],authcount:[""],authused:[""],authdate:[""],salesid:[""],branchid:[""],primkey:[""],invoiceno:[""],diag24e:[""],submitted:[""],allowed:[""],dueprimary:[""],prepaid:[""],mod1:[""],mod2:[""],mod3:[""],mod4:[""],isrollup:[!1],notesexpiredate:[""],tos:[""],quantity:[""],stopdate:[""],nextbill:[""],lastdatebilled:[""],svcdate:[""],todate:[""],cmnreq:[""],cmnfreq:[""],shipstatus:[""],shipdate:[""],lotnumber:[""],diagnosis:[""],diagnos2:[""],diagnos3:[""],diagnos4:[""],diagnos5:[""],diagnos6:[""],diagnos7:[""],diagnos8:[""],confirm:[""],hcpcscode:[""],description:[""],itemid:[""],itemCode:[""],billtype:[""],quantityshipped:[""],assignment:[!1],isoverride:[!1],monthsrented:[""],followup:[""],patalpha:[""],pickupreason:[""],trackingno:[""],shipvia:[""],deliverytype:[""],cmnexpire:[""],duesecondary:[""],narrative:[""],paponumber:[""],referid:[""],referCode:[""],patientdoctorid1:[""],physicianFullName:[""],patientpayorid2:[""],coPayorsName:[""],patientpayorid1:[""],PrimaryPayorsName:[""],payorid1:[""],payorid2:[""],patienticdid1:[0],icdc10code1:[""],patienticdid2:[0],icdc10code2:[""],patienticdid3:[0],icdc10code3:[""],patienticdid4:[0],icdc10code4:[""],patienticdid5:[0],icdc10code5:[""],patienticdid6:[0],icdc10code6:[""],patienticdid7:[0],icdc10code7:[""],patienticdid8:[0],icdc10code8:[""],pos:[""],priceid:[""],inventoryvendorid:[0]}),this.route.paramMap.pipe(h(this)).subscribe(e=>{this.chargeId=e.get("id"),this.chargeId&&(this.store.dispatch(Ct.LoadChargesById({chargeId:this.chargeId})),this.chargeForm.get("id").setValue(this.chargeId),this.patchForm())}),this.billType$.pipe(h(this)).subscribe(e=>{this.billTypeDropdown=e}),this.placeOfServiceReps$.pipe(h(this)).subscribe(e=>{this.placeOfServiceDropdown=e}),this.salesrep$.pipe(h(this)).subscribe(e=>{e&&(this.salesrepList=e.map(i=>({name:i.firstName+" "+i.lastName,value:i.id})))})}save(){let e=this.chargeForm.value;e=this.auxUtilService.transFormValues(e,Di),e=this.auxUtilService.transFormValuesToUpperCase(e,["physician","sourcetable","invoiceno","patalpha"]),e.itemCode===""&&(e.itemid=0),delete e.PrimaryPayorsName,delete e.coPayorsName,delete e.physicianFullName,delete e.referCode,delete e.icdc10code1,delete e.icdc10code2,delete e.icdc10code3,delete e.icdc10code4,e=this.auxUtilService.transformBankStringToDefaultDate(e,ao),e=this.auxUtilService.formatDateFields(e,ao),e=this.auxUtilService.cleanData(e),this.store.dispatch(Ct.AddCharges({charges:e}))}get selectedBillType(){return this.billTypeDropdown.find(e=>e.billType===this.chargeForm.get("billtype")?.value)?.billType}get selectedSalesRep(){return this.salesrepList.find(e=>e.value===this.chargeForm.get("salesid")?.value)?.name}get selectedPlaceOfService(){return this.placeOfServiceDropdown.find(e=>e.code===this.chargeForm.get("pos")?.value)?.code}patchForm(){this.PatientChargesById$.pipe(h(this)).subscribe(e=>{if(e!=null){let i=[e.payorid1,e.payorid2];if(this.store.dispatch(gt.getReferCode({id:e.referid})),this.store.dispatch(rs.LoadPhysicianById({id:e.doctorid1.toString()})),this.store.dispatch(Gt.LoadPatientDiagnosiscode({id:e.patientid})),this.store.dispatch(Ut.LoadPatientPhysicians({id:e.patientid})),this.store.dispatch(gt.LoadPayorDetails({id:i})),this.referCode$.pipe(h(this)).subscribe(u=>{u&&this.chargeForm.get("referCode").setValue(u.desciption)}),this.selectedPhysician$.pipe(h(this)).subscribe(u=>{u&&u.forEach(C=>{C.id==e.patientdoctorid1&&(this.chargeForm.get("physicianFullName").setValue(C.firstName+" "+C.lastName),this.chargeForm.get("patientdoctorid1").setValue(C.id))})}),this.diagnosisCodeList$.pipe(h(this)).subscribe(u=>{let C=["icdc10code1","icdc10code2","icdc10code3","icdc10code4"],D=["patienticdid1","patienticdid2","patienticdid3","patienticdid4"];C.forEach(f=>{this.chargeForm.get(f).setValue("")}),D.forEach(f=>{this.chargeForm.get(f).setValue(0)}),u&&u.length>0&&u.forEach(f=>{D.forEach((y,g)=>{e[y]&&f.id===e[y]&&(this.chargeForm.get(C[g]).setValue(f.icd10code),this.chargeForm.get(y).setValue(f.id))})})}),this.selectedPayors$.pipe(h(this)).subscribe(u=>{u&&u!=null&&(u.id===this.chargeForm.get("payorid1").value&&(this.chargeForm.get("PrimaryPayorsName").setValue(u.billto),this.chargeForm.get("payorid1").setValue(u.id)),u.id===this.chargeForm.get("payorid2").value&&(this.chargeForm.get("coPayorsName").setValue(u.billto),this.chargeForm.get("payorid2").setValue(u.id)))}),this.patientChargeDisp=e,this.patientChargeDisp.itemid!==0){this.itemCode$.pipe(h(this)).subscribe(C=>{this.chargeForm.get("itemCode").setValue(C.desciption)});let u=this.patientChargeDisp.itemid;this.store.dispatch(gt.getItemCode({id:u}))}else this.chargeForm.get("itemCode").setValue("");let t=Je({},this.patientChargeDisp);t.branchid=this.patientChargeDisp.branchid.toString(),t.description=this.patientChargeDisp.description+""+this.patientChargeDisp.description2;let s="1900-01-01T00:00:00";["lastdatebilled","svcdate","todate","shipdate","stopdate","nextbill","authdate","notesexpiredate","cmnexpire"].forEach(u=>{t[u]===s&&(t[u]="")}),this.chargeForm.patchValue(t),te([this.branch$,this.chargeForm.get("branchid").valueChanges.pipe(Q(this.chargeForm.get("branchid").value))]).pipe(h(this)).subscribe(([u,C])=>{if(u&&Number(C)){let D=u.find(f=>f.id===Number(C));D&&this.onBranchSelected(D)}})}})}backToListing(){window.history.back()}openItemList(){let e={icon:"mat_outline:edit_note",title:"Select Item Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fi,dynamicComponentData:{itemCode:this.chargeForm.get("itemCode").value},submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:e}).afterClosed().subscribe(t=>{t&&(this.chargeForm.get("itemCode").setValue(t.itemcode),this.chargeForm.get("itemid").setValue(t.id),this.chargeForm.get("description").setValue(t.description),this.chargeForm.get("inventoryvendorid").setValue(t.inventoryvendorid)),this.searchService.saveFilterState({},"inventoryItemsList")})}onDateChange(e,i){this.chargeForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.chargeForm,i)}openReferralList(){let e={icon:"mat_outline:edit_note",title:"Select Referral From",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:wi,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.chargeForm.get("referid").setValue(t.id),this.chargeForm.get("referCode").setValue(t.referCode))})}openAssignedPhysicianList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Physician",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:li,dynamicComponentData:this.chargeForm.get("patientid").value,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"auto",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.chargeForm.get("physicianFullName").setValue(t.firstName+" "+t.lastName),this.chargeForm.get("patientdoctorid1").setValue(t.id))})}openPayorsList(e){let i=null;e==="Primary"?i=this.chargeForm.get("patientpayorid1").value:e==="Co-Pay"&&(i=this.chargeForm.get("patientpayorid2").value);let t={icon:"mat_outline:edit_note",title:"Select Assigned Payors",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Zt,dynamicComponentData:{patientId:this.chargeForm.get("patientid").value,selectedPayorId:i},submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"50%",height:"auto",data:t}).afterClosed().pipe(h(this)).subscribe(m=>{m&&(e=="Primary"?(this.chargeForm.get("PrimaryPayorsName").setValue(m.billTo),this.chargeForm.get("patientpayorid1").setValue(m.id)):e=="Co-Pay"&&(this.chargeForm.get("coPayorsName").setValue(m.billTo),this.chargeForm.get("patientpayorid2").setValue(m.id)))})}trackByFn(e){return e.abbreviation}openDiagnosisCodePopup(e){let i={icon:"mat_outline:edit_note",title:"Select Diagnosis Codes",cancelButtonText:"Cancel",saveButtonText:"Select Diagnosis Codes",dynamicComponent:_i,dynamicComponentData:null,submitFunction:"submitSelectedCode",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",minHeight:"auto",data:i}).afterClosed().pipe(h(this)).subscribe(s=>{if(s)switch(e){case"patienticdid1":this.chargeForm.get("patienticdid1").setValue(s.id),this.chargeForm.get("icdc10code1").setValue(s.icd10code);break;case"patienticdid2":this.chargeForm.get("patienticdid2").setValue(s.id),this.chargeForm.get("icdc10code2").setValue(s.icd10code);break;case"patienticdid3":this.chargeForm.get("patienticdid3").setValue(s.id),this.chargeForm.get("icdc10code3").setValue(s.icd10code);break;case"patienticdid4":this.chargeForm.get("patienticdid4").setValue(s.id),this.chargeForm.get("icdc10code4").setValue(s.icd10code);break;default:break}})}onBranchSelected(e){let i=e;this.chargeForm.get("branchid").setValue(i.id,{emitEvent:!1}),this.branchName.setValue(i.branchcode)}static{this.\u0275fac=function(i){return new(i||xo)(p(st),p(F),p(z),p(K),p(O),p(ke),p(be))}}static{this.\u0275cmp=A({type:xo,selectors:[["aux-patient-charge-edit"]],decls:338,vars:120,consts:[["autoInput",""],["auto2","matAutocomplete"],["nextBillDate","matDatepicker"],["serviceDate","matDatepicker"],["thruDate","matDatepicker"],["notesExpDate","matDatepicker"],["rental","matDatepicker"],["shipDate","matDatepicker"],["delivered","matDatepicker"],["AuthToDate","matDatepicker"],["expDate","matDatepicker"],[1,"model-contain","w-full"],[1,"mb-2","flex","w-full","items-center","bg-white","p-3","shadow","dark:bg-transparent"],[3,"click"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"svgIcon"],[1,"status","ml-3","flex","flex-none","items-center","rounded","bg-primary-100","px-3","py-1.5","text-xs","font-medium","text-accent-600"],[3,"navigation","name"],[1,"w-full"],[1,"w-full",3,"formGroup"],[1,"mt-2.5","w-full","border","bg-white","p-3","shadow","dark:bg-transparent","md:w-full"],[1,"mt-2"],[1,"flex","w-full"],[1,"pr-2"],["matInput","",1,"uppercase",3,"formControlName"],["matInput","","type","text","tabindex","4",1,"uppercase",3,"formControl","placeholder","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"change","matDatepicker","placeholder","formControlName"],["matIconSuffix","",3,"for"],[1,"flex","flex-col"],[1,"",3,"color","formControlName"],[1,"flex","items-center","pr-2"],[1,"pr-0"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"w-96","pr-2"],[1,"w-full","pr-0"],["matInput","",1,"uppercase"],[3,"formControlName","panelClass"],[3,"value"],[1,"w-2/3","pr-2"],[1,"mt-4"],[1,"w-48","pr-2"],["matInput","","defaultDate","",3,"change","matDatepicker","placeholder","formControlName"],[1,"w-52","pr-2"],[1,"w-64","pr-2"],[1,"mr-2",3,"color","formControlName"],[1,"mr-2",3,"color"],[3,"formControlName"],["value","E"],["value","F"],["value","UPS"],["matInput","","defaultDate","",3,"matDatepicker","placeholder"],[1,"w-24","pr-2"],["value","Y"],["value","N"],["matInput","","defaultDate","",3,"matDatepicker","placeholder","formControlName"],[1,"flex","gap-6"],[1,"font-extrabold"],[1,"state-select","pr-2"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",11)(1,"div",12)(2,"div",13),v("click",function(){return P(s),_(t.backToListing())}),c(3,"mat-icon",14),a(),R(4,am,2,1,"p",15),c(5,"fuse-horizontal-navigation",16),a(),n(6,"div",17)(7,"form",18)(8,"div",19)(9,"div",20)(10,"div",21)(11,"mat-form-field",22)(12,"mat-label"),l(13,"Invoice #"),a(),c(14,"input",23),a(),n(15,"mat-form-field",22)(16,"mat-label"),l(17,"Branch"),a(),c(18,"input",24,0),n(20,"mat-autocomplete",25,1),v("optionSelected",function(u){return P(s),_(t.onBranchSelected(u.option.value))}),R(22,nm,2,2,"mat-option",26),w(23,"async"),a()(),n(24,"mat-form-field",22)(25,"mat-label"),l(26,"Confirm Status"),a(),c(27,"input",23),a(),n(28,"mat-form-field",22)(29,"mat-label"),l(30,"Next Bill Date"),a(),n(31,"input",27),v("change",function(u){return P(s),_(t.onDateChange(u,"lastdatebilled"))}),a(),c(32,"mat-datepicker-toggle",28)(33,"mat-datepicker",null,2),R(35,om,2,1,"mat-error"),a(),n(36,"mat-form-field",22)(37,"mat-label"),l(38,"Service Date"),a(),n(39,"input",27),v("change",function(u){return P(s),_(t.onDateChange(u,"svcdate"))}),a(),c(40,"mat-datepicker-toggle",28)(41,"mat-datepicker",null,3),a(),n(43,"mat-form-field",22)(44,"mat-label"),l(45,"Thru Date"),a(),n(46,"input",27),v("change",function(u){return P(s),_(t.onDateChange(u,"todate"))}),a(),c(47,"mat-datepicker-toggle",28)(48,"mat-datepicker",null,4),a(),n(50,"mat-form-field",22)(51,"mat-label"),l(52,"Notes Expire"),a(),n(53,"input",27),v("change",function(u){return P(s),_(t.onDateChange(u,"notesexpiredate"))}),a(),c(54,"mat-datepicker-toggle",28)(55,"mat-datepicker",null,5),R(57,rm,2,1,"mat-error"),a(),n(58,"div",29)(59,"span"),l(60,"Roll up"),a(),c(61,"mat-checkbox",30),a()(),n(62,"div",21)(63,"div",31)(64,"mat-form-field",32)(65,"mat-label"),l(66,"Item code"),a(),c(67,"input",33),a(),n(68,"mat-icon",34),v("click",function(){return P(s),_(t.openItemList())}),a()(),n(69,"mat-form-field",35)(70,"mat-label"),l(71,"Description"),a(),c(72,"input",23),a(),n(73,"mat-form-field",22)(74,"mat-label"),l(75,"Quantity"),a(),c(76,"input",23),a(),n(77,"mat-form-field",22)(78,"mat-label"),l(79,"Ship Qty"),a(),c(80,"input",23),a(),n(81,"div",31)(82,"mat-form-field",36)(83,"mat-label"),l(84,"Serial#"),a(),c(85,"input",37),a(),c(86,"mat-icon",14),a(),n(87,"mat-form-field",22)(88,"mat-label"),l(89,"Rent/Purchase"),a(),n(90,"mat-select",38)(91,"mat-select-trigger"),l(92),a(),ae(93,sm,5,3,"mat-option",39,de),w(95,"async"),a()()(),n(96,"div",21)(97,"mat-form-field",40)(98,"mat-label"),l(99,"Narrative"),a(),c(100,"input",23),a()()()(),n(101,"div",19)(102,"div",41)(103,"div",21)(104,"mat-form-field",42)(105,"mat-label"),l(106,"Length of need (Months)"),a(),c(107,"input",23),a(),n(108,"mat-form-field",22)(109,"mat-label"),l(110,"Stop Rental/Recur"),a(),n(111,"input",43),v("change",function(u){return P(s),_(t.onDateChange(u,"stopdate"))}),a(),c(112,"mat-datepicker-toggle",28)(113,"mat-datepicker",null,6),R(115,lm,2,1,"mat-error"),a(),n(116,"mat-form-field",44)(117,"mat-label"),l(118,"Follow Up"),a(),c(119,"input",23),a(),n(120,"mat-form-field",45)(121,"mat-label"),l(122,"Stop Reason"),a(),c(123,"input",23),a(),n(124,"mat-checkbox",46),l(125,"Override"),a(),n(126,"mat-checkbox",47),l(127,"Use HAO"),a()()(),n(128,"div",21)(129,"mat-form-field",45)(130,"mat-label"),l(131,"Reason"),a(),c(132,"input",23),a(),n(133,"mat-form-field",22)(134,"mat-label"),l(135,"Ship status"),a(),n(136,"mat-select",48)(137,"mat-option",49),l(138,"E"),a(),n(139,"mat-option",50),l(140,"F"),a()()(),n(141,"mat-form-field",22)(142,"mat-label"),l(143,"Ship Date"),a(),n(144,"input",43),v("change",function(u){return P(s),_(t.onDateChange(u,"shipdate"))}),a(),c(145,"mat-datepicker-toggle",28)(146,"mat-datepicker",null,7),R(148,mm,2,1,"mat-error"),a(),n(149,"mat-form-field",22)(150,"mat-label"),l(151,"Ship Method"),a(),n(152,"mat-select",48)(153,"mat-option",51),l(154,"UPS"),a()()(),n(155,"mat-form-field",44)(156,"mat-label"),l(157,"Tracking No."),a(),c(158,"input",23),a(),n(159,"mat-form-field",22)(160,"mat-label"),l(161,"Date Delivered"),a(),c(162,"input",52)(163,"mat-datepicker-toggle",28)(164,"mat-datepicker",null,8),a()()(),n(166,"div",21)(167,"div",19)(168,"div",20)(169,"div",21)(170,"div",31)(171,"mat-form-field",32)(172,"mat-label"),l(173,"Primary"),a(),c(174,"input",23),a(),n(175,"mat-icon",34),v("click",function(){return P(s),_(t.openPayorsList("Primary"))}),a()(),n(176,"div",31)(177,"mat-form-field",32)(178,"mat-label"),l(179,"Co-Pay"),a(),c(180,"input",23),a(),n(181,"mat-icon",34),v("click",function(){return P(s),_(t.openPayorsList("Co-Pay"))}),a()(),n(182,"div",31)(183,"mat-form-field",32)(184,"mat-label"),l(185,"Physician"),a(),c(186,"input",23),a(),n(187,"mat-icon",34),v("click",function(){return P(s),_(t.openAssignedPhysicianList())}),a()(),n(188,"div",31)(189,"mat-form-field",22)(190,"mat-label"),l(191,"Sales Rep"),a(),n(192,"mat-select",38)(193,"mat-select-trigger"),l(194),a(),ae(195,dm,3,2,"mat-option",39,de),a()()(),n(197,"div",31)(198,"mat-form-field",32)(199,"mat-label"),l(200,"Referral"),a(),c(201,"input",23),a(),n(202,"mat-icon",34),v("click",function(){return P(s),_(t.openReferralList())}),a()(),n(203,"mat-form-field",22)(204,"mat-label"),l(205,"Auth Date"),a(),n(206,"input",43),v("change",function(u){return P(s),_(t.onDateChange(u,"authdate"))}),a(),c(207,"mat-datepicker-toggle",28)(208,"mat-datepicker",null,9),R(210,pm,2,1,"mat-error"),a(),n(211,"mat-form-field",22)(212,"mat-label"),l(213,"Authorization #"),a(),c(214,"input",23),a()(),n(215,"div",21)(216,"mat-form-field",22)(217,"mat-label"),l(218,"Price Code"),a(),c(219,"input",23),a(),n(220,"mat-form-field",22)(221,"mat-label"),l(222,"Procedure"),a(),c(223,"input",23),a(),n(224,"mat-form-field",53)(225,"mat-label"),l(226,"Mod1"),a(),c(227,"input",23),a(),n(228,"mat-form-field",53)(229,"mat-label"),l(230,"Mod2"),a(),c(231,"input",23),a(),n(232,"mat-form-field",53)(233,"mat-label"),l(234,"Mod3"),a(),c(235,"input",23),a(),n(236,"mat-form-field",53)(237,"mat-label"),l(238,"Mod4"),a(),c(239,"input",23),a(),n(240,"div",31)(241,"mat-form-field",32)(242,"mat-label"),l(243,"Place of Service"),a(),n(244,"mat-select",38)(245,"mat-select-trigger"),l(246),a(),ae(247,cm,5,3,"mat-option",39,de),w(249,"async"),a()()(),n(250,"mat-form-field",22)(251,"mat-label"),l(252,"TOS"),a(),c(253,"input",23),a(),n(254,"mat-form-field",22)(255,"mat-label"),l(256,"Diag24E"),a(),c(257,"input",23),a()(),n(258,"div",21)(259,"mat-form-field",22)(260,"mat-label"),l(261,"CMN(Y/N)"),a(),n(262,"mat-select",48)(263,"mat-option",54),l(264,"Y"),a(),n(265,"mat-option",55),l(266,"N"),a()()(),n(267,"div",31)(268,"mat-form-field",32)(269,"mat-label"),l(270,"Form"),a(),c(271,"input",37),a(),c(272,"mat-icon",14),a(),n(273,"mat-form-field",22)(274,"mat-label"),l(275,"CMN Exp Date"),a(),c(276,"input",56)(277,"mat-datepicker-toggle",28)(278,"mat-datepicker",null,10),a(),n(280,"mat-form-field",22)(281,"mat-label"),l(282,"Mo.Rented"),a(),c(283,"input",23),a(),n(284,"mat-form-field",22)(285,"mat-label"),l(286,"Letter"),a(),c(287,"input",37),a(),n(288,"mat-form-field",22)(289,"mat-label"),l(290,"Inv. VendorID"),a(),c(291,"input",23),a()(),n(292,"div",21)(293,"mat-form-field",22)(294,"mat-label"),l(295,"Submitted"),a(),c(296,"input",23),a(),n(297,"mat-form-field",22)(298,"mat-label"),l(299,"Allowed"),a(),c(300,"input",23),a(),n(301,"mat-form-field",22)(302,"mat-label"),l(303,"Due Primary"),a(),c(304,"input",23),a(),n(305,"mat-form-field",22)(306,"mat-label"),l(307,"Co-Pay"),a(),c(308,"input",23),a(),n(309,"mat-form-field",22)(310,"mat-label"),l(311,"Pre-Paid"),a(),c(312,"input",23),a()(),n(313,"div",21)(314,"div",31)(315,"mat-form-field",32)(316,"mat-label"),l(317,"Dignosis 1"),a(),c(318,"input",23),a(),n(319,"mat-icon",34),v("click",function(){return P(s),_(t.openDiagnosisCodePopup("patienticdid1"))}),a()(),n(320,"div",31)(321,"mat-form-field",32)(322,"mat-label"),l(323,"Dignosis 2"),a(),c(324,"input",23),a(),n(325,"mat-icon",34),v("click",function(){return P(s),_(t.openDiagnosisCodePopup("patienticdid2"))}),a()(),n(326,"div",31)(327,"mat-form-field",32)(328,"mat-label"),l(329,"Dignosis 3"),a(),c(330,"input",23),a(),n(331,"mat-icon",34),v("click",function(){return P(s),_(t.openDiagnosisCodePopup("patienticdid3"))}),a()(),n(332,"div",31)(333,"mat-form-field",32)(334,"mat-label"),l(335,"Dignosis 4"),a(),c(336,"input",23),a(),n(337,"mat-icon",34),v("click",function(){return P(s),_(t.openDiagnosisCodePopup("patienticdid4"))}),a()()()()()()()()()}if(i&2){let s=Y(21),m=Y(34),u=Y(42),C=Y(49),D=Y(56),f=Y(114),y=Y(147),g=Y(165),S=Y(209),bi=Y(279);o(3),r("svgIcon","heroicons_solid:arrow-left"),o(),B(t.chargeId!==null?4:-1),o(),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("formGroup",t.chargeForm),o(7),r("formControlName","invoiceno"),o(4),r("formControl",t.branchName)("placeholder","Branch")("matAutocomplete",s),o(4),r("ngForOf",I(23,114,t.branch$)),o(5),r("formControlName","confirm"),o(4),r("matDatepicker",m)("placeholder",t.dateFormat)("formControlName","lastdatebilled"),o(),r("for",m),o(3),B(t.chargeForm.get("lastdatebilled").hasError("notValidDate")?35:-1),o(4),r("matDatepicker",u)("placeholder",t.dateFormat)("formControlName","svcdate"),o(),r("for",u),o(6),r("matDatepicker",C)("placeholder",t.dateFormat)("formControlName","todate"),o(),r("for",C),o(6),r("matDatepicker",D)("placeholder",t.dateFormat)("formControlName","notesexpiredate"),o(),r("for",D),o(3),B(t.chargeForm.get("notesexpiredate").hasError("notValidDate")?57:-1),o(4),r("color","primary")("formControlName","isrollup"),o(6),r("readonly",!1)("formControlName","itemCode"),o(),r("svgIcon","heroicons_solid:download"),o(4),r("formControlName","description"),o(4),r("formControlName","quantity"),o(4),r("formControlName","quantityshipped"),o(6),r("svgIcon","heroicons_solid:download"),o(4),r("formControlName","billtype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedBillType),o(),ne(I(95,116,t.billType$)),o(7),r("formControlName","narrative"),o(7),r("formControlName","cmnfreq"),o(4),r("matDatepicker",f)("placeholder",t.dateFormat)("formControlName","stopdate"),o(),r("for",f),o(3),B(t.chargeForm.get("stopdate").hasError("notValidDate")?115:-1),o(4),r("formControlName","followup"),o(4),r("formControlName","pickupreason"),o(),r("color","primary")("formControlName","isoverride"),o(2),r("color","primary"),o(6),r("formControlName","deliverytype"),o(4),r("formControlName","shipstatus"),o(8),r("matDatepicker",y)("placeholder",t.dateFormat)("formControlName","shipdate"),o(),r("for",y),o(3),B(t.chargeForm.get("shipdate").hasError("notValidDate")?148:-1),o(4),r("formControlName","shipvia"),o(6),r("formControlName","trackingno"),o(4),r("matDatepicker",g)("placeholder",t.dateFormat),o(),r("for",g),o(11),r("formControlName","PrimaryPayorsName"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","coPayorsName"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","physicianFullName"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","salesid")("panelClass","w-72 min-w-72 max-w-96 h-100 max-h-100"),o(2),$(t.selectedSalesRep),o(),ne(t.salesrepList),o(6),r("formControlName","referCode"),o(),r("svgIcon","heroicons_solid:download"),o(4),r("matDatepicker",S)("placeholder",t.dateFormat)("formControlName","authdate"),o(),r("for",S),o(3),B(t.chargeForm.get("authdate").hasError("notValidDate")?210:-1),o(4),r("formControlName","paponumber"),o(5),r("formControlName","priceid"),o(4),r("formControlName","hcpcscode"),o(4),r("formControlName","mod1"),o(4),r("formControlName","mod2"),o(4),r("formControlName","mod3"),o(4),r("formControlName","mod4"),o(5),r("formControlName","pos")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-70"),o(2),$(t.selectedPlaceOfService),o(),ne(I(249,118,t.placeOfServiceReps$)),o(6),r("formControlName","tos"),o(4),r("formControlName","diag24e"),o(5),r("formControlName","cmnreq"),o(10),r("svgIcon","heroicons_solid:download"),o(4),r("matDatepicker",bi)("placeholder",t.dateFormat)("formControlName","cmnexpire"),o(),r("for",bi),o(6),r("formControlName","monthsrented"),o(8),r("formControlName","inventoryvendorid"),o(5),r("formControlName","submitted"),o(4),r("formControlName","allowed"),o(4),r("formControlName","dueprimary"),o(4),r("formControlName","duesecondary"),o(4),r("formControlName","prepaid"),o(6),r("formControlName","icdc10code1"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","icdc10code2"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","icdc10code3"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","icdc10code4"),o(),r("svgIcon","heroicons_solid:download")}},dependencies:[ye,Re,Z,fe,Oe,De,he,_e,$t,we,Ne,Ee,Ie,Fe,Ze,Et,pi,lt,St,Pt,mt,xt,Dt,_t,Vt,Qt,G],styles:[".ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-wrapper{padding:0!important;margin:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-flex{min-height:30px!important;padding-top:0!important;padding-bottom:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-infix{padding-top:0!important;padding-bottom:0!important;min-height:0px!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding-top:0!important;padding-bottom:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-mdc-form-field{margin-top:0!important;margin-bottom:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{margin:0!important;padding:0!important;min-height:0!important;height:0!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-bottom-align:after{display:none!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field input[matDatepicker]{height:30px!important;line-height:30px!important;padding:0 8px!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle{height:30px!important;width:30px!important;display:flex!important;align-items:center!important;justify-content:center!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle .mat-datepicker-toggle-default-icon{width:16px!important;height:16px!important}.ar-history[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{height:30px!important;display:flex!important;align-items:center!important}.ar-history[_ngcontent-%COMP%]   aux-select-dropdown[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{margin-top:0!important}"],changeDetection:0})}};Ya=N([k()],Ya);var Vi=d=>({"mb-2":d});function um(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function hm(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function fm(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function gm(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function Cm(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function vm(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function ym(d,e){if(d&1&&(n(0,"mat-option",33),l(1),a()),d&2){let i=e.$implicit;r("value",i.name),o(),$(i.name)}}function bm(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function Dm(d,e){d&1&&(n(0,"mat-error"),l(1,"Physician Filed Is Required "),a())}var Ka=class So{constructor(e,i,t,s,m,u,C,D){this.fb=e,this.data=i,this.auxUtilService=t,this.store=s,this.matDialog=m,this.route=u,this.router=C,this.dialogRef=D,this.isLinear=!1,this.filteredOptions=[{name:"E"},{name:"F"}],this.confirmOptions=[{name:"Yes"},{name:"No"}];let f=Number(this.router.url.split("/")[3]);this.patientGroupData=i.dynamicComponentData,this.patientGroupEditForm=this.fb.group({patientid:[f],svcdate:[],todate:[],nextbill:[],cmnexpire:[],notesexpiredate:[],shipdate:[],authdate:[],shipstatus:[],invoiceno:[],authno:[],narrative:[],mod1:[],mod2:[],mod3:[],mod4:[],physicianFullName:[""],patientdoctorid1:[0],doctorId:[""],PrimaryPayorsName:[""],Payor1:[0],Payor2:[0],patientpayorid1:[0],patientpayorid2:[0],CoPayorsName:[""],isSvsdateClear:[!1],isTodateClear:[!1],isNextbillClear:[!1],isCmnexpireClear:[!1],isNotesexpiredateClear:[!1],isShipdateClear:[!1],isAuthdateClear:[!1],isShipstatusClear:[!1],isInvoicenoClear:[!1],isAuthnoClear:[!1],isNarrativeClear:[!1],isMode1Clear:[!1],isMode2Clear:[!1],isMode3Clear:[!1],isMode4Clear:[!1],IsPayor1Clear:[!1],IsPayor2Clear:[!1]})}onDateChange(e,i){this.patientGroupEditForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.patientGroupEditForm,i)}submit(){let e=this.patientGroupEditForm.value;e.numbers=this.patientGroupData,this.store.dispatch(Ct.EditGroupCharges({chargesData:e})),this.dialogRef.close(!0)}openPayorsList(e){let i={icon:"mat_outline:edit_note",title:"Select Assigned Payors",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Zt,dynamicComponentData:this.patientGroupEditForm.get("patientid").value,submitFunction:"selectRow",enterKeyEnabled:!0};this.matDialog.open(E,{width:"50%",height:"auto",data:i}).afterClosed().pipe(h(this)).subscribe(s=>{s&&(e=="Primary"?(this.patientGroupEditForm.get("PrimaryPayorsName").setValue(s.billTo),this.patientGroupEditForm.get("patientpayorid1").setValue(s.id),this.patientGroupEditForm.get("Payor1").setValue(s.payorId)):e=="Co-Pay"&&(this.patientGroupEditForm.get("CoPayorsName").setValue(s.billTo),this.patientGroupEditForm.get("patientpayorid2").setValue(s.id),this.patientGroupEditForm.get("Payor2").setValue(s.payorId)))})}openPhysicianList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Physician",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:li,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"auto",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.patientGroupEditForm.get("physicianFullName").setValue(t.firstName+" "+t.lastName),this.patientGroupEditForm.get("patientdoctorid1").setValue(t.id))})}static{this.\u0275fac=function(i){return new(i||So)(p(bt),p(nt,8),p(ke),p(F),p(z),p(K),p(O),p(Be))}}static{this.\u0275cmp=A({type:So,selectors:[["app-patient-group-edit-charge"]],features:[re([{provide:ni,useValue:{appearance:"outline"}}])],decls:174,vars:84,consts:[["stepper",""],["svcdate","matDatepicker"],["todate","matDatepicker"],["nextbill","matDatepicker"],["shipdate","matDatepicker"],["cmnExpireDate","matDatepicker"],["expireDate","matDatepicker"],["auto","matAutocomplete"],["authdate","matDatepicker"],[3,"linear"],["label","General",3,"stepControl"],[3,"formGroup"],[1,"group-edit-order","flex","max-h-screen","flex-col"],[1,"relative","h-full",3,"ngSubmit","formGroup"],[1,"w-full","md:flex"],[1,"mt-4","flex","w-full","flex-col","md:w-1/2"],[1,"mb-2","flex","w-full","items-center"],[1,"w-1/2","pr-1",3,"ngClass"],["matInput","","formControlName","svcdate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","isSvsdateClear",1,"mr-2",3,"color"],["matInput","","formControlName","todate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isTodateClear",1,"mr-2",3,"color"],["matInput","","formControlName","nextbill","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isNextbillClear",1,"mr-2",3,"color"],["matInput","","formControlName","shipdate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isShipdateClear",1,"mr-2",3,"color"],["matInput","","formControlName","cmnexpire","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isCmnexpireClear",1,"mr-2",3,"color"],["matInput","","formControlName","notesexpiredate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isNotesexpiredateClear",1,"mr-2","mt-1","items-center",3,"color"],[1,"w-1/2","pr-1",3,"subscriptSizing"],["matInput","","type","text","formControlName","shipstatus",1,"uppercase",3,"placeholder","matAutocomplete"],[3,"value"],["formControlName","isShipstatusClear",1,"mr-2",3,"color"],[1,"w-1/2","pr-1"],["matInput","","formControlName","invoiceno",1,"uppercase"],["formControlName","isInvoicenoClear",1,"mr-2",3,"color"],["matInput","","formControlName","authdate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isAuthdateClear",1,"mr-2",3,"color"],["matInput","","formControlName","authno",1,"uppercase"],["formControlName","isAuthnoClear",1,"mr-2",3,"color"],["label","Billing",3,"stepControl"],["matInput","","type","text","formControlName","mod1",1,"uppercase",3,"placeholder"],["formControlName","isMode1Clear",1,"mr-2",3,"color"],["matInput","","type","text","formControlName","mod2",1,"uppercase",3,"placeholder"],["formControlName","isMode2Clear",1,"mr-2",3,"color"],["matInput","","type","text","formControlName","mod3",1,"uppercase",3,"placeholder"],["formControlName","isMode3Clear",1,"mr-2",3,"color"],["matInput","","type","text","formControlName","mod4",1,"uppercase",3,"placeholder"],["formControlName","isMode4Clear",1,"mr-2",3,"color"],[1,"w-1/3","pr-0"],["matInput","",1,"uppercase",3,"formControlName"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],["formControlName","IsPayor1Clear",1,"mr-2",3,"color"],["formControlName","IsPayor2Clear",1,"mr-2",3,"color"],[1,"w-9/12","pr-1"],["matInput","","formControlName","narrative","placeholder","Narrative",1,"uppercase"],["formControlName","isNarrativeClear",1,"mr-2",3,"color"],[1,"align-center","mb-2","flex","items-baseline"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","cursor-pointer","sm:flex",3,"click","svgIcon"]],template:function(i,t){if(i&1){let s=Se();n(0,"mat-stepper",9,0)(2,"mat-step",10)(3,"form",11)(4,"div",12)(5,"form",13),v("ngSubmit",function(){return P(s),_(t.submit())}),n(6,"div",14)(7,"div",15)(8,"div",16)(9,"mat-form-field",17)(10,"mat-label"),l(11,"Service Date"),a(),n(12,"input",18),v("change",function(u){return P(s),_(t.onDateChange(u,"svcdate"))}),a(),c(13,"mat-datepicker-toggle",19)(14,"mat-datepicker",null,1),R(16,um,2,0,"mat-error"),a(),n(17,"mat-checkbox",20),l(18,"Clear Data"),a()(),n(19,"div",16)(20,"mat-form-field",17)(21,"mat-label"),l(22,"To Date"),a(),n(23,"input",21),v("change",function(u){return P(s),_(t.onDateChange(u,"todate"))}),a(),c(24,"mat-datepicker-toggle",19)(25,"mat-datepicker",null,2),R(27,hm,2,0,"mat-error"),a(),n(28,"mat-checkbox",22),l(29,"Clear Data"),a()(),n(30,"div",16)(31,"mat-form-field",17)(32,"mat-label"),l(33,"Next Bill Date"),a(),n(34,"input",23),v("change",function(u){return P(s),_(t.onDateChange(u,"nextbill"))}),a(),c(35,"mat-datepicker-toggle",19)(36,"mat-datepicker",null,3),R(38,fm,2,0,"mat-error"),a(),n(39,"mat-checkbox",24),l(40,"Clear Data"),a()(),n(41,"div",16)(42,"mat-form-field",17)(43,"mat-label"),l(44,"Ship Date"),a(),n(45,"input",25),v("change",function(u){return P(s),_(t.onDateChange(u,"shipdate"))}),a(),c(46,"mat-datepicker-toggle",19)(47,"mat-datepicker",null,4),R(49,gm,2,0,"mat-error"),a(),n(50,"mat-checkbox",26),l(51,"Clear Data"),a()(),n(52,"div",16)(53,"mat-form-field",17)(54,"mat-label"),l(55,"CMN Expire Date"),a(),n(56,"input",27),v("change",function(u){return P(s),_(t.onDateChange(u,"cmnexpire"))}),a(),c(57,"mat-datepicker-toggle",19)(58,"mat-datepicker",null,5),R(60,Cm,2,0,"mat-error"),a(),n(61,"mat-checkbox",28),l(62,"Clear Data"),a()(),n(63,"div",16)(64,"mat-form-field",17)(65,"mat-label"),l(66,"Notes Expire Date"),a(),n(67,"input",29),v("change",function(u){return P(s),_(t.onDateChange(u,"notesexpiredate"))}),a(),c(68,"mat-datepicker-toggle",19)(69,"mat-datepicker",null,6),R(71,vm,2,0,"mat-error"),a(),n(72,"mat-checkbox",30),l(73,"Clear Data"),a()()(),n(74,"div",15)(75,"div",16)(76,"mat-form-field",31)(77,"mat-label"),l(78,"Ship Status"),a(),c(79,"input",32),n(80,"mat-autocomplete",null,7),ae(82,ym,2,2,"mat-option",33,de),a()(),n(84,"mat-checkbox",34),l(85,"Clear Data"),a()(),n(86,"div",16)(87,"mat-form-field",35)(88,"mat-label"),l(89,"Invoice#"),a(),c(90,"input",36),a(),n(91,"mat-checkbox",37),l(92,"Clear Data"),a()(),n(93,"div",16)(94,"mat-form-field",17)(95,"mat-label"),l(96,"Auth Date"),a(),n(97,"input",38),v("change",function(u){return P(s),_(t.onDateChange(u,"authdate"))}),a(),c(98,"mat-datepicker-toggle",19)(99,"mat-datepicker",null,8),R(101,bm,2,0,"mat-error"),a(),n(102,"mat-checkbox",39),l(103,"Clear Data"),a()(),n(104,"div",16)(105,"mat-form-field",35)(106,"mat-label"),l(107,"Authorization #"),a(),c(108,"input",40),a(),n(109,"mat-checkbox",41),l(110,"Clear Data"),a()()()()()()()(),n(111,"mat-step",42)(112,"form",11)(113,"div",14)(114,"div",15)(115,"div",16)(116,"mat-form-field",31)(117,"mat-label"),l(118,"Mode1"),a(),c(119,"input",43),a(),n(120,"mat-checkbox",44),l(121,"Clear Data"),a()(),n(122,"div",16)(123,"mat-form-field",31)(124,"mat-label"),l(125,"Mode2"),a(),c(126,"input",45),a(),n(127,"mat-checkbox",46),l(128,"Clear Data"),a()(),n(129,"div",16)(130,"mat-form-field",31)(131,"mat-label"),l(132,"Mode3"),a(),c(133,"input",47),a(),n(134,"mat-checkbox",48),l(135,"Clear Data"),a()(),n(136,"div",16)(137,"mat-form-field",31)(138,"mat-label"),l(139,"Mode4"),a(),c(140,"input",49),a(),n(141,"mat-checkbox",50),l(142,"Clear Data"),a()()(),n(143,"div",15)(144,"div",16)(145,"mat-form-field",51)(146,"mat-label"),l(147,"Primary"),a(),c(148,"input",52),a(),n(149,"mat-icon",53),v("click",function(){return P(s),_(t.openPayorsList("Primary"))}),a(),n(150,"mat-checkbox",54),l(151,"Clear Data"),a()(),n(152,"div",16)(153,"mat-form-field",51)(154,"mat-label"),l(155,"Co-Pay"),a(),c(156,"input",52),a(),n(157,"mat-icon",53),v("click",function(){return P(s),_(t.openPayorsList("Co-Pay"))}),a(),n(158,"mat-checkbox",55),l(159,"Clear Data"),a()()()(),n(160,"div",16)(161,"mat-form-field",56)(162,"mat-label"),l(163,"Narrative"),a(),c(164,"input",57),a(),n(165,"mat-checkbox",58),l(166,"Clear Data"),a()(),n(167,"div",59)(168,"mat-form-field",56)(169,"mat-label"),l(170,"Physician"),a(),c(171,"input",60),R(172,Dm,2,0,"mat-error"),a(),n(173,"mat-icon",61),v("click",function(){return P(s),_(t.openPhysicianList())}),a()()()()()}if(i&2){let s=Y(15),m=Y(26),u=Y(37),C=Y(48),D=Y(59),f=Y(70),y=Y(81),g=Y(100);r("linear",t.isLinear),o(2),r("stepControl",t.patientGroupEditForm),o(),r("formGroup",t.patientGroupEditForm),o(2),r("formGroup",t.patientGroupEditForm),o(4),r("ngClass",We(70,Vi,t.patientGroupEditForm.get("svcdate").hasError("notValidDate"))),o(3),r("matDatepicker",s),o(),r("for",s),o(3),B(t.patientGroupEditForm.get("svcdate").hasError("notValidDate")?16:-1),o(),r("color","primary"),o(3),r("ngClass",We(72,Vi,t.patientGroupEditForm.get("todate").hasError("notValidDate"))),o(3),r("matDatepicker",m),o(),r("for",m),o(3),B(t.patientGroupEditForm.get("todate").hasError("notValidDate")?27:-1),o(),r("color","primary"),o(3),r("ngClass",We(74,Vi,t.patientGroupEditForm.get("nextbill").hasError("notValidDate"))),o(3),r("matDatepicker",u),o(),r("for",u),o(3),B(t.patientGroupEditForm.get("nextbill").hasError("notValidDate")?38:-1),o(),r("color","primary"),o(3),r("ngClass",We(76,Vi,t.patientGroupEditForm.get("shipdate").hasError("notValidDate"))),o(3),r("matDatepicker",C),o(),r("for",C),o(3),B(t.patientGroupEditForm.get("shipdate").hasError("notValidDate")?49:-1),o(),r("color","primary"),o(3),r("ngClass",We(78,Vi,t.patientGroupEditForm.get("cmnexpire").hasError("notValidDate"))),o(3),r("matDatepicker",D),o(),r("for",D),o(3),B(t.patientGroupEditForm.get("cmnexpire").hasError("notValidDate")?60:-1),o(),r("color","primary"),o(3),r("ngClass",We(80,Vi,t.patientGroupEditForm.get("notesexpiredate").hasError("notValidDate"))),o(3),r("matDatepicker",f),o(),r("for",f),o(3),B(t.patientGroupEditForm.get("notesexpiredate").hasError("notValidDate")?71:-1),o(),r("color","primary"),o(4),r("subscriptSizing","dynamic"),o(3),r("placeholder","Ship Status")("matAutocomplete",y),o(3),ne(t.filteredOptions),o(2),r("color","primary"),o(7),r("color","primary"),o(3),r("ngClass",We(82,Vi,t.patientGroupEditForm.get("authdate").hasError("notValidDate"))),o(3),r("matDatepicker",g),o(),r("for",g),o(3),B(t.patientGroupEditForm.get("authdate").hasError("notValidDate")?101:-1),o(),r("color","primary"),o(7),r("color","primary"),o(2),r("stepControl",t.patientGroupEditForm),o(),r("formGroup",t.patientGroupEditForm),o(4),r("subscriptSizing","dynamic"),o(3),r("placeholder","Mod 1"),o(),r("color","primary"),o(3),r("subscriptSizing","dynamic"),o(3),r("placeholder","Mod 2"),o(),r("color","primary"),o(3),r("subscriptSizing","dynamic"),o(3),r("placeholder","Mod 3"),o(),r("color","primary"),o(3),r("subscriptSizing","dynamic"),o(3),r("placeholder","Mod 4"),o(),r("color","primary"),o(7),r("formControlName","PrimaryPayorsName"),o(),r("svgIcon","heroicons_solid:download"),o(),r("color","primary"),o(6),r("formControlName","CoPayorsName"),o(),r("svgIcon","heroicons_solid:download"),o(),r("color","primary"),o(7),r("color","primary"),o(6),r("readonly",!0)("formControlName","physicianFullName"),o(),B(t.patientGroupEditForm.get("physicianFullName").hasError("required")?172:-1),o(),r("svgIcon","heroicons_solid:download")}},dependencies:[$a,Ra,fe,Oe,De,he,_e,we,Ne,Ee,Rt,Ie,Fe,St,Pt,mt,xt,Dt,_t,Ze,Et,lt,ye,Re],styles:["app-patient-group-edit-work-order .mat-mdc-form-field-bottom-align:before{content:none}.group-edit-order[_ngcontent-%COMP%]{height:-webkit-fill-available}  app-patient-group-edit-work-order .group-edit-body .mat-mdc-tab-body-content{padding-top:0;padding-bottom:0}  app-patient-group-edit-work-order .mat-mdc-tab-body-wrapper{height:calc(100vh - 353px)}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-wrapper{padding:0!important;margin:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-flex{min-height:30px!important;padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-infix{padding-top:0!important;padding-bottom:0!important;min-height:0px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-mdc-form-field{margin-top:0!important;margin-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{margin:0!important;padding:0!important;min-height:0!important;height:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-bottom-align:after{display:none!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field input[matDatepicker]{height:30px!important;line-height:30px!important;padding:0 8px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle{height:30px!important;width:30px!important;display:flex!important;align-items:center!important;justify-content:center!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle .mat-datepicker-toggle-default-icon{width:16px!important;height:16px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{height:30px!important;display:flex!important;align-items:center!important}.patient-inquiry[_ngcontent-%COMP%]   aux-select-dropdown[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{margin-top:0!important}"],data:{animation:Bt}})}};Ka=N([k()],Ka);var Qa=class Po{constructor(e,i,t,s,m,u,C,D,f,y){this.store=e,this.actions$=i,this.currency=t,this.router=s,this.activatedRoute=m,this.dateTime=u,this.dialog=C,this.dateFormat=D,this.cdr=f,this.titleService=y,this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.patientChargesData$=this.store.select(da.selectPatientCharges),this.loading$=this.store.select(da.selectLoading),this.options={gridOptions:{rowSelection:{mode:"multiRow",checkboxes:!0,headerCheckbox:!0,selectAll:"filtered",checkboxColumn:{field:"checkedField",width:35,maxWidth:35,pinned:"left",resizable:!1,suppressMovable:!0,sortable:!1,filter:!1,lockPosition:"left",headerName:""}},rowMultiSelectWithClick:!0,headerHeight:30,rowHeight:36},defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",minWidth:70,hide:!0,filter:"agMultiColumnFilter",sortIndex:99,onCellClicked:this.openChargeDetails.bind(this)},{headerName:"SVC DATE",field:"svcDate",minWidth:125,sort:"desc",sortIndex:0,filter:"agDateColumnFilter",valueFormatter:g=>this.dateFormat.transform(g.data.svcDate),onCellClicked:this.openChargeDetails.bind(this)},{headerName:"TO DATE",field:"toDate",minWidth:125,sortIndex:1,filter:"agDateColumnFilter",valueFormatter:g=>this.dateFormat.transform(g.data.toDate),onCellClicked:this.openChargeDetails.bind(this)},{headerName:"ITEM ID",field:"itemId",minWidth:75,sortIndex:2,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"ITEM CODE",field:"itemCode",minWidth:125,sortIndex:2,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"HCPCS",field:"hcpcsCode",minWidth:100,sortIndex:3,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"STOP DATE",field:"stopDate",minWidth:125,sortIndex:6,valueFormatter:g=>this.dateFormat.transform(g.data.stopDate),filter:"agDateColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"T",field:"billType",minWidth:50,sortIndex:5,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"DESCRIPTION",field:"description",minWidth:250,sortIndex:4,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"LAST BILLED",field:"lastDateBilled",minWidth:125,sortIndex:7,valueFormatter:g=>this.dateFormat.transform(g.data.lastDateBilled),filter:"agDateColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"CMN EXPIRE",field:"cmnExpire",minWidth:125,sortIndex:9,valueFormatter:g=>this.dateFormat.transform(g.data.cmnExpire),filter:"agDateColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"NOTES EXPIRE",field:"notesExpireDate",minWidth:125,sortIndex:8,valueFormatter:g=>this.dateFormat.transform(g.data.notesExpireDate),filter:"agDateColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"AUTH DATE",field:"authDate",minWidth:125,sortIndex:10,valueFormatter:g=>this.dateFormat.transform(g.data.authDate),filter:"agDateColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"BRANCH",field:"branchCode",minWidth:100,sortIndex:11,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"PREPAID",field:"prepaid",minWidth:100,sortIndex:13,valueFormatter:g=>this.currency.transform(g.data.prepaid,"USD","symbol"),onCellClicked:this.openChargeDetails.bind(this)},{headerName:"DUE PRIMARY",field:"duePrimary",minWidth:120,sortIndex:14,valueFormatter:g=>this.currency.transform(g.data.duePrimary,"USD","symbol"),onCellClicked:this.openChargeDetails.bind(this)},{headerName:"DUE SECONDARY",field:"dueSecondary",minWidth:120,sortIndex:15,valueFormatter:g=>this.currency.transform(g.data.dueSecondary,"USD","symbol"),onCellClicked:this.openChargeDetails.bind(this)},{headerName:"Price",field:"submitted",minWidth:120,sortIndex:16,valueFormatter:g=>this.currency.transform(g.data.submitted,"USD","symbol"),onCellClicked:this.openChargeDetails.bind(this)},{headerName:"ACCESSION #",field:"accessionNo",minWidth:120,sortIndex:17,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"CMN FORM",field:"cmnForm",minWidth:100,sortIndex:12,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"NOTES",field:"notes",minWidth:150,sortIndex:18,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"NARRATIVE",field:"narrative",minWidth:150,sortIndex:19,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)},{headerName:"ASSET #",field:"assetNo",minWidth:120,sortIndex:20,filter:"agMultiColumnFilter",onCellClicked:this.openChargeDetails.bind(this)}],this.visibleColumns=["checkedField","id","svcDate","itemId","itemCode","hcpcsCode","stopDate","tranType","billType","description","lastDateBilled","cmnExpire","notesExpireDate","authDate","submitted","cmnForm"],this.selection=new Kt(!0,[]),this.toolbarData=[{title:"Refresh",type:"basic",icon:"mat_outline:refresh",function:()=>{this.refresh.next(null)}},{title:"Add Charge",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.addCharge()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.patientId=Number(this.router.url.split("/")[3]),te([this.activatedRoute.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(()=>{this.store.dispatch(Ct.LoadCharges({patientId:this.patientId}))}),this.actions$.pipe(b(Ct.Refresh),h(this)).subscribe(e=>this.refresh.next(e)),this.patientChargesData$.pipe(h(this)).subscribe(e=>{this.rowData=e})}openChargeDetails(e){let i=this.toolbarData.findIndex(s=>s.title==="Group Edit"),t=this.toolbarData.findIndex(s=>s.title==="Edit");i!==-1&&this.updateToolBarData(i),t===-1&&(this.toolbarData=[...this.toolbarData,{title:"Edit",type:"basic",icon:"mat_outline:edit",function:()=>{this.redirectToEdit(e)}}]),this.cdr.detectChanges()}updateToolBarData(e){this.toolbarData=[...this.toolbarData.slice(0,e),...this.toolbarData.slice(e+1)]}redirectToEdit(e){this.router.navigate([`/centers/patient-center/${this.patientId}/charges/add`,e.data.id])}onSelectionChanged(e){let i=this.toolbarData.findIndex(s=>s.title==="Group Edit"),t=this.toolbarData.findIndex(s=>s.title==="Edit");this.selection.setSelection(...e.api.getSelectedRows()),e.api.getSelectedRows().length>0?(t!==-1&&this.updateToolBarData(t),i===-1&&(this.toolbarData=[...this.toolbarData,{title:"Group Edit",type:"basic",icon:"mat_outline:edit_note",function:()=>{this.openGroupEdit(e)}}])):i>-1&&(this.updateToolBarData(i),this.selection.clear()),this.cdr.detectChanges()}openGroupEdit(e){let i={icon:"mat_outline:edit_note",title:"Charges Group Edit",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Ka,dynamicComponentData:e.api.getSelectedRows().map(s=>s.id),submitFunction:"submit",enterKeyEnabled:!0};this.dialog.open(E,{width:"1000px",height:"auto",data:i}).afterClosed().pipe(h(this)).subscribe(s=>{e.api.clearFocusedCell(),e.api.deselectAll();let m=this.toolbarData.findIndex(u=>u.title==="Edit");m!==-1&&this.updateToolBarData(m)})}addCharge(){}static{this.\u0275fac=function(i){return new(i||Po)(p(F),p(L),p(ci),p(O),p(K),p(xe),p(z),p(q),p(ce),p(le))}}static{this.\u0275cmp=A({type:Po,selectors:[["app-patient-efirst"]],features:[re([q])],decls:8,vars:13,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"rowSelectionChange","gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"],[3,"show"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("rowSelectionChange",function(m){return t.onSelectionChanged(m)}),a(),c(6,"ac-loading-overlay",5),w(7,"async"),a()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 344px)")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$)),o(2),r("show",I(7,11,t.loading$)))},dependencies:[Z,Yt,se,G],encapsulation:2,changeDetection:0})}};Qa=N([k()],Qa);var Xa=[{name:"Afternoon",value:"A"},{name:"Evening",value:"E"},{name:"Lunchtime",value:"L"},{name:"Morning",value:"M"}],Za=[{name:"ENGLISH"},{name:"SPANISH"},{name:"FRENCH"}];var rl=[{name:"Y",value:"Y"},{name:"N",value:"N"}],na={sex:[{name:"MALE",value:"M"},{name:"FEMALE",value:"F"}],language:[{name:"ENGLISH",value:"ENGLISH"},{name:"SPANISH",value:"SPANISH"},{name:"FRENCH",value:"FRENCH"}]};function xm(d,e){if(d&1&&(n(0,"div",1)(1,"span",2),l(2),w(3,"datetimeformat"),a(),n(4,"span"),l(5),a()(),c(6,"mat-divider",3)),d&2){let i=e.$implicit;r("ngClass",i.priority==="PRIORITY"?"text-red-500":"text-black dark:text-white"),o(2),xa("Added on ",I(3,4,i.addDate)," by ",i.addedBy,""),o(3),$(i.note)}}var kt=class _o{constructor(e,i,t){this.store=e,this._router=i,this.cdr=t,this.data$=this.store.select(Fi.selectNotes),this.loading$=this.store.select(Fi.selectLoading),this.patientNotes$=this.store.select(Fs.selectPatientNotes),this.refresh=new ee,this.refresh$=this.refresh.asObservable()}ngOnInit(){let e=this._router.url.split("/")[3];te([this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(([i])=>{this.store.dispatch(jt.LoadPatientNotes({patientId:+e}))}),this.data$.pipe(h(this)).subscribe(i=>{if(i){let s=i.filter(m=>m.addUserId!=="SYSTEM");this.patientNotes=s,this.cdr.detectChanges()}})}static{this.\u0275fac=function(i){return new(i||_o)(p(F),p(O),p(ce))}}static{this.\u0275cmp=A({type:_o,selectors:[["app-patient-contact-notes-drawer"]],decls:3,vars:0,consts:[[1,"h-full"],[1,"flex","flex-col","p-4",3,"ngClass"],[1,"text-secondary","text-sm"],[1,"w-full"]],template:function(i,t){i&1&&(n(0,"ac-scrollbar",0),ae(1,xm,7,6,null,null,de),a()),i&2&&(o(),ne(t.patientNotes))},dependencies:[Ps,Rt,Ta,xe],styles:[".simplebar-placeholder{height:0px!important}"]})}};kt=N([k()],kt);function Sm(d,e){if(d&1&&(n(0,"tr",6)(1,"td",8),l(2),a(),n(3,"td",8),l(4),a(),n(5,"td",9),l(6),a()()),d&2){let i=e.$implicit;o(2),$(i.rank),o(2),$(i.billTo),o(2),$(i.name)}}function Pm(d,e){d&1&&(n(0,"div",7)(1,"h1",10),l(2,"No Payor Details Available"),a()())}function _m(d,e){if(d&1&&(n(0,"div",2)(1,"table",3)(2,"thead")(3,"tr")(4,"th",4),l(5," Rank "),a(),n(6,"th",4),l(7," Payor "),a(),n(8,"th",5),l(9," Name "),a()()(),n(10,"tbody"),ae(11,Sm,7,3,"tr",6,Hi().trackByFn,!0),a()()(),R(13,Pm,3,0,"div",7)),d&2){let i=U();o(11),ne(i.payorsData),o(2),B(i.payorsData.length===0?13:-1)}}function wm(d,e){if(d&1&&c(0,"ac-loading-overlay",1),d&2){U();let i=Y(3);r("show",i)}}function Im(d,e){if(d&1&&c(0,"ac-loading-overlay",1),d&2){U();let i=Y(3);r("show",i)}}var Mt=class wo{constructor(e,i){this.router=e,this.store=i,this.data$=this.store.select(Pi.selectPayors),this.loading$=this.store.select(Pi.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable()}ngOnInit(){let e=Number(this.router.url.split("/")[3]);this.store.dispatch(gi.LoadPatientPayors({id:e})),this.data$.pipe(h(this)).subscribe(i=>{this.payorsData=i})}trackByFn(e,i){return i.id}static{this.\u0275fac=function(i){return new(i||wo)(p(O),p(F))}}static{this.\u0275cmp=A({type:wo,selectors:[["app-patient-payors-list-drawer"]],decls:4,vars:1,consts:[["loading",""],[3,"show"],[1,"container","mx-auto","p-4"],[1,"min-w-full","border","border-gray-300","bg-white","dark:bg-transparent"],[1,"border-b","py-3","pl-2","text-left","text-xs","font-medium","uppercase","tracking-wider","text-gray-500"],[1,"border-b","py-3","pl-6","text-left","text-xs","font-medium","uppercase","tracking-wider","text-gray-500"],[1,"border-b","bg-white","dark:bg-transparent"],[1,"justify-center","py-[5%]"],[1,"whitespace-nowrap","py-4","pl-2"],[1,"whitespace-nowrap","py-4","pl-6"],[1,"to-black","text-center","text-2xl","font-bold"]],template:function(i,t){i&1&&R(0,_m,14,1)(1,wm,1,1,"ac-loading-overlay",1)(2,Im,1,1,"ng-template",null,0,Sa),i&2&&B(t.payorsData?0:1)},dependencies:[Yt],encapsulation:2})}};Mt=N([k()],Mt);function Em(d,e){if(d&1&&c(0,"aux-select-dropdown",11),d&2){let i=e.$implicit,t=U();r("controlName",i.formControlName)("className","w-full")("selectOption",t.selectOptions)("label",i.label)("matForm",t.patientForm)}}function Fm(d,e){if(d&1&&c(0,"aux-select-dropdown",11),d&2){let i=e.$implicit,t=U();r("controlName",i.formControlName)("className","w-full")("selectOption",t.selectOptions)("label",i.label)("matForm",t.patientForm)}}var Ja=class Io{constructor(e,i,t,s,m,u,C,D){this._fuseMediaWatcherService=e,this.fb=i,this.store=t,this.route=s,this.router=m,this.auxUtilService=u,this.matDialog=C,this.titleService=D,this.patient$=this.store.select($e.selectPatientDetails),this.checklist$=this.store.select(vs.selectchecklist),this.selectOptions=rl,this.onBoardingCheckList=Is,this.onReferralCheckList=Es,this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}},{title:"View Contact Notes",type:"basic",icon:"mat_outline:speaker_notes",function:()=>{this.viewPatientNotes()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}}]}ngOnInit(){this.patientForm=this.fb.group({id:[0],pwocompleted:[""],qualifiedcgm:[""],chartnotes:[""],medicarepatient:[""],contactattempt1:[""],contactattempt2:[""],contactattempt3:[""],patientinterview:[""],insuranceverified:[""],completedpworeceived:[""],qualifyingnotesreceived:[""],dispositionholdnote:[""],authrequired:["N"],hardship:[""]}),this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title);let e=parseInt(window.location.href.split("/")[5],10);this.store.dispatch(qe.LoadPatientDetails({id:e})),this.patient$.pipe(h(this)).subscribe(i=>{this.patient=i,this.patientForm.patchValue(this.patient)})}save(){let e=this.patientForm.value;e=this.auxUtilService.transFormValues(e,Ba),e.id=this.patient.id,this.store.dispatch(ji.AddPatientChecklist({patient:e}))}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||Io)(p(Ki),p(bt),p(F),p(K),p(O),p(ke),p(z),p(le))}}static{this.\u0275cmp=A({type:Io,selectors:[["ac-patient-checklists"]],features:[re([{provide:ni,useValue:{appearance:"outline"}}])],decls:27,vars:6,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[3,"ngSubmit","formGroup"],[1,"flex","w-full","bg-white","p-1","shadow","dark:bg-transparent"],[3,"navigation","name"],[1,"w-full","pb-2","pl-1","pr-1","pt-2","md:flex"],[1,"flex","w-full","flex-col","md:w-1/2"],[1,"flex","flex-col","bg-white","p-4","shadow","dark:bg-transparent"],[1,"text-secondary","my-2","flex","items-center","text-xl","font-semibold"],[1,"mr-2",3,"svgIcon"],[1,"mt-4","flex","flex-col"],[1,"w-full"],[3,"controlName","className","selectOption","label","matForm"],["matInput","",3,"formControlName"],[1,"flex","w-full","flex-col","pl-2","md:w-1/2"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"form",1),v("ngSubmit",function(){return t.save()}),n(2,"div",2),c(3,"fuse-horizontal-navigation",3),a(),n(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),c(8,"mat-icon",8),l(9," Patient Onboarding Checklist "),a(),n(10,"div",9)(11,"div",10),ae(12,Em,1,5,"aux-select-dropdown",11,de),n(14,"mat-form-field",10)(15,"mat-label"),l(16,"Disposition Hold Note"),a(),c(17,"input",12),a()()()()(),n(18,"div",13)(19,"div",6)(20,"div",7),c(21,"mat-icon",8),l(22," Referral Checklist "),a(),n(23,"div",9)(24,"div",10),ae(25,Fm,1,5,"aux-select-dropdown",11,de),a()()()()()()()),i&2&&(o(),r("formGroup",t.patientForm),o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(5),r("svgIcon","format_list_numbered"),o(4),ne(t.onBoardingCheckList),o(5),r("formControlName","dispositionholdnote"),o(4),r("svgIcon","format_list_numbered"),o(4),ne(t.onReferralCheckList))},dependencies:[fe,Oe,De,he,_e,we,Ne,Z,ye,Ft,Ee,Ie,Fe],encapsulation:2,changeDetection:0})}};Ja=N([k()],Ja);var en=["contactType","note"];function Am(d,e){if(d&1&&(n(0,"fuse-alert",10),l(1),a()),d&2){let i=U();r("appearance","outline")("type",i.alert.type)("showIcon",!1)("@shake",!0),o(),W(" ",i.alert.message," ")}}var ca=class Eo{constructor(e,i,t,s,m,u,C,D){this.patientNoteData=e,this.dialogRef=i,this._formBuilder=t,this.store=s,this.route=m,this._fuseConfirmationService=u,this._changeDetectorRef=C,this.auxUtilService=D,this.contactType=new at,this.editMode=!1,this.showAlert=!1,this.contactList$=this.store.select(la.selectContactTypeList).pipe(x(f=>f.map(y=>({name:y.code,value:y.code})))),this.note=e?.dynamicComponentData}ngOnInit(){this.adduserId=Number(this.route.url.split("/")[3]),this.contactForm=this._formBuilder.group({id:[0],contactType:["",[et.required]],note:["",[et.required]],message:[""],priority:[""]}),this.note&&(this.note.contactType=this.note.contactType?this.note.contactType:"",this.contactForm.patchValue(this.note)),this.filteredOptions=this.contactForm.get("contactType").valueChanges.pipe(Q(""),x(e=>this.ContactTypeFilter(e)))}ContactTypeFilter(e){return this.contacttype.filter(i=>i.code.toLowerCase().indexOf(e?.toLowerCase())===0)}ngAfterViewInit(){}ngOnDestroy(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe()}contacthandler(e){this.contactType.setValue(e.option.value)}deleteContact(){this._fuseConfirmationService.open({title:"Delete contact",message:"Are you sure you want to delete this contact? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(i=>{i==="confirmed"&&(this._changeDetectorRef.markForCheck(),this.dialogRef.close())})}saveContact(){let e=this.contactForm.value;this.isInputValid(e)&&(e.id==0&&(e.addDate=new Date),e.entityID=this.adduserId,e.entityType="PATIENT",e=this.auxUtilService.transFormValuesToUpperCase(e,en),e.priority=e.priority?"PRIORITY":"",this.store.dispatch(Ht.AddPatientCollectionNote({note:e})),this.dialogRef.close())}isInputValid(e){return e.contactType==""||e.contactType==null?(this.alert={type:"error",message:"Contact Type cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):e.note==""||e.note==null?(this.alert={type:"error",message:"Contact note cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):!0}static{this.\u0275fac=function(i){return new(i||Eo)(p(nt,8),p(Be),p(st),p(F),p(O),p(ge),p(ce),p(ke))}}static{this.\u0275cmp=A({type:Eo,selectors:[["ac-patient-collection-note-form"]],viewQuery:function(i,t){if(i&1&&ut(Ze,5),i&2){let s;ht(s=ft())&&(t.contactAutocomplete=s.first)}},decls:17,vars:17,consts:[[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-1/3","pr-2",3,"className","label","selectOption","controlName","matForm"],[1,"mt-8"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","","cdkTextareaAutosize","",1,"uppercase",3,"formControlName","placeholder","rows","spellcheck"],[1,"-ml-2",3,"color","formControlName"],[1,"mt-4",3,"appearance","type","showIcon"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3),c(4,"aux-select-dropdown",4),w(5,"async"),a(),n(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),l(9,"Notes"),a(),c(10,"mat-icon",7)(11,"textarea",8),a()(),n(12,"div",3)(13,"mat-checkbox",9)(14,"span"),l(15,"Priority?"),a()()(),R(16,Am,2,5,"fuse-alert",10),a()()()),i&2&&(o(2),r("formGroup",t.contactForm),o(2),r("className","w-full")("label","Contact Type")("selectOption",I(5,15,t.contactList$))("controlName","contactType")("matForm",t.contactForm),o(3),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:menu-alt-2"),o(),r("formControlName","note")("placeholder","Notes")("rows",8)("spellcheck",!1),o(2),r("color","primary")("formControlName","priority"),o(3),B(t.alert?16:-1))},dependencies:[fe,Oe,De,he,_e,we,Ne,Ft,Ee,Ie,ye,Re,Fe,Ia,_t,oi,G],encapsulation:2,data:{animation:Bt}})}};ca=N([k()],ca);var tn=class Fo{constructor(e,i,t,s,m,u,C,D,f){this.store=e,this.route=i,this.router=t,this.cdr=s,this.actions$=m,this.dateTime=u,this.dialog=C,this.titleService=D,this.searchService=f,this.rowData=[],this.columnDefs=[{headerName:"Id",minWidth:100,field:"id",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Add Date",minWidth:135,field:"addDate",valueFormatter:y=>this.dateTime.transform(y.data.addDate),sort:"desc",filter:"agDateColumnFilter",filterParams:J,sortIndex:2,hide:!1},{headerName:"Contact Type",minWidth:150,field:"contactType",sort:"desc",filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"Note",minWidth:700,field:"note",sort:"desc",filter:"agMultiColumnFilter",sortIndex:4,hide:!1,autoHeight:!0,wrapText:!0},{headerName:"User",minWidth:125,field:"addUserId",sort:"desc",filter:"agMultiColumnFilter",sortIndex:5,hide:!1},{headerName:"Message",minWidth:125,field:"message",sort:"desc",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"Priority",minWidth:150,field:"priority",sort:"desc",filter:"agMultiColumnFilter",sortIndex:7,hide:!1}],this.options={gridOptions:{rowClassRules:{"bg-yellow-100":y=>y.data.priority==="PRIORITY","dark:text-gray-600":y=>y.data.priority==="PRIORITY"}},defaultColDef:{flex:1,filter:!0,sortable:!0}},this.data$=this.store.select(la.selectNotes),this.loading$=this.store.select(la.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.visibleColumns=["addDate","contactType","note","addUserId"],this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.searchCtrl=new Me,this.selectedRowIndex=-1,this.selection=new Kt(!0,[]),this.toolbarData=[{title:"Add Collection Note",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.addContactNote()}},{title:"Show System Notes",type:"basic",icon:"mat_outline:computer",function:()=>{this.shownotes?this.hideContactNote():this.showContactNote()}}]}ngOnInit(){this.store.dispatch(Ht.LoadContactList()),this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(([e])=>{this.store.dispatch(Ht.LoadPatientCollectionNotes({patientId:+e.get("id")}))}),this.data$.pipe(h(this)).subscribe(e=>{let t=e.filter(s=>s.addUserId!=="SYSTEM");this.rowData=t,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(Ht.Refresh),h(this)).subscribe(e=>this.refresh.next(e))}showContactNote(){this.toolbarData[1].title="Hide System Notes",this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.shownotes=!0})}hideContactNote(){this.toolbarData[1].title="Show System Notes",this.data$.pipe(h(this)).subscribe(e=>{let t=e.filter(s=>s.addUserId!=="SYSTEM");this.rowData=t,this.shownotes=!1})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){this.openContactNote(e)}openContactNote(e){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"SAVE COLLECTION NOTE",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:ca,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t),e.api.clearFocusedCell()})}addContactNote(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"ADD COLLECTION NOTE",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:ca,dynamicComponentData:null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||Fo)(p(F),p(K),p(O),p(ce),p(L),p(xe),p(z),p(le),p(be))}}static{this.\u0275cmp=A({type:Fo,selectors:[["ac-patient-collection-notes"]],decls:6,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 379px)")("visibleColumns",t.visibleColumns)("loading",I(5,8,t.loading$)))},dependencies:[Z,se,G],encapsulation:2,changeDetection:0})}};tn=N([k()],tn);var an=class Ao{constructor(e,i,t,s,m,u,C,D,f,y){this.store=e,this.route=i,this.router=t,this.cdr=s,this.actions$=m,this.dialog=u,this.datePipe=C,this.titleService=D,this.searchService=f,this._fuseConfirmationService=y,this.rowData=[],this.columnDefs=[{headerName:"Id",minWidth:50,field:"id",hide:!1},{headerName:"Date Occurrence",minWidth:130,field:"dateOfOccurrence",valueFormatter:g=>this.datePipe.transform(g.data?.dateOfOccurrence)||"",filter:"agDateColumnFilter",filterParams:J,hide:!1},{headerName:"Issue Type",minWidth:130,field:"issueType",filter:"agMultiColumnFilter",hide:!1},{headerName:"Subtype",minWidth:90,field:"subType",filter:"agMultiColumnFilter",hide:!1},{headerName:"SubType Description",minWidth:270,field:"subTypeDescription",filter:"agMultiColumnFilter",hide:!1},{headerName:"Resolution",minWidth:125,field:"resolution",filter:"agMultiColumnFilter",hide:!1},{headerName:"Resolution Date",minWidth:130,field:"resolutionDate",valueFormatter:g=>{let S=g.data?.resolutionDate;return S&&S!=="1900-01-01"?this.datePipe.transform(S):""},filter:"agDateColumnFilter",filterParams:J,hide:!1},{headerName:"Added By",minWidth:100,field:"createdBy",filter:"agMultiColumnFilter",hide:!1},{headerName:"Notes",field:"contactNotes",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:65,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId),hide:!1},{headerName:"Actions",minWidth:80,field:"actions",cellRenderer:Lt,cellRendererParams:{menuItems:[{name:"Remove Record",action:this.delete.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},sortIndex:9,hide:!1}],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0},pagination:!0,paginationPageSize:20},this.toolbarData=[{title:"Add Compliance Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.addComplianceRequest()}}],this.showSystemNotes=!1,this.data$=this.store.select(Oa.selectCompliances),this.loading$=this.store.select(Oa.selectLoading),this.error$=this.store.select(Oa.selectError),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.visibleColumns=["id","dateOfOccurrence","issueType","subType","subTypeDescription","resolution","resolutionDate","createdBy","contactNotes"],this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.searchCtrl=new Me,this.selectedRowIndex=-1,this.addedBy="Current User"}ngOnInit(){this.title=this.router.url.split("/")[4]||"Compliance",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(Ye.loadCompliance({patientId:this.patientId})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{let i=e.filter(t=>this.showSystemNotes||t.createdBy!=="SYSTEM");this.rowData=i,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.error$.pipe(h(this)).subscribe(),this.actions$.pipe(b(Ye.refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["actions","contactNotes","patientId"].includes(e.column.getColId())||this.openEditComplianceRequest(e.data)}addComplianceRequest(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Add Compliance Event",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fo,dynamicComponentData:{patientId:this.patientId,addedBy:this.addedBy,compliance:null},submitFunction:"saveCompliance",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}openContactNote(e,i){this.store.dispatch(Ye.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:As,dynamicComponentData:{patientId:i,refId:e,moduleName:"COMPLIANCE"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(Ye.LoadContactNotes({patientId:this.patientId,refId:e}))})}openEditComplianceRequest(e){let i={icon:"mat_outline:edit_note",title:"EDIT COMPLIANCE REQUEST",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fo,dynamicComponentData:{patientId:this.patientId,addedBy:this.addedBy,compliance:e},submitFunction:"saveCompliance",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{})}delete(e){this.deleteRecord(e.data)}deleteRecord(e){this._fuseConfirmationService.open({title:"Remove Record",message:"Are you sure you want to remove this record? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{t==="confirmed"&&this.store.dispatch(Ye.DeleteCompliance({compliance:e}))})}static{this.\u0275fac=function(i){return new(i||Ao)(p(F),p(K),p(O),p(ce),p(L),p(z),p(q),p(le),p(be),p(ge))}}static{this.\u0275cmp=A({type:Ao,selectors:[["ac-patient-compliance"]],features:[re([q])],decls:6,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","rowData","columnDefs","visibleColumns","agGridHeight","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("visibleColumns",t.visibleColumns)("agGridHeight","calc(100vh - 292px)")("loading",I(5,8,t.loading$)))},dependencies:[Z,se,G],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}"],changeDetection:0})}};an=N([k()],an);var Tm=["htmlRender"],ll=(()=>{class d{agInit(i){this.params=i}refresh(i){return this.params=i,!0}ngAfterViewInit(){this.htmlRender.nativeElement.innerHTML=this.params.value}static{this.\u0275fac=function(t){return new(t||d)}}static{this.\u0275cmp=A({type:d,selectors:[["ac-html-renderer-component"]],viewQuery:function(t,s){if(t&1&&ut(Tm,5),t&2){let m;ht(m=ft())&&(s.htmlRender=m.first)}},decls:2,vars:0,consts:[["htmlRender",""]],template:function(t,s){t&1&&c(0,"div",null,0)},styles:["div[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word}"]})}}return d})();var Nm=["quillEditor"];function km(d,e){if(d&1&&(n(0,"fuse-alert",11),l(1),a()),d&2){let i=U();r("appearance","outline")("type",i.alert.type)("showIcon",!1)("@shake",!0),o(),W(" ",i.alert.message," ")}}var ua=class To{constructor(e,i,t,s,m,u,C,D){if(this.patientNoteData=e,this.dialogRef=i,this._formBuilder=t,this.store=s,this.route=m,this._fuseConfirmationService=u,this._changeDetectorRef=C,this.auxUtilService=D,this.showDeleteButton=!1,this.quillModules={toolbar:!1},this.contactType=new at,this.editMode=!1,this.showAlert=!1,this.data$=this.store.select(Fi.selectContactType),this.contactList$=this.store.select(Fi.selectContactTypeList).pipe(x(f=>f.map(y=>({name:y.code,value:y.code})))),this.store.dispatch(jt.LoadContactList()),e.dynamicComponentData){let f=e.dynamicComponentData.note,y=this.stripHtmlTags(f);this.note=ai(Je({},e.dynamicComponentData),{note:y})}}stripHtmlTags(e){if(!e)return"";if(!/<[a-z][\s\S]*>/i.test(e))return e;let t=e.replace("SafeHtmlImpl {changingThisBreaksApplicationSecurity: '","").replace("'}",""),s=document.createElement("div");s.innerHTML=t;let m=D=>{let f="";return D.childNodes.forEach(y=>{if(y.nodeType===Node.TEXT_NODE)f+=y.textContent;else if(y.nodeType===Node.ELEMENT_NODE){let g=y;["P","DIV","BR"].includes(g.tagName)?f+=`
`+m(y):f+=m(y)}}),f},u=m(s);return u=u.replace(/^\n+|\n+$/g,""),u.split(`
`).join(`
`)}ngOnInit(){this.adduserId=Number(this.route.url.split("/")[3]),this.data$.pipe(h(this)).subscribe(e=>{this.contacttype=e}),this.contactForm=this._formBuilder.group({id:[0],contactType:["",[et.required]],note:["",[et.required]],message:[""],priority:[""]}),this.note&&(this.note.contactType=this.note.contactType?this.note.contactType:"",this.contactForm.patchValue(this.note)),this.filteredOptions=this.contactForm.get("contactType").valueChanges.pipe(Q(""),x(e=>this.ContactTypeFilter(e)))}ContactTypeFilter(e){return this.contacttype.filter(i=>i.code.toLowerCase().indexOf(e?.toLowerCase())===0)}onEditorReady(e){this.note&&this.note.note&&(e.setText(this.note.note.toString(),"user"),this._changeDetectorRef.detectChanges())}ngAfterViewInit(){}ngOnDestroy(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe()}contacthandler(e){this.contactType.setValue(e.option.value)}deleteContact(){this._fuseConfirmationService.open({title:"Delete contact",message:"Are you sure you want to delete this contact? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(i=>{i==="confirmed"&&(this.dialogRef.close(),this._changeDetectorRef.markForCheck())})}saveContact(){let e=this.contactForm.value,t=this.quillEditor.quillEditor.getText();e.note=t,this.isInputValid(e)&&(e.id==0&&(e.addDate=new Date),e.entityID=this.adduserId,e.entityType="PATIENT",e=this.auxUtilService.transFormValuesToUpperCase(e,en),e.priority=e.priority?"PRIORITY":"",e.message="",this.store.dispatch(jt.AddPatientNote({note:e})),this.dialogRef.close())}isInputValid(e){return e.contactType==""||e.contactType==null?(this.alert={type:"error",message:"Contact Type cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):e.note==""||e.note==null||e.note==="<H1><BR></H1>"?(this.alert={type:"error",message:"Contact note cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):!0}static{this.\u0275fac=function(i){return new(i||To)(p(nt,8),p(Be),p(st),p(F),p(O),p(ge),p(ce),p(ke))}}static{this.\u0275cmp=A({type:To,selectors:[["ac-patient-contact-note-form"]],viewQuery:function(i,t){if(i&1&&(ut(Nm,5),ut(Ze,5)),i&2){let s;ht(s=ft())&&(t.quillEditor=s.first),ht(s=ft())&&(t.contactAutocomplete=s.first)}},inputs:{showDeleteButton:"showDeleteButton"},decls:18,vars:14,consts:[["quillEditor",""],[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-1/3","pr-2",3,"className","label","selectOption","controlName","matForm"],[1,"mt-8"],[1,"text-black","dark:text-white"],[1,"text-red"],[1,"quill-editor","mt-2","w-full","uppercase",3,"onEditorCreated","formControlName","placeholder","modules"],[1,"-ml-2",3,"color","formControlName"],[1,"mt-4",3,"appearance","type","showIcon"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",1)(1,"div",2)(2,"form",3)(3,"div",4),c(4,"aux-select-dropdown",5),w(5,"async"),a(),n(6,"div",6)(7,"mat-label",7),l(8,"Notes"),a(),n(9,"mat-label",8),l(10,"*"),a(),n(11,"quill-editor",9,0),v("onEditorCreated",function(u){return P(s),_(t.onEditorReady(u))}),a()(),n(13,"div",4)(14,"mat-checkbox",10)(15,"span"),l(16,"Priority?"),a()()(),R(17,km,2,5,"fuse-alert",11),a()()()}i&2&&(o(2),r("formGroup",t.contactForm),o(2),r("className","w-full")("label","Contact Type")("selectOption",I(5,12,t.contactList$))("controlName","contactType")("matForm",t.contactForm),o(7),r("formControlName","note")("placeholder","Notes")("modules",t.quillModules),o(3),r("color","primary")("formControlName","priority"),o(3),B(t.alert?17:-1))},dependencies:[fe,Oe,he,_e,we,Ne,Ft,Ie,ms,_t,oi,G],styles:[`.text-red{color:red}
`],encapsulation:2,data:{animation:Bt}})}};ua=N([k()],ua);var nn=class No{constructor(e,i,t,s,m,u,C,D,f,y){this.store=e,this.route=i,this.router=t,this.cdr=s,this.actions$=m,this.dateTime=u,this.dialog=C,this.titleService=D,this.searchService=f,this.sanitizer=y,this.rowData=[],this.columnDefs=[{headerName:"Id",minWidth:100,field:"id",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Add Date",minWidth:135,field:"addDate",valueFormatter:g=>this.dateTime.transform(g.data.addDate),sort:"desc",filter:"agDateColumnFilter",filterParams:J,sortIndex:2,hide:!1},{headerName:"Contact Type",minWidth:150,field:"contactType",filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"Note",minWidth:700,field:"note",filter:"agMultiColumnFilter",sortIndex:4,hide:!1,autoHeight:!0,cellRenderer:ll,wrapText:!0,cellStyle:{"word-break":"keep-all","overflow-wrap":"break-word"}},{headerName:"User",minWidth:125,field:"addUserId",filter:"agMultiColumnFilter",sortIndex:5,hide:!1},{headerName:"Message",minWidth:125,field:"message",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"Priority",minWidth:150,field:"priority",filter:"agMultiColumnFilter",sortIndex:7,hide:!1}],this.options={gridOptions:{rowClassRules:{"bg-yellow-100":g=>g.data.priority==="PRIORITY"}},defaultColDef:{flex:1,filter:!0,sortable:!0}},this.data$=this.store.select(Fi.selectNotes),this.loading$=this.store.select(Fi.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.visibleColumns=["addDate","contactType","note","addUserId"],this.pageSize=10,this.pageSizeOptions=[5,10,20,50],this.searchCtrl=new Me,this.selectedRowIndex=-1,this.selection=new Kt(!0,[]),this.toolbarData=[{title:"Add Contact Note",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.addContactNote()}},{title:"Show System Notes",type:"basic",icon:"mat_outline:computer",function:()=>{this.shownotes?this.hideContactNote():this.showContactNote()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}},{title:"Create Task",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()},classes:{wrapper:"padding-style"}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(([e])=>{this.store.dispatch(jt.LoadPatientNotes({patientId:+e.get("id")}))}),this.data$.pipe(h(this)).subscribe(e=>{let t=e.filter(s=>s.addUserId!=="SYSTEM");this.rowData=t,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(jt.Refresh),h(this)).subscribe(e=>this.refresh.next(e))}showContactNote(){this.toolbarData[1].title="Hide System Notes",this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.shownotes=!0})}hideContactNote(){this.toolbarData[1].title="Show System Notes",this.data$.pipe(h(this)).subscribe(e=>{let t=e.filter(s=>s.addUserId!=="SYSTEM");this.rowData=t,this.shownotes=!1})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){this.openContactNote(e)}openContactNote(e){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"SAVE CONTACT NOTE",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:ua,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"saveContact",enterKeyEnabled:!1};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i,autoFocus:!1}).afterClosed().pipe(h(this)).subscribe(t=>{e.api.clearFocusedCell()})}addContactNote(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"ADD CONTACT NOTE",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:ua,dynamicComponentData:null,submitFunction:"saveContact",enterKeyEnabled:!1};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e,autoFocus:!1}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}openCreate(){let e=+this.route.parent.snapshot.paramMap.get("id"),i={icon:"mat_outline:assignment",iconColor:"primary",title:"Create Task",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Create",dynamicComponent:ds,dynamicComponentData:{patientId:e},submitFunction:"submit",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.store.dispatch(jt.LoadPatientNotes({patientId:e}))})}static{this.\u0275fac=function(i){return new(i||No)(p(F),p(K),p(O),p(ce),p(L),p(xe),p(z),p(le),p(be),p(Pa))}}static{this.\u0275cmp=A({type:No,selectors:[["ac-patient-contact-notes"]],decls:6,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 379px)")("visibleColumns",t.visibleColumns)("loading",I(5,8,t.loading$)))},dependencies:[Z,se,G],encapsulation:2,changeDetection:0})}};nn=N([k()],nn);var on=(()=>{class d{constructor(i){this.control=i}ngOnInit(){this.control.valueChanges.pipe(Le(500)).subscribe(i=>{i==="1900-01-01T00:00:00"&&this.control.control.setValue(null)})}static{this.\u0275fac=function(t){return new(t||d)(p(qr))}}static{this.\u0275dir=Da({type:d,selectors:[["","defaultDate",""]]})}}return d})();var Om=["autoInput"],ko=d=>({"mb-12":d}),jm=(d,e)=>e.abbreviation;function Rm(d,e){if(d&1&&(n(0,"fuse-alert",9),l(1),a()),d&2){let i=U();r("appearance","outline")("type",i.alert.type)("showIcon",!1)("@shake",!0),o(),W(" ",i.alert.message," ")}}function $m(d,e){if(d&1&&(n(0,"mat-option",34)(1,"span",83),l(2),a(),n(3,"span"),l(4),a()()),d&2){let i=e.$implicit;r("value",i.abbreviation),o(2),$(i.abbreviation),o(2),$(i.name)}}function Bm(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function Vm(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function Lm(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat,".")}}function Wm(d,e){d&1&&(n(0,"div",62)(1,"mat-form-field",84)(2,"mat-label"),l(3,"Contact Note"),a(),c(4,"input",85),a()()),d&2&&(o(4),r("formControlName","contactNote"))}function Gm(d,e){if(d&1){let i=Se();n(0,"mat-icon",86),v("click",function(){P(i);let s=U();return _(s.openReferralList())}),a()}d&2&&r("svgIcon","heroicons_solid:download")}var rn=class Mo{constructor(e,i,t,s,m,u,C,D){this.fb=e,this.store=i,this.router=t,this.actions$=s,this.auxUtilService=m,this.titleService=u,this.matDialog=C,this.ApiService=D,this.dropDownOption=na,this.branchName=new at,this.state=new at,this.patientcategory=new at,this.usstates=Oi,this.language=Za,this.bestTime=Xa,this.stateMapping=Xi,this.categories=Zi,this.patient$=this.store.select($e.selectPatientDetails),this.demographics$=this.store.select(si.selectdemographics),this.dateFormat=ot.DATE_FORMAT,this.showContactNote=!1,this.disableReferCode=!1,this.referralData={},this.manufacturerList=[{name:"ABBOTT",value:"ABBOTT"},{name:"DEXCOM",value:"DEXCOM"}],this.loading$=this.store.select($e.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable()}ngOnInit(){this.patientForm=this.fb.group({id:[0],firstName:[""],mi:[""],lastName:[""],suffix:[""],address:[""],address2:[""],city:[""],state:[""],zip:[""],county:[""],sex:[""],dob:[""],inactiveReason:[""],inactiveDate:[""],rating:[0],adduserid:[""],entryDate:[""],phone:[""],cellphone:[""],email:[""],language:[""],besttime:[""],contactmethod:[""],patientcategory:[""],patientstatus:[""],contactNote:[""],branchId:[""],sendemail:[""],sendtext:[""],sendmail:[""],call:[""],delete:[""],salesid:[{value:"",disabled:!0}],fieldservicerepid:[{value:"",disabled:!0}],referId:[""],referCode:[""],pcpid:[""],medicarepatient:[""],pwocompleted:[""],qualifiedcgm:[""],chartnotes:[""],contactattempt1:[""],contactattempt2:[""],contactattempt3:[""],patientinterview:[""],insuranceverified:[""],completedpworeceived:[""],qualifyingnotesreceived:[""],dispositionholdnote:[""],inventorylocation:[""],datesent:[""],terms:[""],deductibleamount:[""]});let e=parseInt(window.location.href.split("/")[5],10);this.store.dispatch(qe.LoadPatientDetails({id:e})),this.patient$.pipe(h(this)).subscribe(i=>{if(i!=null){this.patient=i;let t=Je({},this.patient);this.patientForm.patchValue(t,{emitEvent:!1})}})}onDateChange(e,i){}static{this.\u0275fac=function(i){return new(i||Mo)(p(bt),p(F),p(O),p(L),p(ke),p(le),p(z),p(Ae))}}static{this.\u0275cmp=A({type:Mo,selectors:[["ac-patient-demographics-view"]],viewQuery:function(i,t){if(i&1&&(ut(Ze,5),ut(Om,5,Ze)),i&2){let s;ht(s=ft())&&(t.stateAutocomplete=s.first),ht(s=ft())&&(t.categoryAutocomplete=s.first)}},features:[re([{provide:ni,useValue:{appearance:"outline"}},wa(),q])],decls:185,vars:139,consts:[["auto","matAutocomplete"],["datepicker3","matDatepicker"],["datepicker4","matDatepicker"],["datepicker1","matDatepicker"],["autoInput",""],[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"w-full",3,"formGroup"],[1,"flex","w-full","bg-white","p-1","shadow","dark:bg-transparent"],[3,"navigation","name"],[1,"mt-4",3,"appearance","type","showIcon"],[1,"w-full","pb-2","pl-1","pr-1","pt-2","md:flex"],[1,"flex","w-full","flex-col","md:w-1/2"],[1,"flex","flex-col","bg-white","p-4","shadow","dark:bg-transparent"],[1,"text-secondary","my-2","flex","items-center","text-xl","font-semibold"],[1,"mr-2",3,"svgIcon"],[1,"mt-4","flex","flex-col"],[1,"flex","w-full"],[1,"w-4/12","pr-2"],["matInput","","tabindex","2",1,"uppercase",3,"formControlName"],[1,"w-1/6","pr-2"],["matInput","","tabindex","3",3,"formControlName"],["matInput","","tabindex","4",1,"uppercase",3,"formControlName"],[1,"w-1/6"],["matInput","","tabindex","5",1,"uppercase",3,"formControlName"],[1,"w-8/12","pr-2"],["matInput","","tabindex","6",1,"uppercase",3,"formControlName"],[1,"w-4/12"],["matInput","","tabindex","7",1,"uppercase",3,"formControlName"],[1,"w-1/2","pr-2"],["matInput","","type","text","tabindex","9",1,"uppercase",3,"formControlName"],["bindLabel","abbreviation",1,"state-select","w-1/4","pr-2",3,"appearance"],["matInput","","tabindex","10","aria-label","State",3,"matAutocomplete","formControlName"],["matSuffix","",1,"mr-2","flex-auto","text-3xl"],[3,"panelWidth"],[3,"value"],[1,"w-1/4"],["matInput","","tabindex","8",1,"uppercase",3,"formControlName"],[1,"w-1/3","pr-2"],[3,"className","label","tabindex","selectOption","controlName","matForm"],[1,"w-1/3","pr-2",3,"ngClass"],["matInput","","defaultDate","","tabindex","12",3,"change","formControlName","matDatepicker","placeholder"],["matIconSuffix","",3,"for"],[1,"w-1/3"],["matInput","","tabindex","13",1,"uppercase",3,"formControlName"],[1,"w-full"],["matInput","","tabindex","-1",1,"uppercase",3,"formControlName"],["matInput","","tabindex","-1","defaultDate","",3,"formControlName","readonly"],["matInput","","defaultDate","","tabindex","14",3,"change","formControlName","matDatepicker","placeholder"],[1,"flex","w-full","pl-1"],["tabindex","15",1,"",3,"formControlName","checked","color"],["tabindex","16",1,"mat-color","mr-2",3,"formControlName","checked","color"],["tabindex","17",1,"mr-2",3,"formControlName","checked","color"],["tabindex","18",1,"mr-2",3,"formControlName","checked","color"],[1,"mt-2","flex","flex-col","bg-white","p-2","shadow","dark:bg-transparent"],[1,"mt-5","flex","flex-col"],["matInput","","rows","3","placeholder","Your Message Here","tabindex","19",1,"uppercase",3,"formControlName"],[1,"flex","w-full","flex-col","pl-2","md:w-1/2"],[1,"w-6/12","pr-2"],["matInput","","mask","(000) 000-0000","tabindex","20",3,"formControlName","showMaskTyped"],["matSuffix","",1,"text-hint","icon-size-5",3,"svgIcon"],["matInput","","mask","(000) 000-0000","tabindex","21",3,"formControlName","showMaskTyped"],["matInput","","tabindex","22",1,"uppercase",3,"formControlName"],[1,"flex","flex-col"],[1,"w-1/3","pr-2",3,"className","tabindex","label","selectOption","controlName","matForm"],[1,"w-1/3","pr-2",3,"className","label","tabindex","controlName","matForm"],[1,"w-1/3",3,"className","label","tabindex","selectOption","controlName","matForm"],[1,"mt-2","flex","flex-col","bg-white","p-4","shadow","dark:bg-transparent"],[1,"w-1/3","pr-2",3,"className","label","controlName","tabindex","matForm"],["tabindex","28",1,"mr-1","w-3/12",3,"formControlName","checked","color"],[1,"w-3/12","pr-2",3,"ngClass"],["matInput","","defaultDate","","tabindex","29",3,"change","formControlName","matDatepicker","placeholder"],[1,"w-9/12"],["matInput","","tabindex","30",1,"uppercase",3,"formControlName"],[1,"flex","w-full","items-baseline"],[1,"w-1/3","pr-2",3,"className","tabindex","label","controlName","matForm"],[1,"w-1/3","pr-2",3,"subscriptSizing"],["matInput","","type","text","tabindex","33",1,"uppercase",3,"formControl","placeholder"],[1,"w-2/3","pr-2"],["matInput","","tabindex","35",3,"readonly","formControlName"],["matTooltip","Select Referral","matPrefix","","tabindex","36",1,"icon-size-1","mr-1.5","mt-2","cursor-pointer","sm:flex",3,"svgIcon"],["matPrefix","","matTooltip","Edit Referral","tabindex","37",1,"icon-size-1","mr-1.5","mt-2","cursor-pointer","sm:flex",3,"svgIcon"],[1,"state-select","w-1/3","pr-2",3,"className","tabindex","label","selectOption","controlName","matForm"],["matInput","","tabindex","40",1,"uppercase",3,"formControlName"],[1,"mr-1","font-bold"],[1,"specific-yellow"],["matInput","","tabindex","31",1,"uppercase",3,"formControlName"],["matTooltip","Select Referral","matPrefix","","tabindex","36",1,"icon-size-1","mr-1.5","mt-2","cursor-pointer","sm:flex",3,"click","svgIcon"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",5)(1,"form",6)(2,"div",7),c(3,"fuse-horizontal-navigation",8),R(4,Rm,2,5,"fuse-alert",9),a(),n(5,"div",10)(6,"div",11)(7,"div",12)(8,"div",13),c(9,"mat-icon",14),l(10," Patient Details1 "),a(),n(11,"div",15)(12,"div",16)(13,"mat-form-field",17)(14,"mat-label"),l(15,"First Name"),a(),c(16,"input",18),a(),n(17,"mat-form-field",19)(18,"mat-label"),l(19,"Middle"),a(),c(20,"input",20),a(),n(21,"mat-form-field",17)(22,"mat-label"),l(23,"Last Name"),a(),c(24,"input",21),a(),n(25,"mat-form-field",22)(26,"mat-label"),l(27,"Suffix"),a(),c(28,"input",23),a()(),n(29,"div",16)(30,"mat-form-field",24)(31,"mat-label"),l(32,"Address"),a(),c(33,"input",25),a(),n(34,"mat-form-field",26)(35,"mat-label"),l(36,"Address 2"),a(),c(37,"input",27),a()(),n(38,"div",16)(39,"mat-form-field",28)(40,"mat-label"),l(41,"City"),a(),c(42,"input",29),a(),n(43,"mat-form-field",30)(44,"mat-label"),l(45,"State"),a(),c(46,"input",31),n(47,"mat-icon",32),l(48,"arrow_drop_down"),a(),n(49,"mat-autocomplete",33,0),ae(51,$m,5,3,"mat-option",34,jm),w(53,"async"),a()(),n(54,"mat-form-field",35)(55,"mat-label"),l(56,"Zip"),a(),c(57,"input",36),a()(),n(58,"div",16)(59,"div",37),c(60,"aux-select-dropdown",38),a(),n(61,"mat-form-field",39)(62,"mat-label"),l(63,"Date of Birth"),a(),n(64,"input",40),v("change",function(u){return P(s),_(t.onDateChange(u,"dob"))}),a(),c(65,"mat-datepicker-toggle",41)(66,"mat-datepicker",null,1),R(68,Bm,2,1,"mat-error"),a(),n(69,"mat-form-field",42)(70,"mat-label"),l(71,"Last Satisfaction Score"),a(),c(72,"input",43),a()(),n(73,"div",44)(74,"mat-form-field",37)(75,"mat-label"),l(76,"Added By"),a(),c(77,"input",45),a(),n(78,"mat-form-field",37)(79,"mat-label"),l(80,"Added Date"),a(),c(81,"input",46),a(),n(82,"mat-form-field",39)(83,"mat-label"),l(84,"Next Appt Date"),a(),n(85,"input",47),v("change",function(u){return P(s),_(t.onDateChange(u,"datesent"))}),a(),c(86,"mat-datepicker-toggle",41)(87,"mat-datepicker",null,2),R(89,Vm,2,1,"mat-error"),a()(),n(90,"div",48)(91,"mat-checkbox",49),l(92,"Call"),a(),n(93,"mat-checkbox",50),l(94,"Send Email"),a(),n(95,"mat-checkbox",51),l(96,"Send Text"),a(),n(97,"mat-checkbox",52),l(98,"Send Mail"),a()()()(),n(99,"div",53)(100,"div",13),c(101,"mat-icon",14),l(102," Flash Notes "),a(),n(103,"div",54)(104,"div",16)(105,"mat-form-field",44)(106,"mat-label"),l(107,"Notes"),a(),c(108,"textarea",55),a()()()()(),n(109,"div",56)(110,"div",12)(111,"div",13),c(112,"mat-icon",14),l(113," Contact Information "),a(),n(114,"div",15)(115,"div",16)(116,"mat-form-field",57)(117,"mat-label"),l(118,"Phone"),a(),c(119,"input",58)(120,"mat-icon",59),a(),n(121,"mat-form-field",57)(122,"mat-label"),l(123,"Cell"),a(),c(124,"input",60)(125,"mat-icon",59),a()()(),n(126,"mat-form-field",44)(127,"mat-label"),l(128,"Email"),a(),c(129,"input",61),a(),n(130,"div",62)(131,"div",16),c(132,"aux-select-dropdown",63)(133,"aux-select-dropdown",64)(134,"aux-select-dropdown",65),a()()(),n(135,"div",66)(136,"div",13),c(137,"mat-icon",14),l(138," Status and Source "),a(),n(139,"div",15)(140,"div",16),c(141,"aux-select-dropdown",67)(142,"aux-select-dropdown",67),n(143,"mat-checkbox",68),l(144,"Incomplete"),a()()(),n(145,"div",62)(146,"div",16)(147,"mat-form-field",69)(148,"mat-label"),l(149,"Inactive Date"),a(),n(150,"input",70),v("change",function(u){return P(s),_(t.onDateChange(u,"inactiveDate"))}),a(),c(151,"mat-datepicker-toggle",41)(152,"mat-datepicker",null,3),R(154,Lm,2,1,"mat-error"),a(),n(155,"mat-form-field",71)(156,"mat-label"),l(157,"Inactive Reason"),a(),c(158,"input",72),a()()(),R(159,Wm,5,1,"div",62),n(160,"div",62)(161,"div",73),c(162,"aux-select-dropdown",74),n(163,"mat-form-field",75)(164,"mat-label"),l(165,"Branch"),a(),c(166,"input",76,4),a(),c(168,"aux-select-dropdown",65),a()(),n(169,"div",62)(170,"div",62)(171,"div",16)(172,"mat-form-field",77)(173,"mat-label"),l(174,"Referral From"),a(),c(175,"input",78),a(),R(176,Gm,1,1,"mat-icon",79),c(177,"mat-icon",80),a()(),n(178,"div",16),c(179,"aux-select-dropdown",81)(180,"aux-select-dropdown",81),n(181,"mat-form-field",42)(182,"mat-label"),l(183,"Remaining Deductible"),a(),c(184,"input",82),a()()()()()()()()}if(i&2){let s=Y(50),m=Y(67),u=Y(88),C=Y(153);o(),r("formGroup",t.patientForm),o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(),B(t.alert?4:-1),o(5),r("svgIcon","person_outline"),o(7),r("formControlName","firstName"),o(4),r("formControlName","mi"),o(4),r("formControlName","lastName"),o(4),r("formControlName","suffix"),o(5),r("formControlName","address"),o(4),r("formControlName","address2"),o(5),r("formControlName","city"),o(),r("appearance","outline"),o(3),r("matAutocomplete",s)("formControlName","state"),o(3),r("panelWidth",285),o(2),ne(I(53,131,t.filteredStates)),o(6),r("formControlName","zip"),o(3),r("className","w-full")("label","Sex")("tabindex",11)("selectOption",t.dropDownOption.sex)("controlName","sex")("matForm",t.patientForm),o(),r("ngClass",We(133,ko,t.patientForm.get("dob").hasError("notValidDate"))),o(3),r("formControlName","dob")("matDatepicker",m)("placeholder",t.dateFormat),o(),r("for",m),o(3),B(t.patientForm.get("dob").hasError("notValidDate")?68:-1),o(4),r("formControlName","rating"),o(5),r("formControlName","adduserid"),o(4),r("formControlName","entryDate")("readonly",!0),o(),r("ngClass",We(135,ko,t.patientForm.get("datesent").hasError("notValidDate"))),o(3),r("formControlName","datesent")("matDatepicker",u)("placeholder",t.dateFormat),o(),r("for",u),o(3),B(t.patientForm.get("datesent").hasError("notValidDate")?89:-1),o(2),r("formControlName","call")("checked",(t.patient==null?null:t.patient.call)==="Y")("color","primary"),o(2),r("formControlName","sendemail")("checked",(t.patient==null?null:t.patient.sendemail)==="Y")("color","primary"),o(2),r("formControlName","sendtext")("checked",(t.patient==null?null:t.patient.sendtext)==="Y")("color","primary"),o(2),r("formControlName","sendmail")("checked",(t.patient==null?null:t.patient.sendmail)==="Y")("color","primary"),o(4),r("svgIcon","flash_on"),o(7),r("formControlName","terms"),o(4),r("svgIcon","email"),o(7),r("formControlName","phone")("showMaskTyped",!0),o(),r("svgIcon","heroicons_solid:phone"),o(4),r("formControlName","cellphone")("showMaskTyped",!0),o(),r("svgIcon","heroicons_solid:phone"),o(4),r("formControlName","email"),o(3),r("className","w-full")("tabindex",23)("label","Language")("selectOption",t.dropDownOption.language)("controlName","language")("matForm",t.patientForm),o(),r("className","w-full")("label","Preferred Contact Method")("tabindex",24)("controlName","contactmethod")("matForm",t.patientForm),o(),r("className","w-full")("label","Best Time to Contact")("tabindex",25)("selectOption",t.bestTime)("controlName","besttime")("matForm",t.patientForm),o(3),r("svgIcon","email"),o(4),r("className","w-full")("label","Patient Status")("controlName","patientstatus")("tabindex",26)("matForm",t.patientForm),o(),r("className","w-full")("label","Patient Category")("controlName","patientcategory")("tabindex",27)("matForm",t.patientForm),o(),r("formControlName","delete")("checked",(t.patient==null?null:t.patient.delete)==="Y")("color","primary"),o(4),r("ngClass",We(137,ko,t.patientForm.get("inactiveDate").hasError("notValidDate"))),o(3),r("formControlName","inactiveDate")("matDatepicker",C)("placeholder",t.dateFormat),o(),r("for",C),o(3),B(t.patientForm.get("inactiveDate").hasError("notValidDate")?154:-1),o(4),r("formControlName","inactiveReason"),o(),B(t.showContactNote?159:-1),o(3),r("className","w-full")("tabindex",32)("label","Referral Method")("controlName","inventorylocation")("matForm",t.patientForm),o(),r("subscriptSizing","dynamic"),o(3),r("formControl",t.branchName)("placeholder","Branch"),o(2),r("className","w-full")("label","Manufacturer")("tabindex",34)("selectOption",t.manufacturerList)("controlName","county")("matForm",t.patientForm),o(7),r("readonly",!0)("formControlName","referCode"),o(),B(t.disableReferCode?-1:176),o(),r("svgIcon","heroicons_solid:pencil"),o(2),r("className","w-full")("tabindex",38)("label","SalesRep")("selectOption",t.salesrepList)("controlName","salesid")("matForm",t.patientForm),o(),r("className","w-full")("tabindex",39)("label","Field Service")("selectOption",t.salesrepList)("controlName","fieldservicerepid")("matForm",t.patientForm),o(4),r("formControlName","deductibleamount")}},dependencies:[fe,Oe,De,he,_e,$t,we,Ne,Z,oi,ye,Ee,Ie,Fe,Ze,mt,Et,lt,Ft,Rt,St,on,Pt,xt,Dt,_t,ui,Qi,Re,G],styles:[".layout[_ngcontent-%COMP%]   router-outlet[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{display:block!important}  .mat-mdc-autocomplete-panel .mat-mdc-option .mat-pseudo-checkbox-minimal{display:none}.code-font[_ngcontent-%COMP%]{width:100px}.description[_ngcontent-%COMP%]{width:233px}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container{overflow:unset}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container.ng-appearance-outline .ng-clear-wrapper{display:block!important;bottom:20px!important}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container.ng-appearance-outline .ng-arrow-wrapper{bottom:22px}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container.ng-appearance-outline:hover:after{border:solid 1px rgba(0,0,0,.12)}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container.ng-appearance-outline:after{height:100%}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container .ng-value-container .ng-input{bottom:50%;transform:translateY(50%);padding:0 10px}[_nghost-%COMP%]     .state-select.ng-select.ng-select-focused .ng-select-container .ng-value-container .ng-placeholder{transform:translateY(-25px) scale(.75) perspective(100px) translateZ(.001px)}[_nghost-%COMP%]     .state-select.ng-select.ng-select-opened .ng-placeholder, [_nghost-%COMP%]     .state-select.ng-select .ng-has-value .ng-placeholder{transform:translateY(-25px) scale(.75) perspective(100px) translateZ(.001px)}[_nghost-%COMP%]     .state-select.ng-select ng-dropdown-panel{width:auto}  .mat-form-field-appearance-outline.specific-yellow .mat-form-field-outline{background-color:#d3d3d3!important}  .mdc-list-item__primary-text{width:100%}"],data:{animation:Bt},changeDetection:0})}};rn=N([k()],rn);function Um(d,e){d&1&&(n(0,"div",9)(1,"h1",10),l(2,"No Patient Balance Details Available"),a()())}function Hm(d,e){if(d&1&&(n(0,"div",2)(1,"table",3)(2,"thead")(3,"tr")(4,"th",4),l(5," A/R Balance "),a(),n(6,"th",4),l(7," Insurance Amt "),a(),n(8,"th",5),l(9," Patient Amt "),a(),n(10,"th",5),l(11," Remaining Deduction "),a()()(),n(12,"tbody")(13,"tr",6)(14,"td",7),l(15),a(),n(16,"td",7),l(17),a(),n(18,"td",8),l(19),a(),n(20,"td",8),l(21),a()()()()(),R(22,Um,3,0,"div",9)),d&2){let i=U();o(15),$(i.patientBalances.arBalance),o(2),$(i.patientBalances.insuranceAmount),o(2),$(i.patientBalances.patientAmount),o(2),$(i.patientBalances.remainingDeductible),o(),B(i.patientBalances.length===0?22:-1)}}function qm(d,e){if(d&1&&c(0,"ac-loading-overlay",1),d&2){U();let i=Y(3);r("show",i)}}function zm(d,e){if(d&1&&c(0,"ac-loading-overlay",1),d&2){U();let i=Y(3);r("show",i)}}var sn=class Oo{constructor(e,i){this.router=e,this.store=i,this.data$=this.store.select(Ei.selectPatientBalances),this.loading$=this.store.select(Ei.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable()}ngOnInit(){let e=Number(this.router.url.split("/")[3]);this.store.dispatch(Xe.LoadPatientBalance({id:e})),this.data$.pipe(h(this)).subscribe(i=>{this.patientBalances=i})}static{this.\u0275fac=function(i){return new(i||Oo)(p(O),p(F))}}static{this.\u0275cmp=A({type:Oo,selectors:[["app-patient-balances"]],decls:4,vars:1,consts:[["loading",""],[3,"show"],[1,"container","mx-auto","p-4"],[1,"min-w-full","border","border-gray-300","bg-white","dark:bg-transparent"],[1,"border-b","py-3","pl-2","text-left","text-xs","font-medium","uppercase","tracking-wider","text-gray-500"],[1,"border-b","py-3","pl-6","text-left","text-xs","font-medium","uppercase","tracking-wider","text-gray-500"],[1,"border-b","bg-white","dark:bg-transparent"],[1,"whitespace-nowrap","py-4","pl-2"],[1,"whitespace-nowrap","py-4","pl-6"],[1,"justify-center","py-[5%]"],[1,"to-black","text-center","text-2xl","font-bold"]],template:function(i,t){i&1&&R(0,Hm,23,5)(1,qm,1,1,"ac-loading-overlay",1)(2,zm,1,1,"ng-template",null,0,Sa),i&2&&B(t.patientBalances?0:1)},encapsulation:2})}};sn=N([k()],sn);var Ym=["autoInput"],jo=d=>({"mb-12":d}),Km=(d,e)=>e.abbreviation;function Qm(d,e){if(d&1&&(n(0,"fuse-alert",10),l(1),a()),d&2){let i=U();r("appearance","outline")("type",i.alert.type)("showIcon",!1)("@shake",!0),o(),W(" ",i.alert.message," ")}}function Xm(d,e){if(d&1&&(n(0,"mat-option",35)(1,"span",85),l(2),a(),n(3,"span"),l(4),a()()),d&2){let i=e.$implicit;r("value",i.abbreviation),o(2),$(i.abbreviation),o(2),$(i.name)}}function Zm(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function Jm(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function ed(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat,".")}}function td(d,e){if(d&1&&(n(0,"mat-option",35)(1,"div",86)(2,"h2",87),l(3),a(),n(4,"span",88),l(5),a()()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(2),$(i.description)}}function id(d,e){d&1&&(n(0,"div",63)(1,"mat-form-field",89)(2,"mat-label"),l(3,"Contact Note"),a(),c(4,"input",90),a()()),d&2&&(o(4),r("formControlName","contactNote"))}function ad(d,e){if(d&1&&(n(0,"mat-option",35),l(1),a()),d&2){let i=e.$implicit;r("value",i),o(),W(" ",i.branchcode," ")}}function nd(d,e){if(d&1){let i=Se();n(0,"mat-icon",91),v("click",function(){P(i);let s=U();return _(s.openReferralList())}),a()}d&2&&r("svgIcon","heroicons_solid:download")}var ln=class Ro{constructor(e,i,t,s,m,u,C,D){this.fb=e,this.store=i,this.router=t,this.actions$=s,this.auxUtilService=m,this.titleService=u,this.matDialog=C,this.ApiService=D,this.dropDownOption=na,this.branchName=new at,this.state=new at,this.patientcategory=new at,this.usstates=Oi,this.language=Za,this.branch$=this.store.select(si.selectBranch),this.contactMethod$=this.store.select($e.selectPatientContactMethod).pipe(x(f=>f.map(y=>({name:y.description,value:y.code})))),this.bestTime=Xa,this.stateMapping=Xi,this.categories=Zi,this.patient$=this.store.select($e.selectPatientDetails),this.demographics$=this.store.select(si.selectdemographics),this.salesrep$=this.store.select($e.selectPatientSalesrep),this.referCode$=this.store.select(si.selectReferCode),this.dateFormat=ot.DATE_FORMAT,this.showContactNote=!1,this.disableReferCode=!1,this.referralData={},this.manufacturerList=[{name:"ABBOTT",value:"ABBOTT"},{name:"DEXCOM",value:"DEXCOM"}],this.intake$=this.store.select($e.selectPatientIntake).pipe(x(f=>f.map(y=>({name:y.firstName+" "+y.lastName,value:y.id})))),this.patientCategoryList$=this.store.select($e.selectPatientCategory).pipe(x(f=>f.map(y=>({name:y.code,value:y.code})))),this.patientStatusList$=this.store.select($e.selectPatientStatus).pipe(x(f=>f.map(y=>({name:y.description,value:y.code})))),this.inactiveReasonList$=this.store.select($e.selectInactiveReason),this.patientReferralList$=this.store.select($e.selectPatientReferral).pipe(x(f=>f.map(y=>({name:y.code,value:y.code})))),this.loading$=this.store.select($e.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.patientCityState$=this.store.select($e.selectPatientCityState),this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}},{title:"View Contact Notes",type:"basic",icon:"mat_outline:speaker_notes",function:()=>{this.viewPatientNotes()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}},{title:"View Owed",type:"basic",icon:"mat_outline:mode_comment",function:()=>{this.viewOwned()}}],this.branch$.pipe(h(this)).subscribe(f=>{f&&!f.length&&this.store.dispatch(Ge.LoadBranchDropDown())})}ngOnInit(){this.patientForm=this.fb.group({id:[0],firstName:[""],mi:[""],lastName:[""],suffix:[""],address:[""],address2:[""],city:[""],state:[""],zip:[""],county:[""],sex:[""],dob:[""],inactiveReason:[""],inactiveDate:[""],rating:[0],adduserid:[""],entryDate:[""],phone:[""],cellphone:[""],email:[""],language:[""],besttime:[""],contactmethod:[""],patientcategory:[""],patientstatus:[""],contactNote:[""],branchId:[""],sendemail:[""],sendtext:[""],sendmail:[""],call:[""],delete:[""],salesid:[{value:"",disabled:!0}],fieldservicerepid:[{value:"",disabled:!0}],referId:[""],referCode:[""],pcpid:[""],medicarepatient:[""],pwocompleted:[""],qualifiedcgm:[""],chartnotes:[""],contactattempt1:[""],contactattempt2:[""],contactattempt3:[""],patientinterview:[""],insuranceverified:[""],completedpworeceived:[""],qualifyingnotesreceived:[""],dispositionholdnote:[""],inventorylocation:[""],datesent:[""],terms:[""],deductibleamount:[0]}),this.filteredStates=this.patientForm.get("state").valueChanges.pipe(Q(""),x(i=>i?this._filterStates(i):this.usstates.slice())),this.patientForm.get("patientstatus").valueChanges.pipe(h(this)).subscribe(i=>{i&&(i==="I"||i==="M"||i==="C"||i==="S"?(this.patientForm.controls.inactiveReason.enable(),this.patientForm.controls.inactiveDate.enable()):(this.patientForm.controls.inactiveReason.disable(),this.patientForm.controls.inactiveDate.disable()),i==="I"||i==="M"||i==="C"||i==="S"?this.showContactNote=!0:this.showContactNote=!1)}),this.inactiveReasonList$.pipe(h(this)).subscribe(i=>{this.inactiveReasonList=i}),this.salesrep$.pipe(h(this)).subscribe(i=>{i&&(this.salesrepList=i.map(t=>({name:t.firstName+" "+t.lastName,value:t.id})))});let e=parseInt(window.location.href.split("/")[5],10);this.store.dispatch(qe.LoadPatientDetails({id:e})),this.patientCityState$.pipe(h(this)).subscribe(i=>{i?(this.patientForm.get("state").setValue(i.state),this.patientForm.get("city").setValue(i.city)):(this.patientForm.get("state").setValue(""),this.patientForm.get("city").setValue(""))}),this.actions$.pipe(b(Ge.Refresh),h(this)).subscribe(i=>this.refresh.next(i)),this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.patient$.pipe(h(this)).subscribe(i=>{if(i!=null){this.patient=i;let t=Je({},this.patient),s=this.patient.entryDate,m=new Date(s),C=new Date().getTime()-m.getTime(),D=24*60*60*1e3;if(C>D,this.patient.referid!==0&&this.patient.referid){let g=this.patient.referid;this.patientForm.get("referId").setValue(g),this.store.dispatch(Ge.getReferCode({id:g})),this.store.dispatch(qe.LoadPatientReferrals()),this.referCode$.pipe(h(this),Ai(S=>S!=null&&S!=="")).subscribe(S=>{this.store.select($e.selectReferralById(S.desciption)).pipe(h(this)).subscribe(bi=>{if(bi){this.referralData.company=bi.company||"",this.referralData.firstName=bi.firstName||"",this.referralData.lastName=bi.lastName||"";let Zn=this.referralData.company?`${this.patient.referid} - ${this.referralData.company}`:`${this.patient.referid} - ${this.referralData.firstName} ${this.referralData.lastName}`;this.patientForm.get("referCode").setValue(Zn)}})})}else this.patientForm.get("referCode").setValue("");let f=t.patientstatus;this.showContactNote=f==="I"||f==="M"||f==="C"||f==="S",t.salesid=this.patient.salesid,t.sendtext=this.patient.sendtext==="Y",t.call=this.patient.call==="Y",t.inventorylocation=this.patient.inventorylocation,t.branchId=this.patient.branchId.toString(),t.patientcategory=this.patient.patientcategory,t.sendemail=this.patient.sendemail==="Y",t.sendmail=this.patient.sendmail==="Y",t.fieldservicerepid=this.patient.fieldservicerepid,t.phone=this.patient.phone,t.cellphone=this.patient.cellphone,t.inactiveReason=this.patient.phykey2,t.inactiveDate=this.patient.recalldate,this.patientForm.patchValue(t,{emitEvent:!1}),this.patientForm.controls.adduserid.disable(),t.patientstatus==="I"||t.patientstatus==="M"||t.patientstatus==="C"||t.patientstatus==="S"?(this.patientForm.controls.inactiveReason.enable(),this.patientForm.controls.inactiveDate.enable()):(this.patientForm.controls.inactiveReason.disable(),this.patientForm.controls.inactiveDate.disable());let y=Vr(s,"M/d/yyyy h:mm a","en-US");this.patientForm.controls.entryDate.disable(),this.patientForm.controls.entryDate.setValue(y),this.patientForm.get("state").setValue(t.state!==""?t.state:null),this.patientForm.get("salesid").setValue(t.salesid!==0?t.salesid:null),this.patientForm.get("fieldservicerepid").setValue(t.fieldservicerepid!==0?t.fieldservicerepid:null),te([this.branch$,this.patientForm.get("branchId").valueChanges.pipe(Q(this.patientForm.get("branchId").value))]).pipe(h(this)).subscribe(([g,S])=>{if(g&&Number(S)){let bi=g.find(Zn=>Zn.id===Number(S));bi&&this.onBranchSelected(bi)}})}}),this.patientForm.get("zip").valueChanges.pipe(h(this),Le(500)).subscribe(i=>{i!==""&&this.store.dispatch(qe.LoadCityAndStateDropDown({zipCode:i}))})}get selectedInActiveReason(){return this.inactiveReasonList.find(e=>e.code===this.patientForm.get("inactiveReason")?.value)?.description}trackByFn(e){return e.abbreviation}categoryhandler(e){this.patientcategory.setValue(e.option.value)}CategoryFilter(e){return this.categories.filter(i=>i.name.toLowerCase().indexOf(e?.toLowerCase())===0)}save(){if(this.patientForm.invalid)return;let e=this.patientForm.getRawValue();e=this.auxUtilService.transFormValues(e,Ba),e=this.auxUtilService.transFormValuesToUpperCase(e,ps),e=this.auxUtilService.formatDateFields(e,cs),e=this.auxUtilService.cleanData(e),this.store.dispatch(Ge.AddPatientDemographics({patient:e}))}onDateChange(e,i){this.patientForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.patientForm,i)}openReferralList(){let e={icon:"mat_outline:edit_note",title:"Select Referral From",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:wi,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{if(t){this.referralData.company=t.company||"",this.referralData.firstName=t.firstName||"",this.referralData.lastName=t.lastName||"";let s=this.referralData.company?`${t.id} - ${this.referralData.company}`:`${t.id} - ${this.referralData.firstName} ${this.referralData.lastName}`;this.patientForm.get("referCode").setValue(s),this.patientForm.get("referId").setValue(t.id),this.patientForm.get("salesid").setValue(t.salesId),this.patientForm.get("fieldservicerepid").setValue(t.salesId),this.save()}})}trackByIndex(e){return e}navigateReferralDetails(){this.router.navigateByUrl(`/centers/referral-center/${this.patientForm.get("referId").value}/demographics`)}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTE",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}_filterStates(e){let i=e.toLowerCase().replace(/\s+/g," ");return this.usstates.filter(t=>t.name.toLowerCase().replace(/\s+/g," ").includes(i)||t.abbreviation.toLowerCase().includes(i))}makeCall(e){let i=this.patientForm.get(e=="Cell"?"cellphone":"phone")?.value;this.auxUtilService.makeCall(i)}viewOwned(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Patient Balances",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:sn,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}onBranchSelected(e){let i=e;this.patientForm.get("branchId").setValue(i.id,{emitEvent:!1}),this.branchName.setValue(i.branchcode)}static{this.\u0275fac=function(i){return new(i||Ro)(p(bt),p(F),p(O),p(L),p(ke),p(le),p(z),p(Ae))}}static{this.\u0275cmp=A({type:Ro,selectors:[["ac-patient-demographics"]],viewQuery:function(i,t){if(i&1&&(ut(Ze,5),ut(Ym,5,Ze)),i&2){let s;ht(s=ft())&&(t.stateAutocomplete=s.first),ht(s=ft())&&(t.categoryAutocomplete=s.first)}},features:[re([{provide:ni,useValue:{appearance:"outline"}},wa(),q])],decls:197,vars:156,consts:[["auto","matAutocomplete"],["datepicker3","matDatepicker"],["datepicker4","matDatepicker"],["datepicker1","matDatepicker"],["autoInput",""],["auto2","matAutocomplete"],[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"flex","w-full","bg-white","p-1","shadow","dark:bg-transparent"],[3,"navigation","name"],[1,"mt-4",3,"appearance","type","showIcon"],[1,"w-full","pb-2","pl-1","pr-1","pt-2","md:flex"],[1,"flex","w-full","flex-col","md:w-1/2"],[1,"flex","flex-col","bg-white","p-4","shadow","dark:bg-transparent"],[1,"text-secondary","my-2","flex","items-center","text-xl","font-semibold"],[1,"mr-2",3,"svgIcon"],[1,"mt-4","flex","flex-col"],[1,"flex","w-full"],[1,"w-4/12","pr-2"],["matInput","","tabindex","2",1,"uppercase",3,"formControlName"],[1,"w-1/6","pr-2"],["matInput","","tabindex","3",3,"formControlName"],["matInput","","tabindex","4",1,"uppercase",3,"formControlName"],[1,"w-1/6"],["matInput","","tabindex","5",1,"uppercase",3,"formControlName"],[1,"w-8/12","pr-2"],["matInput","","tabindex","6",1,"uppercase",3,"formControlName"],[1,"w-4/12"],["matInput","","tabindex","7",1,"uppercase",3,"formControlName"],[1,"w-1/2","pr-2"],["matInput","","type","text","tabindex","9",1,"uppercase",3,"formControlName"],["bindLabel","abbreviation",1,"state-select","w-1/4","pr-2",3,"appearance"],["matInput","","tabindex","10","aria-label","State",3,"matAutocomplete","formControlName"],["matSuffix","",1,"mr-2","flex-auto","text-3xl"],[3,"panelWidth"],[3,"value"],[1,"w-1/4"],["matInput","","tabindex","8",1,"uppercase",3,"formControlName"],[1,"w-1/3","pr-2"],[3,"className","label","tabindex","selectOption","controlName","matForm"],[1,"w-1/3","pr-2",3,"ngClass"],["matInput","","defaultDate","","tabindex","12",3,"change","formControlName","matDatepicker","placeholder"],["matIconSuffix","",3,"for"],[1,"w-1/3"],["matInput","","tabindex","13",1,"uppercase",3,"formControlName"],[1,"w-full"],["matInput","","tabindex","-1",1,"uppercase",3,"formControlName"],["matInput","","tabindex","-1","defaultDate","",3,"formControlName","readonly"],["matInput","","defaultDate","","tabindex","14",3,"change","formControlName","matDatepicker","placeholder"],[1,"flex","w-full","pl-1"],["tabindex","15",1,"",3,"formControlName","checked","color"],["tabindex","16",1,"mat-color","mr-2",3,"formControlName","checked","color"],["tabindex","17",1,"mr-2",3,"formControlName","checked","color"],["tabindex","18",1,"mr-2",3,"formControlName","checked","color"],[1,"mt-2","flex","flex-col","bg-white","p-2","shadow","dark:bg-transparent"],[1,"mt-5","flex","flex-col"],["matInput","","rows","3","placeholder","Your Message Here","tabindex","19",1,"uppercase",3,"formControlName"],[1,"flex","w-full","flex-col","pl-2","md:w-1/2"],[1,"w-6/12","pr-2"],["matInput","","mask","(000) 000-0000","tabindex","20",3,"formControlName","showMaskTyped"],["matSuffix","",1,"text-hint","icon-size-5",3,"click","svgIcon"],["matInput","","mask","(000) 000-0000","tabindex","21",3,"formControlName","showMaskTyped"],["matInput","","tabindex","22",1,"uppercase",3,"formControlName"],[1,"flex","flex-col"],[1,"w-1/3","pr-2",3,"className","tabindex","label","selectOption","controlName","matForm"],[1,"w-1/3","pr-2",3,"className","label","tabindex","selectOption","controlName","matForm"],[1,"w-1/3",3,"className","label","tabindex","selectOption","controlName","matForm"],[1,"mt-2","flex","flex-col","bg-white","p-4","shadow","dark:bg-transparent"],[1,"w-1/3","pr-2",3,"className","label","selectOption","controlName","tabindex","matForm"],["tabindex","28",1,"mr-1","w-3/12",3,"formControlName","checked","color"],[1,"w-3/12","pr-2",3,"ngClass"],["matInput","","defaultDate","","tabindex","29",3,"change","formControlName","matDatepicker","placeholder"],[1,"w-9/12"],["tabindex","30",3,"formControlName"],[1,"flex","w-full","items-baseline"],[1,"w-1/3","pr-2",3,"subscriptSizing"],["matInput","","type","text","tabindex","33",1,"uppercase",3,"formControl","placeholder","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[1,"w-2/3","pr-2"],["matInput","","tabindex","35",3,"readonly","formControlName"],["matTooltip","Select Referral","matPrefix","","tabindex","36",1,"icon-size-1","mr-1.5","mt-2","cursor-pointer","sm:flex",3,"svgIcon"],["matPrefix","","matTooltip","Edit Referral","tabindex","37",1,"icon-size-1","mr-1.5","mt-2","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"state-select","w-1/3","pr-2",3,"className","tabindex","label","selectOption","controlName","matForm"],["matInput","","tabindex","40",1,"uppercase",3,"formControlName"],[1,"mr-1","font-bold"],[1,"flex","gap-6"],[1,"code-font","font-extrabold"],[1,"description"],[1,"specific-yellow"],["matInput","","tabindex","31",1,"uppercase",3,"formControlName"],["matTooltip","Select Referral","matPrefix","","tabindex","36",1,"icon-size-1","mr-1.5","mt-2","cursor-pointer","sm:flex",3,"click","svgIcon"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",6)(1,"form",7),v("ngSubmit",function(){return P(s),_(t.save())}),n(2,"div",8),c(3,"fuse-horizontal-navigation",9),R(4,Qm,2,5,"fuse-alert",10),a(),n(5,"div",11)(6,"div",12)(7,"div",13)(8,"div",14),c(9,"mat-icon",15),l(10," Patient Details "),a(),n(11,"div",16)(12,"div",17)(13,"mat-form-field",18)(14,"mat-label"),l(15,"First Name"),a(),c(16,"input",19),a(),n(17,"mat-form-field",20)(18,"mat-label"),l(19,"Middle"),a(),c(20,"input",21),a(),n(21,"mat-form-field",18)(22,"mat-label"),l(23,"Last Name"),a(),c(24,"input",22),a(),n(25,"mat-form-field",23)(26,"mat-label"),l(27,"Suffix"),a(),c(28,"input",24),a()(),n(29,"div",17)(30,"mat-form-field",25)(31,"mat-label"),l(32,"Address"),a(),c(33,"input",26),a(),n(34,"mat-form-field",27)(35,"mat-label"),l(36,"Address 2"),a(),c(37,"input",28),a()(),n(38,"div",17)(39,"mat-form-field",29)(40,"mat-label"),l(41,"City"),a(),c(42,"input",30),a(),n(43,"mat-form-field",31)(44,"mat-label"),l(45,"State"),a(),c(46,"input",32),n(47,"mat-icon",33),l(48,"arrow_drop_down"),a(),n(49,"mat-autocomplete",34,0),ae(51,Xm,5,3,"mat-option",35,Km),w(53,"async"),a()(),n(54,"mat-form-field",36)(55,"mat-label"),l(56,"Zip"),a(),c(57,"input",37),a()(),n(58,"div",17)(59,"div",38),c(60,"aux-select-dropdown",39),a(),n(61,"mat-form-field",40)(62,"mat-label"),l(63,"Date of Birth"),a(),n(64,"input",41),v("change",function(u){return P(s),_(t.onDateChange(u,"dob"))}),a(),c(65,"mat-datepicker-toggle",42)(66,"mat-datepicker",null,1),R(68,Zm,2,1,"mat-error"),a(),n(69,"mat-form-field",43)(70,"mat-label"),l(71,"Last Satisfaction Score"),a(),c(72,"input",44),a()(),n(73,"div",45)(74,"mat-form-field",38)(75,"mat-label"),l(76,"Added By"),a(),c(77,"input",46),a(),n(78,"mat-form-field",38)(79,"mat-label"),l(80,"Added Date"),a(),c(81,"input",47),a(),n(82,"mat-form-field",40)(83,"mat-label"),l(84,"Next Appt Date"),a(),n(85,"input",48),v("change",function(u){return P(s),_(t.onDateChange(u,"datesent"))}),a(),c(86,"mat-datepicker-toggle",42)(87,"mat-datepicker",null,2),R(89,Jm,2,1,"mat-error"),a()(),n(90,"div",49)(91,"mat-checkbox",50),l(92,"Call"),a(),n(93,"mat-checkbox",51),l(94,"Send Email"),a(),n(95,"mat-checkbox",52),l(96,"Send Text"),a(),n(97,"mat-checkbox",53),l(98,"Send Mail"),a()()()(),n(99,"div",54)(100,"div",14),c(101,"mat-icon",15),l(102," Flash Notes "),a(),n(103,"div",55)(104,"div",17)(105,"mat-form-field",45)(106,"mat-label"),l(107,"Notes"),a(),c(108,"textarea",56),a()()()()(),n(109,"div",57)(110,"div",13)(111,"div",14),c(112,"mat-icon",15),l(113," Contact Information "),a(),n(114,"div",16)(115,"div",17)(116,"mat-form-field",58)(117,"mat-label"),l(118,"Phone"),a(),c(119,"input",59),n(120,"mat-icon",60),v("click",function(){return P(s),_(t.makeCall("Phone"))}),a()(),n(121,"mat-form-field",58)(122,"mat-label"),l(123,"Cell"),a(),c(124,"input",61),n(125,"mat-icon",60),v("click",function(){return P(s),_(t.makeCall("Cell"))}),a()()()(),n(126,"mat-form-field",45)(127,"mat-label"),l(128,"Email"),a(),c(129,"input",62),a(),n(130,"div",63)(131,"div",17),c(132,"aux-select-dropdown",64)(133,"aux-select-dropdown",65),w(134,"async"),c(135,"aux-select-dropdown",66),a()()(),n(136,"div",67)(137,"div",14),c(138,"mat-icon",15),l(139," Status and Source "),a(),n(140,"div",16)(141,"div",17),c(142,"aux-select-dropdown",68),w(143,"async"),c(144,"aux-select-dropdown",68),w(145,"async"),n(146,"mat-checkbox",69),l(147,"Incomplete"),a()()(),n(148,"div",63)(149,"div",17)(150,"mat-form-field",70)(151,"mat-label"),l(152,"Inactive Date"),a(),n(153,"input",71),v("change",function(u){return P(s),_(t.onDateChange(u,"inactiveDate"))}),a(),c(154,"mat-datepicker-toggle",42)(155,"mat-datepicker",null,3),R(157,ed,2,1,"mat-error"),a(),n(158,"mat-form-field",72)(159,"mat-label"),l(160,"Inactive Reason"),a(),n(161,"mat-select",73)(162,"mat-select-trigger"),l(163),a(),ae(164,td,6,3,"mat-option",35,t.trackByIndex,!0),a()()()(),R(166,id,5,1,"div",63),n(167,"div",63)(168,"div",74),c(169,"aux-select-dropdown",64),w(170,"async"),n(171,"mat-form-field",75)(172,"mat-label"),l(173,"Branch"),a(),c(174,"input",76,4),n(176,"mat-autocomplete",77,5),v("optionSelected",function(u){return P(s),_(t.onBranchSelected(u.option.value))}),R(178,ad,2,2,"mat-option",78),w(179,"async"),a()(),c(180,"aux-select-dropdown",66),a()(),n(181,"div",63)(182,"div",63)(183,"div",17)(184,"mat-form-field",79)(185,"mat-label"),l(186,"Referral From"),a(),c(187,"input",80),a(),R(188,nd,1,1,"mat-icon",81),n(189,"mat-icon",82),v("click",function(){return P(s),_(t.navigateReferralDetails())}),a()()(),n(190,"div",17),c(191,"aux-select-dropdown",83)(192,"aux-select-dropdown",83),n(193,"mat-form-field",43)(194,"mat-label"),l(195,"Remaining Deductible"),a(),c(196,"input",84),a()()()()()()()()}if(i&2){let s=Y(50),m=Y(67),u=Y(88),C=Y(156),D=Y(177);o(),r("formGroup",t.patientForm),o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(),B(t.alert?4:-1),o(5),r("svgIcon","person_outline"),o(7),r("formControlName","firstName"),o(4),r("formControlName","mi"),o(4),r("formControlName","lastName"),o(4),r("formControlName","suffix"),o(5),r("formControlName","address"),o(4),r("formControlName","address2"),o(5),r("formControlName","city"),o(),r("appearance","outline"),o(3),r("matAutocomplete",s)("formControlName","state"),o(3),r("panelWidth",285),o(2),ne(I(53,138,t.filteredStates)),o(6),r("formControlName","zip"),o(3),r("className","w-full")("label","Sex")("tabindex",11)("selectOption",t.dropDownOption.sex)("controlName","sex")("matForm",t.patientForm),o(),r("ngClass",We(150,jo,t.patientForm.get("dob").hasError("notValidDate"))),o(3),r("formControlName","dob")("matDatepicker",m)("placeholder",t.dateFormat),o(),r("for",m),o(3),B(t.patientForm.get("dob").hasError("notValidDate")?68:-1),o(4),r("formControlName","rating"),o(5),r("formControlName","adduserid"),o(4),r("formControlName","entryDate")("readonly",!0),o(),r("ngClass",We(152,jo,t.patientForm.get("datesent").hasError("notValidDate"))),o(3),r("formControlName","datesent")("matDatepicker",u)("placeholder",t.dateFormat),o(),r("for",u),o(3),B(t.patientForm.get("datesent").hasError("notValidDate")?89:-1),o(2),r("formControlName","call")("checked",(t.patient==null?null:t.patient.call)==="Y")("color","primary"),o(2),r("formControlName","sendemail")("checked",(t.patient==null?null:t.patient.sendemail)==="Y")("color","primary"),o(2),r("formControlName","sendtext")("checked",(t.patient==null?null:t.patient.sendtext)==="Y")("color","primary"),o(2),r("formControlName","sendmail")("checked",(t.patient==null?null:t.patient.sendmail)==="Y")("color","primary"),o(4),r("svgIcon","flash_on"),o(7),r("formControlName","terms"),o(4),r("svgIcon","email"),o(7),r("formControlName","phone")("showMaskTyped",!0),o(),r("svgIcon","heroicons_solid:phone"),o(4),r("formControlName","cellphone")("showMaskTyped",!0),o(),r("svgIcon","heroicons_solid:phone"),o(4),r("formControlName","email"),o(3),r("className","w-full")("tabindex",23)("label","Language")("selectOption",t.dropDownOption.language)("controlName","language")("matForm",t.patientForm),o(),r("className","w-full")("label","Preferred Contact Method")("tabindex",24)("selectOption",I(134,140,t.contactMethod$))("controlName","contactmethod")("matForm",t.patientForm),o(2),r("className","w-full")("label","Best Time to Contact")("tabindex",25)("selectOption",t.bestTime)("controlName","besttime")("matForm",t.patientForm),o(3),r("svgIcon","email"),o(4),r("className","w-full")("label","Patient Status")("selectOption",I(143,142,t.patientStatusList$))("controlName","patientstatus")("tabindex",26)("matForm",t.patientForm),o(2),r("className","w-full")("label","Patient Category")("selectOption",I(145,144,t.patientCategoryList$))("controlName","patientcategory")("tabindex",27)("matForm",t.patientForm),o(2),r("formControlName","delete")("checked",(t.patient==null?null:t.patient.delete)==="Y")("color","primary"),o(4),r("ngClass",We(154,jo,t.patientForm.get("inactiveDate").hasError("notValidDate"))),o(3),r("formControlName","inactiveDate")("matDatepicker",C)("placeholder",t.dateFormat),o(),r("for",C),o(3),B(t.patientForm.get("inactiveDate").hasError("notValidDate")?157:-1),o(4),r("formControlName","inactiveReason"),o(2),$(t.selectedInActiveReason),o(),ne(t.inactiveReasonList),o(2),B(t.showContactNote?166:-1),o(3),r("className","w-full")("tabindex",32)("label","Referral Method")("selectOption",I(170,146,t.patientReferralList$))("controlName","inventorylocation")("matForm",t.patientForm),o(2),r("subscriptSizing","dynamic"),o(3),r("formControl",t.branchName)("placeholder","Branch")("matAutocomplete",D),o(4),r("ngForOf",I(179,148,t.branch$)),o(2),r("className","w-full")("label","Manufacturer")("tabindex",34)("selectOption",t.manufacturerList)("controlName","county")("matForm",t.patientForm),o(7),r("readonly",!0)("formControlName","referCode"),o(),B(t.disableReferCode?-1:188),o(),r("svgIcon","heroicons_solid:pencil"),o(2),r("className","w-full")("tabindex",38)("label","SalesRep")("selectOption",t.salesrepList)("controlName","salesid")("matForm",t.patientForm),o(),r("className","w-full")("tabindex",39)("label","Field Service")("selectOption",t.salesrepList)("controlName","fieldservicerepid")("matForm",t.patientForm),o(4),r("formControlName","deductibleamount")}},dependencies:[fe,Oe,De,he,_e,$t,we,Ne,Z,oi,ye,Ee,Ie,Fe,Ze,mt,Et,lt,Ft,Rt,St,on,Pt,xt,Dt,_t,ui,Vt,Qt,pi,Qi,Re,G],styles:[".layout[_ngcontent-%COMP%]   router-outlet[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{display:block!important}  .mat-mdc-autocomplete-panel .mat-mdc-option .mat-pseudo-checkbox-minimal{display:none}.code-font[_ngcontent-%COMP%]{width:100px}.description[_ngcontent-%COMP%]{width:233px}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container{overflow:unset}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container.ng-appearance-outline .ng-clear-wrapper{display:block!important;bottom:20px!important}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container.ng-appearance-outline .ng-arrow-wrapper{bottom:22px}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container.ng-appearance-outline:hover:after{border:solid 1px rgba(0,0,0,.12)}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container.ng-appearance-outline:after{height:100%}[_nghost-%COMP%]     .state-select.ng-select .ng-select-container .ng-value-container .ng-input{bottom:50%;transform:translateY(50%);padding:0 10px}[_nghost-%COMP%]     .state-select.ng-select.ng-select-focused .ng-select-container .ng-value-container .ng-placeholder{transform:translateY(-25px) scale(.75) perspective(100px) translateZ(.001px)}[_nghost-%COMP%]     .state-select.ng-select.ng-select-opened .ng-placeholder, [_nghost-%COMP%]     .state-select.ng-select .ng-has-value .ng-placeholder{transform:translateY(-25px) scale(.75) perspective(100px) translateZ(.001px)}[_nghost-%COMP%]     .state-select.ng-select ng-dropdown-panel{width:auto}  .mat-form-field-appearance-outline.specific-yellow .mat-form-field-outline{background-color:#d3d3d3!important}  .mdc-list-item__primary-text{width:100%}"],data:{animation:Bt},changeDetection:0})}};ln=N([k()],ln);var od=d=>({"min-h-80":d}),mn=class $o{constructor(e,i,t,s,m){this.store=e,this.searchService=i,this.dateAndTimeFormate=t,this.cdr=s,this._matDialog=m,this.columnDefs=[{headerName:"Id",minWidth:75,field:"id",hide:!1},{headerName:"icd10code",minWidth:90,field:"icd10code",filter:"agMultiColumnFilter",hide:!1},{headerName:"icd10description",minWidth:500,field:"icd10description",filter:"agMultiColumnFilter",hide:!1},{headerName:"Status",minWidth:100,field:"status",filter:"agMultiColumnFilter",hide:!1}],this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.searchCtrl=new Me,this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.displayedColumns=["id","icd9code","description","status","icd10code","icd10description"],this.data$=this.store.select(ri.selectdiagnosiscodesListData),this.loading$=this.store.select(ri.selectLoading),this.store.dispatch(Gt.LoadPatientDiagnosisCodesList())}ngOnInit(){Promise.resolve().then(()=>{this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()})}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)})}selectRow(e){this._matDialog.close(e),this.clearFilter()}onSelectionChanged(e){this.selectRow(e.api.getSelectedRows()[0])}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(i){return new(i||$o)(p(F),p(be),p(xe),p(ce),p(Be))}}static{this.\u0275cmp=A({type:$o,selectors:[["app-patient-diagnosis-codes-list"]],features:[re([xe])],decls:4,vars:14,consts:[[1,"relative","overflow-auto",3,"ngClass"],[3,"rowSelectionChange","gridOptions","paginatorOption","component","rowData","columnDefs","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0),w(1,"async"),n(2,"aux-ag-grid",1),w(3,"async"),v("rowSelectionChange",function(m){return t.onSelectionChanged(m)}),a()()),i&2&&(r("ngClass",We(12,od,I(1,8,t.loading$))),o(2),r("gridOptions",t.options)("paginatorOption",t.paginationOptions)("component","patientDiagnosisCodeList")("rowData",t.rowData)("columnDefs",t.columnDefs)("visibleColumns",t.displayedColumns)("loading",I(3,10,t.loading$)))},dependencies:[Rt,se,G],encapsulation:2,changeDetection:0})}};mn=N([k()],mn);function rd(d,e){d&1&&(n(0,"mat-error"),l(1," Code Filed Is Required "),a())}var dn=class Bo{constructor(e,i,t,s,m,u){this.fb=e,this.router=i,this.store=t,this.auxUtilService=s,this.matDialog=m,this._matDialogRef=u,this.dateFormat=ot.DATE_FORMAT,this.order=[{name:1,value:1},{name:2,value:2},{name:3,value:3},{name:4,value:4},{name:5,value:5},{name:6,value:6},{name:7,value:7},{name:8,value:8},{name:9,value:9},{name:10,value:10}];let C=Number(this.router.url.split("/")[3]);this.patientDiagnosisForm=this.fb.group({id:[0],patientId:[C],icdCodeId:[],order:[],addUserId:[""],addDate:[""],name:[]})}ngOnInit(){}submitCodes(){let e=this.patientDiagnosisForm.value;delete e.name,e.id==0&&(e.addDate=new Date),this.store.dispatch(Gt.AddPatientDiagnosiscode({diagnosiscode:e})),this._matDialogRef.close()}onDateChange(e,i){this.patientDiagnosisForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.patientDiagnosisForm,i)}openDiagnosisCode(){let e={icon:"mat_outline:edit_note",title:"Select Diagnosis Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:mn,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"50%",minHeight:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.patientDiagnosisForm.get("icdCodeId").setValue(t.id),this.patientDiagnosisForm.get("name").setValue(t.icd10code))})}static{this.\u0275fac=function(i){return new(i||Bo)(p(bt),p(O),p(F),p(ke),p(z),p(Be))}}static{this.\u0275cmp=A({type:Bo,selectors:[["app-patient-diagnosis-codes-add"]],decls:11,vars:11,consts:[[1,"flex","max-h-screen","max-w-240","flex-col","md:min-w-160"],[1,"flex","flex-auto","flex-col","p-6","sm:p-8",3,"ngSubmit","formGroup"],[3,"className","label","selectOption","controlName","matForm"],[1,"flex","items-baseline"],[1,"w-11/12","pr-2"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"mt-4","flex","items-center","sm:mt-0"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"form",1),v("ngSubmit",function(){return t.submitCodes()}),c(2,"aux-select-dropdown",2),n(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),l(6,"Code"),a(),c(7,"input",5),R(8,rd,2,0,"mat-error"),a(),n(9,"mat-icon",6),v("click",function(){return t.openDiagnosisCode()}),a()(),c(10,"div",7),a()()),i&2&&(o(),r("formGroup",t.patientDiagnosisForm),o(),r("className","w-full")("label","Order")("selectOption",t.order)("controlName","order")("matForm",t.patientDiagnosisForm),o(5),r("readonly",!0)("formControlName","name")("readonly",!0),o(),B(t.patientDiagnosisForm.get("name").hasError("required")?8:-1),o(),r("svgIcon","heroicons_solid:download"))},dependencies:[fe,Oe,De,he,_e,we,Ne,Ft,Ee,Ie,Fe,Dt,ye,Re],encapsulation:2})}};dn=N([k()],dn);var ml=(()=>{class d{constructor(i,t,s,m,u){this.fb=i,this.router=t,this.store=s,this._matDialogRef=m,this.data=u,this.dateFormat=ot.DATE_FORMAT,this.order=[{name:1,value:1},{name:2,value:2},{name:3,value:3},{name:4,value:4},{name:5,value:5},{name:6,value:6},{name:7,value:7},{name:8,value:8},{name:9,value:9},{name:10,value:10}],this.diagnosisData=u.dynamicComponentData,this.patientDiagnosisForm=this.fb.group({id:[0],patientId:[],order:[],addUserId:[""]})}ngOnInit(){this.getPatientId=Number(this.router.url.split("/")[3]),this.patientDiagnosisForm.get("patientId").setValue(this.getPatientId),this.patientDiagnosisForm.patchValue(this.diagnosisData)}submitCodes(){let i=this.patientDiagnosisForm.value;this.store.dispatch(Gt.AddPatientDiagnosiscode({diagnosiscode:i})),this._matDialogRef.close()}static{this.\u0275fac=function(t){return new(t||d)(p(bt),p(O),p(F),p(Be),p(nt,8))}}static{this.\u0275cmp=A({type:d,selectors:[["app-patient-diagnosis-codes-edit"]],decls:3,vars:6,consts:[[1,"flex","max-h-screen","max-w-240","flex-col","md:min-w-160"],[1,"flex","flex-auto","flex-col","overflow-y-auto","p-6","sm:p-8",3,"ngSubmit","formGroup"],[3,"className","label","selectOption","controlName","matForm"]],template:function(t,s){t&1&&(n(0,"div",0)(1,"form",1),v("ngSubmit",function(){return s.submitCodes()}),c(2,"aux-select-dropdown",2),a()()),t&2&&(o(),r("formGroup",s.patientDiagnosisForm),o(),r("className","w-full")("label","Order")("selectOption",s.order)("controlName","order")("matForm",s.patientDiagnosisForm))},dependencies:[fe,Oe,_e,we,Ft],encapsulation:2})}}return d})();var pn=class Vo{constructor(e,i,t,s,m,u,C){this.store=e,this.router=i,this._fuseConfirmationService=t,this._matDialog=s,this.route=m,this.actions$=u,this.titleService=C,this.data$=this.store.select(ri.selectdiagnosiscodesList),this.loading$=this.store.select(ri.selectLoading),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.columnDefs=[{headerName:"id",minWidth:101,field:"id",sortIndex:1,hide:!1,onCellClicked:D=>this.openDiagnosisDetails(D)},{headerName:"icd10code",minWidth:101,field:"icd10code",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1,onCellClicked:D=>this.openDiagnosisDetails(D)},{headerName:"Description",minWidth:900,field:"description",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1,onCellClicked:D=>this.openDiagnosisDetails(D)},{headerName:"icdcodeId",minWidth:101,field:"icdcodeId",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1,onCellClicked:D=>this.openDiagnosisDetails(D)},{headerName:"Order",minWidth:101,field:"order",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1,onCellClicked:D=>this.openDiagnosisDetails(D)},{headerName:"Actions",minWidth:101,field:"actions",cellRenderer:Lt,cellRendererParams:{menuItems:[{name:"Remove Diagnosis Code",action:this.deleteRow.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},filter:!1,sortIndex:13,hide:!1,sortable:!1}],this.visibleColumns=["id","icd10code","description","actions"],this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.toolbarData=[{title:"Assign Diagnosis Codes",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openDiagnosisCodes()}},{title:"View Contact Notes",type:"basic",icon:"mat_outline:speaker_notes",function:()=>{this.viewPatientNotes()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title);let e=Number(this.router.url.split("/")[3]);this.store.dispatch(Gt.LoadPatientDiagnosiscode({id:e})),this.data$.pipe(h(this)).subscribe(i=>{this.rowData=i}),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(([i])=>{this.store.dispatch(Gt.LoadPatientDiagnosiscode({id:+i.get("id")}))}),this.actions$.pipe(b(Gt.Refresh),h(this)).subscribe(i=>this.refresh.next(i))}deleteRow(e){this.deleteDiagnosisCodes(e.data)}deleteDiagnosisCodes(e){this._fuseConfirmationService.open({title:"Remove Diagnosis Code",message:"Are you sure you want to delete this Remove Diagnosis Code? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{t==="confirmed"&&this.store.dispatch(Gt.DeletePatientDiagnosiscode({dto:e}))})}openDiagnosisCodes(){let e={icon:"mat_outline:edit_note",title:"Add Diagnosis Codes",cancelButtonText:"Cancel",saveButtonText:"Add Diagnosis Codes",dynamicComponent:dn,dynamicComponentData:null,submitFunction:"submitCodes",enterKeyEnabled:!0},i=this._matDialog.open(E,{width:"auto",minHeight:"auto",data:e})}openDiagnosisDetails(e){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"EDIT PATIENT DIAGNOSIS CODES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save Diagnosis Codes",dynamicComponent:ml,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"submitCodes",enterKeyEnabled:!0};this._matDialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{e.api.clearFocusedCell()})}navigatePhysicianDetails(e){this.router.navigateByUrl(`/centers/icdcode-center/${e.data.icdcodeId}/icdcode-details`)}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTE",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this._matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this._matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||Vo)(p(F),p(O),p(ge),p(z),p(K),p(L),p(le))}}static{this.\u0275cmp=A({type:Vo,selectors:[["app-patient-diagnosis-codes-table"]],decls:6,vars:12,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"gridOptions","rowData","columnDefs","component","agGridHeight","paginatorOption","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3),c(4,"aux-ag-grid",4),w(5,"async"),a()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("component","PatientDiagnosisCode")("agGridHeight","calc(100vh - 379px)")("paginatorOption",t.paginationOptions)("visibleColumns",t.visibleColumns)("loading",I(5,10,t.loading$)))},dependencies:[Z,se,G],encapsulation:2})}};pn=N([k()],pn);function sd(d,e){if(d&1&&(n(0,"mat-list-item")(1,"div",9),c(2,"mat-icon",10),n(3,"div",11),l(4),a()(),c(5,"mat-divider"),a()),d&2){let i=e.$implicit;o(4),W(" ",i.name," ")}}function ld(d,e){if(d&1){let i=Se();n(0,"div")(1,"form",0)(2,"div",1),v("filesChangeEmiter",function(s){P(i);let m=U();return _(m.onFileChange(s))}),n(3,"div",2)(4,"mat-label",3),l(5,"Drag Your File Here"),a(),n(6,"input",4),v("change",function(s){P(i);let m=U();return _(m.onFileChange(s.target.files))}),a()()(),n(7,"mat-list")(8,"div",5),l(9,"Files"),a(),ae(10,sd,6,1,"mat-list-item",null,de),a(),n(12,"mat-form-field")(13,"mat-label"),l(14,"Document Name"),a(),c(15,"mat-icon",6)(16,"input",7),a(),n(17,"mat-form-field")(18,"mat-label"),l(19,"Description"),a(),c(20,"input",7),a(),n(21,"mat-form-field")(22,"mat-label"),l(23,"Contact Note"),a(),c(24,"textarea",8),a()()()}if(d&2){let i=U();o(),r("formGroup",i.composeForm),o(5),r("formControlName","FileDetails"),o(4),ne(i.files),o(5),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","DocumentName"),o(4),r("formControlName","Description"),o(4),r("formControlName","Note")("placeholder","Contact Note")("rows",5)("spellcheck",!1)}}function md(d,e){if(d&1&&(n(0,"div")(1,"div",12)(2,"div",13)(3,"form",14)(4,"div",15)(5,"mat-form-field",16)(6,"mat-label"),l(7,"Document Name"),a(),c(8,"mat-icon",6)(9,"input",17),a()(),n(10,"div",15)(11,"mat-form-field",16)(12,"mat-label"),l(13,"Description"),a(),c(14,"mat-icon",6)(15,"input",17),a()(),n(16,"div",15)(17,"mat-form-field",16)(18,"mat-label"),l(19,"Note"),a(),c(20,"mat-icon",6)(21,"input",17),a()()()()()()),d&2){let i=U();o(3),r("formGroup",i.composeForm),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","DocumentName")("placeholder","DocumentName")("spellcheck",!1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","Description")("placeholder","Description")("spellcheck",!1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","Note")("placeholder","Note")("spellcheck",!1)}}var Li=class Lo{constructor(e,i,t,s,m,u,C){this.matDialogRef=e,this._fuseConfirmationService=i,this._formBuilder=t,this.route=s,this._snackBar=m,this.data=u,this.store=C,this.cancel=new $i,this.saveContact=new $i,this.uploadFile=!1,this.document=u.dynamicComponentData}ngOnInit(){this.getPatientId=Number(this.route.url.split("/")[3]),this.composeForm=this._formBuilder.group({id:[0],DocumentName:[""],Description:[""],FileDetails:["",et.required],Note:[""],AddUserId:[""],addDate:[]}),this.document&&this.composeForm.setValue({id:this.document.id?this.document.id:0,DocumentName:this.document.documentname,Description:this.document.description,Note:this.document.note,FileDetails:"",AddUserId:this.document.adduserid,addDate:this.document.adddate}),this.composeForm.value.id==0&&(this.uploadFile=!0)}onFileChange(e){let i=[];for(let t=0;t<e.length;t++){let s=e[t],m=s.size/(1024*1024);if(s.type==="application/pdf")if(m<=10)i.push(s);else{this._snackBar.open("File size exceeds the limit of 10MB.","Close",{duration:2e3});return}else{this._snackBar.open("Only PDF files are allowed.","Close",{duration:2e3});return}}this.files=i,this._snackBar.open("Successfully uploaded!","Close",{duration:2e3})}saveDocument(){if(this.composeForm.value.id==0){let e=this.composeForm.value;e.adddate=new Date,e.Description=e.Description?this.composeForm.value.Description.toUpperCase():"",e.DocumentName=e.DocumentName?e.DocumentName.toUpperCase():"",e.Note=e.Note?e.Note.toUpperCase():"";let i=this.files[0],t=new FormData;t.append("FileDetails",i),t.append("Description",e.Description),t.append("DocumentName",e.DocumentName),t.append("Note",e.Note),t.append("Entityid",this.getPatientId),t.append("Entitytypeid",301),this.store.dispatch(Ue.AddDocument({document:t})),this.matDialogRef.close()}}updateDocument(){delete this.composeForm.value.FileDetails,delete this.composeForm.value.addDate;let e=this.composeForm.value;e.DocumentName=e.DocumentName?e.DocumentName.toUpperCase():"",e.Description=e.Description?e.Description.toUpperCase():"",e.Note=e.Note?e.Note.toUpperCase():"",this.store.dispatch(Ue.DocumentSave({document:e})),this.matDialogRef.close()}closeDocument(){this.matDialogRef.close()}static{this.\u0275fac=function(i){return new(i||Lo)(p(Be),p(ge),p(st),p(O),p(ks),p(nt,8),p(F))}}static{this.\u0275cmp=A({type:Lo,selectors:[["patient-document-form"]],inputs:{document:"document"},outputs:{cancel:"cancel",saveContact:"saveContact"},decls:2,vars:2,consts:[[1,"flex","flex-auto","flex-col","overflow-y-auto","p-6","sm:p-8",3,"formGroup"],["fileDragDrop","",1,"w-full",3,"filesChangeEmiter"],[1,"flex","h-48","w-full","flex-col","justify-center","text-center","text-2xl"],["for","FileDetails"],["type","file","id","file","multiple","",1,"file-upload-input",3,"change","formControlName"],[1,"font-bold"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","",1,"uppercase",3,"formControlName"],["matInput","","cdkTextareaAutosize","",1,"uppercase",3,"formControlName","placeholder","rows","spellcheck"],[1,"flex","items-center"],["svgIcon","heroicons_outline:cloud-upload",1,"text-green-500"],[1,"ml-4","font-bold"],[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"]],template:function(i,t){i&1&&R(0,ld,25,9,"div")(1,md,22,16,"div"),i&2&&(B(t.uploadFile?0:-1),o(),B(t.uploadFile?-1:1))},dependencies:[fe,Oe,De,he,_e,we,Ne,Ts,Ie,Va,Ns,ye,Ta,Ee,Re,Fe,Ia],styles:[`.file-upload-input{position:absolute;margin:0;padding:0;width:89%;height:28%;outline:none;opacity:0;cursor:pointer}
`],encapsulation:2})}};Li=N([k()],Li);function ha(d){for(var e=window.atob(d),i=e.length,t=new Uint8Array(i),s=0;s<i;s++){var m=e.charCodeAt(s);t[s]=m}return t}function dd(d,e){if(d&1){let i=Se();n(0,"div",1)(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),v("click",function(){P(i);let s=U();return _(s.toggleEditMode(!0))}),c(5,"mat-icon",7),n(6,"span",8),l(7,"Edit"),a()()()(),n(8,"div",9)(9,"span",10),l(10),a()(),n(11,"div",11),v("click",function(){P(i);let s=U();return _(s.viewDocument(s.document))}),c(12,"pdf-viewer",12),a(),n(13,"div",13)(14,"div",14)(15,"button",15),c(16,"mat-icon",16),a(),n(17,"div",17),l(18),a()(),n(19,"div",14)(20,"button",18),c(21,"mat-icon",16),a(),n(22,"div",17),l(23),w(24,"datetimeformat"),a()(),n(25,"div",14)(26,"button",19),c(27,"mat-icon",16),a(),n(28,"div",17),l(29),a()(),n(30,"div",14)(31,"button",20),c(32,"mat-icon",16),a(),n(33,"div",17),l(34),a()()()()()}if(d&2){let i=U();o(4),r("color","primary"),o(),r("svgIcon","heroicons_solid:pencil-alt"),o(5),$(i.document.documentname),o(2),r("src",i.file)("render-text",!0)("original-size",!0)("show-all",!1)("page",1)("fit-to-page",!0),o(4),r("svgIcon","mat_outline:description"),o(2),W(" ",i.document.description," "),o(3),r("svgIcon","mat_outline:date_range"),o(2),W(" ",I(24,17,i.document.adddate)," "),o(4),r("svgIcon","heroicons_solid:user-circle"),o(2),W(" ",i.document.adduserid||"N/A"," "),o(3),r("svgIcon","mat_outline:edit_note"),o(2),W(" ",i.document.note||"N/A"," ")}}function pd(d,e){if(d&1){let i=Se();n(0,"patient-document-form",21),v("cancel",function(){P(i);let s=U();return _(s.toggleEditMode(s.event))})("delete",function(){P(i);let s=U();return _(s.deleteDocument())})("save",function(){P(i);let s=U();return _(s.updateDocument())}),a()}if(d&2){let i=U();r("document",i.document)}}var cn=class Wo{constructor(e,i,t,s,m,u){this.data=e,this._formBuilder=i,this._changeDetectorRef=t,this.store=s,this.dialogRef=m,this.dialog=u,this.isreadonly=!1,this.editMode=!1,this.data$=this.store.select(Ri.selectDocuments),this.pdfFile$=this.store.select(Ri.selectDocument),this.loading$=this.store.select(Ri.selectLoading),this.previewUrl$=this.store.select(Ri.selectPreviewUrl),this.document=e.dynamicComponentData,this.store.dispatch(Ue.SetPreviewUrl({id:this.document.id}))}ngOnInit(){this.composeForm=this._formBuilder.group({documentname:[""],description:[""],FileDetails:["",et.required],note:[""],AddUserId:[""],addDate:[]}),this.pdfFile$.pipe(h(this)).subscribe(e=>{if(e!==null){let i=ha(e[0]?.fileBlob),t=new Blob([i],{type:"application/pdf"}),s=URL?.createObjectURL(t);this.file=s}}),this.composeForm.patchValue(this.document)}ngAfterViewInit(){}onFocus(){}onBlur(){this.focused=!1,this._changeDetectorRef.markForCheck()}ngOnDestroy(){}toggleEditMode(e=null){e===null?this.editMode=!this.editMode:(this.editMode=e,this.openEditModel()),this._changeDetectorRef.markForCheck()}deleteDocument(){this.dialogRef.close()}updateDocument(){this.dialogRef.close()}viewDocument(e){this.store.dispatch(Ue.LoadDocument({id:e.id}))}openEditModel(){this.dialogRef.close();let e={icon:"mat_outline:assignment",iconColor:"primary",title:"UPDATE DOCUMENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Li,dynamicComponentData:this.document,submitFunction:"updateDocument",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||Wo)(p(nt,8),p(st),p(ce),p(F),p(Be),p(z))}}static{this.\u0275cmp=A({type:Wo,selectors:[["ac-patient-document-individual"]],decls:3,vars:2,consts:[[1,"flex","w-full","flex-col"],[1,"relative","flex","flex-auto","flex-col","items-center","p-3","pt-0","sm:p-12","sm:pb-0","sm:pt-0"],[3,"document"],[1,"w-full","max-w-3xl"],[1,"flex","flex-auto","items-end"],[1,"mb-1","ml-auto","flex","items-center"],["mat-flat-button","",3,"click","color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"ml-4","mr-4","mt-3","flex","items-center","truncate","border-b","text-2xl","font-bold"],[1,"mb-3"],[1,"mb-8",3,"click"],[1,"mt-8","h-96","cursor-pointer","shadow",2,"display","block",3,"src","render-text","original-size","show-all","page","fit-to-page"],[1,"mt-4","flex","flex-col","space-y-4","pt-6"],[1,"flex"],["matTooltip","Description"],[3,"svgIcon"],[1,"ml-6","text-lg"],["matTooltip","Add Date"],["matTooltip","Added By"],["matTooltip","Note"],[3,"cancel","delete","save","document"]],template:function(i,t){i&1&&(n(0,"div",0),R(1,dd,35,19,"div",1)(2,pd,1,1,"patient-document-form",2),a()),i&2&&(o(),B(t.editMode?-1:1),o(),B(t.editMode?2:-1))},dependencies:[Fa,ye,ls,ss,Qi,Li,xe],encapsulation:2})}};cn=N([k()],cn);var un=class Go{constructor(e,i,t,s,m,u,C,D,f){this._matDialog=e,this.store=i,this.route=t,this.searchService=s,this.router=m,this.actions$=u,this.dateTime=C,this._fuseConfirmationService=D,this.titleService=f,this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"Id",minWidth:90,field:"id",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Added Date",minWidth:150,field:"adddate",valueFormatter:y=>this.dateTime.transform(y.data.adddate),sort:"desc",filter:"agDateColumnFilter",filterParams:J,sortIndex:2,hide:!1},{headerName:"Document Name",minWidth:275,field:"documentname",sort:"desc",filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"Description",minWidth:400,field:"description",sort:"desc",filter:"agMultiColumnFilter",sortIndex:4,hide:!1},{headerName:"Note",minWidth:250,field:"note",sort:"desc",filter:"agMultiColumnFilter",sortIndex:5,hide:!1},{headerName:"Actions",minWidth:101,field:"actions",cellRenderer:Lt,cellRendererParams:{menuItems:[{name:"View Document",action:this.view.bind(this),icon:"remove_red_eye",color:"text-blue-500"},{name:"Delete Document",action:this.deleteRow.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},filter:!1,sortIndex:12,hide:!1,sortable:!1}],this.data$=this.store.select(Ri.selectDocuments),this.loading$=this.store.select(Ri.selectLoading),this.visibleColumns=["adddate","documentname","description","note","actions"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.searchCtrl=new Me,this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.selectedRowIndex=-1,this.selection=new Kt(!0,[]),this.toolbarData=[{title:"Upload Document",type:"basic",icon:"heroicons_outline:cloud-upload",function:()=>{this.toolbarAction()}},{title:"View Contact Notes",type:"basic",icon:"mat_outline:speaker_notes",function:()=>{this.viewPatientNotes()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(([e])=>{this.store.dispatch(Ue.LoadDocuments({patientId:+e.get("id")}))}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(Ue.Refresh),h(this)).subscribe(e=>this.refresh.next(e))}ngAfterViewInit(){}openDocumentDetails(e){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"DOCUMENT DETAILS",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:cn,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"",enterKeyEnabled:!0};this._matDialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{e.api.clearFocusedCell()})}ngOnDestroy(){}toolbarAction(){let e={icon:"mat_outline:edit_note",title:"Upload Document",cancelButtonText:"Cancel",saveButtonText:"Upload",dynamicComponent:Li,dynamicComponentData:null,submitFunction:"saveDocument",enterKeyEnabled:!0};this._matDialog.open(E,{width:"40%",minHeight:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{})}view(e){this.viewDocument(e.data)}viewDocument(e){this.store.dispatch(Ue.LoadDocument({id:e.id}))}onSelectionChanged(e){e.column.colId!="actions"&&this.openDocumentDetails(e)}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this._matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this._matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}deleteRow(e){this.deleteDocument(e.data)}deleteDocument(e){e.adduserid=e.adduserid==null?"":e.adduserid,this._fuseConfirmationService.open({title:"Delete Document",message:"Are you sure you want to delete this Document? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{t==="confirmed"&&this.store.dispatch(Ue.DeletePatientDocument({id:e}))})}static{this.\u0275fac=function(i){return new(i||Go)(p(z),p(F),p(K),p(be),p(O),p(L),p(xe),p(ge),p(le))}}static{this.\u0275cmp=A({type:Go,selectors:[["ac-patient-documents"]],decls:8,vars:15,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","rowData","columnDefs","agGridHeight","component","paginatorOption","visibleColumns","loading"],[3,"show"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a(),c(6,"ac-loading-overlay",5),w(7,"async"),a()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 379px)")("component","patientDocumentcenter")("paginatorOption",t.paginationOptions)("visibleColumns",t.visibleColumns)("loading",I(5,11,t.loading$)),o(2),r("show",I(7,13,t.loading$)))},dependencies:[Z,se,Yt,G],encapsulation:2})}};un=N([k()],un);var hn=$l(Bl());var cd=["shadowElem"];function ud(d,e){d&1&&(n(0,"div",3)(1,"div",4),c(2,"span",null,0),a()())}var dl=(()=>{class d{constructor(i){this.data=i}ngAfterViewInit(){if(this.shadowElem?.nativeElement){let i=this.shadowElem.nativeElement.attachShadow({mode:"open"}),t=document.createElement("div");i.appendChild(t),t.innerHTML=this.data.message}}static{this.\u0275fac=function(t){return new(t||d)(p(nt))}}static{this.\u0275cmp=A({type:d,selectors:[["app-efirst-details"]],viewQuery:function(t,s){if(t&1&&ut(cd,5),t&2){let m;ht(m=ft())&&(s.shadowElem=m.first)}},decls:3,vars:1,consts:[["shadowElem",""],[1,"flex","w-full","flex-col"],[1,"relative","w-full"],[1,"flex"],[1,"ml-6","h-full","overflow-auto","text-lg"]],template:function(t,s){t&1&&(n(0,"div",1)(1,"div",2),R(2,ud,4,0,"div",3),a()()),t&2&&(o(2),B(s.data.message?2:-1))},encapsulation:2})}}return d})();function hd(d,e){if(d&1&&c(0,"div",19),d&2){let i=U().$implicit;r("innerHTML",i.contactType,Gi)}}function fd(d,e){if(d&1&&c(0,"div",22),d&2){let i=U().$implicit;r("innerHTML",i.note,Gi)}}function gd(d,e){if(d&1){let i=Se();n(0,"li",13),qi(1),c(2,"div",14),Ni(),n(3,"div",15),v("click",function(){let s=P(i).$implicit,m=U(3);return _(m.onSelectionChanged(s))}),n(4,"div",16),c(5,"mat-icon",17),a(),n(6,"div",18),R(7,hd,1,1,"div",19),n(8,"div",20)(9,"div",21),l(10),w(11,"datetimeformat"),a()(),R(12,fd,1,1,"div",22),a()()()}if(d&2){let i=e.$implicit;o(5),r("svgIcon","heroicons_solid:mail-open"),o(2),B(i.contactType?7:-1),o(3),W(" ",I(11,4,i.addDate)," "),o(2),B(i.note?12:-1)}}function Cd(d,e){if(d&1){let i=Se();n(0,"div",8)(1,"ol"),qi(2)(3),n(4,"li",10)(5,"div",11),v("click",function(){P(i);let s=U(2);return _(s.showThisMonth())}),l(6," This Month "),a(),n(7,"div",12),v("click",function(){P(i);let s=U(2);return _(s.showLastMonth())}),l(8," Last Month "),a(),n(9,"div",12),v("click",function(){P(i);let s=U(2);return _(s.showOlder())}),l(10," Older "),a()(),Ni(),ae(11,gd,13,6,"li",13,Hi().trackByFn,!0),Ni(),a()()}if(d&2){let i=U(2);o(5),Ti("bg-slate-400",!i.isActiveThisMonth)("bg-primary",i.isActiveThisMonth),o(2),Ti("bg-slate-400",!i.isActiveLastMonth)("bg-primary",i.isActiveLastMonth),o(2),Ti("bg-slate-400",!i.isActiveOlder)("bg-primary",i.isActiveOlder),o(2),ne(i.filterEmails)}}function vd(d,e){d&1&&(n(0,"div",9)(1,"div",23),l(2,"There are no emails at the moment..."),a()())}function yd(d,e){if(d&1&&R(0,Cd,13,12,"div",8)(1,vd,3,0,"div",9),d&2){let i=e;B(i.length?0:-1),o(),B(i.length?-1:1)}}var fn=class Uo{constructor(e,i,t,s,m){this.store=e,this.router=i,this.dateTime=t,this.dialog=s,this.reordersService=m,this.data$=this.store.select(mo.selectPatientEFirst),this.loading$=this.store.select(mo.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.isActiveThisMonth=!0,this.isActiveLastMonth=!1,this.isActiveOlder=!1,this.verifying=!1,this.verifiedFlag="",this.verifiedResponse="",this.verifiedFile="",this.insuranceIsValid=!1,this.toolbarData=[{title:"Verify Insurance",type:"basic",icon:"mat_outline:check",function:()=>{this.verifyInsurance()}}]}ngOnInit(){let e=Number(this.router.url.split("/")[3]);this.patientId=e,this.store.dispatch(Bi.LoadEFirst({patientId:e})),this.data$.subscribe(i=>{this.totalEmails=i,this.showThisMonth()})}showThisMonth(){let e=new Date,t=new Date().getMonth(),s=this.totalEmails?.filter(m=>new Date(m?.addDate).getMonth()===t);this.filterEmails=s,this.isActiveThisMonth=!0,this.isActiveLastMonth=!1,this.isActiveOlder=!1}showLastMonth(){let e=new Date,t=new Date().getMonth()-1,s=this.totalEmails.filter(m=>new Date(m.addDate).getMonth()===t);this.filterEmails=s,this.isActiveThisMonth=!1,this.isActiveLastMonth=!0,this.isActiveOlder=!1}showOlder(){let e=new Date,t=new Date().getMonth()-2,s=this.totalEmails.filter(m=>new Date(m.addDate).getMonth()<=t);this.filterEmails=s,this.isActiveThisMonth=!1,this.isActiveLastMonth=!1,this.isActiveOlder=!0}onSelectionChanged(e){this.openAutomatedEmail(e)}openAutomatedEmail(e){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"DETAILS",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:dl,dynamicComponentData:e||null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}trackByFn(e,i){return i.id||e}verifyInsurance(){hn.default.fire({title:"Are you sure?",text:"You're about to verify insurance for this patient!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, do it!"}).then(e=>{e.isConfirmed&&(this.verifying=!0,this.reordersService.checkPatientEligibility(this.patientId).toPromise().then(i=>{this.verifiedFlag=i.flag,this.verifiedResponse=i.response,this.verifiedFile=i.fileName,this.verifiedFlag=="ELIGIBLE"?(this.insuranceIsValid=!0,hn.default.fire("Good job!","Patient is Eligible!","success")):(this.insuranceIsValid=!1,hn.default.fire("Oops!","Patient is NOT Eligible!","error"))}).catch(i=>{console.log("error",i)}).finally(()=>{this.verifying=!1,this.store.dispatch(Bi.LoadEFirst({patientId:this.patientId}))}))})}static{this.\u0275fac=function(i){return new(i||Uo)(p(F),p(O),p(xe),p(z),p(Ms))}}static{this.\u0275cmp=A({type:Uo,selectors:[["app-patient-efirst"]],decls:12,vars:5,consts:[[1,"flex","w-full","flex-col",2,"height","695px","overflow-y","scroll"],[1,"relative","flex","min-w-0","flex-auto","flex-col"],[1,"flex","w-full","bg-white","p-1","shadow","dark:bg-transparent"],[3,"navigation","name"],[1,"flex","flex-auto","flex-col","px-6","py-10","sm:px-8","sm:pb-8","sm:pt-8"],[1,"w-full","max-w-3xl"],[1,"text-3xl","font-extrabold","leading-none","tracking-tight"],[1,"text-secondary","mt-1.5","text-md"],[1,"mt-8"],[1,"py-8"],[1,"relative","flex","pb-2","pt-0"],[1,"relative","rounded-full","px-8","py-2","text-md","font-medium","leading-5","text-on-primary",3,"click"],[1,"relative","ml-2","rounded-full","px-8","py-2","text-md","font-medium","leading-5","text-on-primary",3,"click"],[1,"relative","flex","py-7"],[1,"absolute","left-5","top-7","-ml-px","h-full","w-0.5","bg-gray-300","dark:bg-gray-600"],[1,"relative","flex","flex-auto","cursor-pointer",3,"click"],[1,"mr-4","flex","h-10","w-10","shrink-0","items-center","justify-center","rounded-full","bg-gray-400"],[1,"text-white","icon-size-5",3,"svgIcon"],[1,"flex","flex-auto","flex-col","items-start"],[3,"innerHTML"],[1,"mt-2","flex","flex-col","text-md","leading-5","sm:mt-1","sm:flex-row","sm:items-center","sm:space-x-2"],[1,"text-secondary"],[1,"mt-4","rounded-lg","bg-gray-200","px-5","py-4","dark:bg-gray-800",3,"innerHTML"],[1,"text-secondary","mt-1.5","text-lg"]],template:function(i,t){if(i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),c(3,"fuse-horizontal-navigation",3),a(),n(4,"div",4)(5,"div",5)(6,"div",6),l(7,"Insurance Verification"),a(),n(8,"div",7),l(9," Insurance Verifications are listed here as individual items, starting with the most recent. "),a(),R(10,yd,2,2),w(11,"async"),a()()()()),i&2){let s;o(3),r("navigation",t.toolbarData)("name","patient-toolbar"),o(7),B((s=I(11,3,t.data$))?10:-1,s)}},dependencies:[Z,ye,G,xe],encapsulation:2})}};fn=N([k()],fn);var pl=["lastname","firstname","address","address2","city","state","email","type","relationship"];var oa=(()=>{class d{constructor(i){this.el=i,this.el.nativeElement.onkeypress=t=>{(t.which<48||t.which>57)&&t.preventDefault()}}static{this.\u0275fac=function(t){return new(t||d)(p(jr))}}static{this.\u0275dir=Da({type:d,selectors:[["","numbers",""]]})}}return d})();function bd(d,e){return this.trackByFnForRelationship}function Dd(d,e){if(d&1&&(n(0,"mat-option",8)(1,"div",27),l(2),a()()),d&2){let i=e.$implicit;r("value",i),o(2),$(i)}}function xd(d,e){if(d&1&&(n(0,"mat-option",12)(1,"div",28),l(2),a()()),d&2){let i=e.$implicit;r("value",i.name.toUpperCase()),o(2),$(i.name.toUpperCase())}}function Sd(d,e){if(d&1&&(n(0,"mat-option",8)(1,"span",29),l(2),a(),n(3,"span"),l(4),a()()),d&2){let i=e.$implicit;r("value",i.abbreviation),o(2),W(" ",i.abbreviation," "),o(2),$(i.name)}}function Pd(d,e){if(d&1&&(n(0,"fuse-alert",26),l(1),a()),d&2){let i=U();r("appearance","outline")("type",i.alert.type)("showIcon",!1)("@shake",!0),o(),W(" ",i.alert.message," ")}}var fa=class Ho{constructor(e,i,t,s,m,u,C){this._formBuilder=e,this.store=i,this.actions$=t,this.dialogRef=s,this.data=m,this.auxUtilService=u,this.router=C,this.showDeleteButton=!1,this.state=new at,this.dateFormat=ot.DATE_FORMAT,this.refresh=new ee,this.usstates=Oi,this.ranks=[1,2,3,4,5],this.patientCityState$=this.store.select(ma.selectPatientCityState),this.relationShipDorpDownValue=[{name:"Spouse/significant other"},{name:"Son/daughter"},{name:"Parent/guardian"},{name:"Sibling/family member"},{name:"Friend/neighbor"},{name:"Clinician"},{name:"Case Manager"}],this.emergencyContact=m.dynamicComponentData,this.filteredStates=this.state.valueChanges.pipe(Q(""),x(D=>D?this._filterStates(D):this.usstates.slice()))}ngOnInit(){let e=Number(this.router.url.split("/")[3]);this.emergencyContactForm=this._formBuilder.group({id:[0],patientId:[e],rank:[1],firstname:[""],lastname:[""],address:[""],address2:[""],city:[""],state:[""],zip:[""],phone:[""],cell:[""],relationship:[""],email:[""],type:[""],isactive:[!0],isdeleted:[!1],isEmergency:[!0],isAuthorized:[!1]}),this.emergencyContactForm.get("zip").valueChanges.pipe(h(this),Le(500)).subscribe(i=>{i!==""&&this.store.dispatch(vt.LoadCityAndStateDropDown({zipCode:i}))}),this.patientCityState$.pipe(h(this)).subscribe(i=>{i?(this.state.setValue(i.state),this.emergencyContactForm.get("state").setValue(i.state),this.emergencyContactForm.get("city").setValue(i.city)):(this.state.setValue(""),this.emergencyContactForm.get("state").setValue(""),this.emergencyContactForm.get("city").setValue(""))}),this.emergencyContactForm.patchValue(this.emergencyContact,{emitEvent:!1}),this.emergencyContact&&this.emergencyContact.state!=null?this.state.setValue(this.emergencyContact.state):(this.state.setValue(""),this.emergencyContactForm.get("state").setValue(""),this.emergencyContactForm.get("city").setValue("")),this.emergencyContactForm.get("relationship").setValue(this.emergencyContact.relationship.toUpperCase()),this.actions$.pipe(b(vt.Refresh,qe.Refresh),h(this)).subscribe(i=>this.refresh.next(i))}ngOnDestroy(){this.store.dispatch(vt.ResetState()),this.emergencyContactForm.get("city").setValue(""),this.emergencyContactForm.get("state").setValue(""),this.emergencyContactForm.get("zip").setValue(""),this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe()}ngOnChanges(e){this.emergencyContactForm&&e.emergencyContact?.currentValue&&this.emergencyContactForm.patchValue(this.emergencyContact)}saveEmergencyContact(){let e=this.emergencyContactForm.value;e=this.auxUtilService.transFormValuesToUpperCase(e,pl),this.store.dispatch(vt.AddEmergencyContact({emergencyContact:e})),this.dialogRef.close()}onDateChange(e,i){this.emergencyContactForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.emergencyContactForm,i)}trackByFn(e){return e.abbreviation}trackByFnForRelationship(e,i){return i?i.id:void 0}_filterStates(e){let i=e.toLowerCase().replace(/\s+/g," ");return this.usstates.filter(t=>t.name.toLowerCase().replace(/\s+/g," ").includes(i)||t.abbreviation.toLowerCase().includes(i))}makeCall(e){let i=this.emergencyContactForm.get(e=="Cell"?"cell":"phone")?.value;this.auxUtilService.makeCall(i)}static{this.\u0275fac=function(i){return new(i||Ho)(p(st),p(F),p(L),p(Be),p(nt,8),p(ke),p(O))}}static{this.\u0275cmp=A({type:Ho,selectors:[["ac-patient-emergency-contact-form"]],features:[Or],decls:101,vars:72,consts:[["auto","matAutocomplete"],[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["tabindex","1",3,"panelClass","formControlName"],[3,"value"],[1,"-ml-2",3,"color","formControlName"],[1,"mt-0"],["formControlName","relationship","tabindex","3",3,"panelClass","value"],[1,"uppercase",3,"value"],["tabindex","4","matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["tabindex","5","matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["tabindex","6","matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["tabindex","7","matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["tabindex","9","matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["bindLabel","abbreviation",1,"state-select","state","w-full","uppercase"],["matInput","","tabindex","9","aria-label","State",3,"matAutocomplete","formControl"],["matSuffix","",1,"mr-2","flex-auto","text-3xl"],["tabindex","8","matInput","","numbers","",3,"formControlName","placeholder"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"click","svgIcon"],["tabindex","11","matInput","","mask","(000) 000-0000",1,"uppercase",3,"formControlName","value","showMaskTyped","placeholder","spellcheck"],["tabindex","12","matInput","","mask","(000) 000-0000","numbers","",3,"formControlName","value","showMaskTyped","placeholder"],["tabindex","13","matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[1,"mt-4",3,"appearance","type","showIcon"],[1,"font-medium"],[1,"font-medium","uppercase"],[1,"mr-1","font-bold"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",1)(1,"div",2)(2,"form",3)(3,"div",4)(4,"mat-form-field",5)(5,"mat-label"),l(6,"Rank"),a(),c(7,"mat-icon",6),n(8,"mat-select",7),ae(9,Dd,3,2,"mat-option",8,de),a()()(),n(11,"div",4)(12,"mat-checkbox",9)(13,"span"),l(14,"Is Emergency?"),a()()(),n(15,"div",10)(16,"mat-checkbox",9)(17,"span"),l(18,"Is Authorized?"),a()()(),n(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),l(22,"Relationship"),a(),c(23,"mat-icon",6),n(24,"mat-select",11),ae(25,xd,3,2,"mat-option",12,bd,!0),a()()(),n(27,"div",4)(28,"mat-form-field",5)(29,"mat-label"),l(30,"First Name"),a(),c(31,"mat-icon",6)(32,"input",13),a()(),n(33,"div",4)(34,"mat-form-field",5)(35,"mat-label"),l(36,"Last Name"),a(),c(37,"mat-icon",6)(38,"input",14),a()(),n(39,"div",4)(40,"mat-form-field",5)(41,"mat-label"),l(42,"Address"),a(),c(43,"mat-icon",6)(44,"input",15),a()(),n(45,"div",4)(46,"mat-form-field",5)(47,"mat-label"),l(48,"Address2"),a(),c(49,"mat-icon",6)(50,"input",16),a()(),n(51,"div",4)(52,"mat-form-field",5)(53,"mat-label"),l(54,"City"),a(),c(55,"mat-icon",6)(56,"input",17),a()(),n(57,"div",4)(58,"mat-form-field",18)(59,"mat-label"),l(60,"State"),a(),c(61,"mat-icon",6)(62,"input",19),n(63,"mat-icon",20),l(64,"arrow_drop_down"),a(),n(65,"mat-autocomplete",null,0),ae(67,Sd,5,3,"mat-option",8,de),w(69,"async"),a()()(),n(70,"div")(71,"mat-form-field",5)(72,"mat-label"),l(73,"Zip"),a(),c(74,"mat-icon",6)(75,"input",21),a()(),n(76,"div",4)(77,"mat-form-field",5)(78,"mat-label"),l(79,"Cell"),a(),n(80,"mat-icon",22),v("click",function(){return P(s),_(t.makeCall("Cell"))}),a(),c(81,"input",23),w(82,"phone"),a()(),n(83,"div",4)(84,"mat-form-field",5)(85,"mat-label"),l(86,"Phone"),a(),n(87,"mat-icon",22),v("click",function(){return P(s),_(t.makeCall("Phone"))}),a(),c(88,"input",24),w(89,"phone"),a()(),n(90,"div",4)(91,"mat-form-field",5)(92,"mat-label"),l(93,"Email"),a(),c(94,"mat-icon",6)(95,"input",25),a()(),n(96,"div",4)(97,"mat-checkbox",9)(98,"span"),l(99,"Is Active?"),a()()(),R(100,Pd,2,5,"fuse-alert",26),a()()()}if(i&2){let s=Y(66);o(2),r("formGroup",t.emergencyContactForm),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("panelClass","w-72 min-w-72 max-w-72 h-auto max-h-none")("formControlName","rank"),o(),ne(t.ranks),o(3),r("color","primary")("formControlName","isEmergency"),o(4),r("color","primary")("formControlName","isAuthorized"),o(4),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("panelClass","w-full uppercase")("value","relationship"),o(),ne(t.relationShipDorpDownValue),o(3),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","firstname")("placeholder","First Name")("spellcheck",!1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","lastname")("placeholder","Last Name")("spellcheck",!1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:location-marker"),o(),r("formControlName","address")("placeholder","Address")("spellcheck",!1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:location-marker"),o(),r("formControlName","address2")("placeholder","Address2")("spellcheck",!1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:location-marker"),o(),r("formControlName","city")("placeholder","City")("spellcheck",!1),o(5),r("svgIcon","heroicons_solid:location-marker"),o(),r("matAutocomplete",s)("formControl",t.state),o(5),ne(I(69,66,t.filteredStates)),o(4),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:location-marker"),o(),r("formControlName","zip")("placeholder","Zip"),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:phone"),o(),r("formControlName","cell")("value",I(82,68,(t.emergencyContact==null?null:t.emergencyContact.cell)||""))("showMaskTyped",!0)("placeholder","Cell")("spellcheck",!1),o(3),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:phone"),o(),r("formControlName","phone")("value",I(89,70,(t.emergencyContact==null?null:t.emergencyContact.phone)||""))("showMaskTyped",!0)("placeholder","Phone"),o(3),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:mail"),o(),r("formControlName","email")("placeholder","Email")("spellcheck",!1),o(2),r("color","primary")("formControlName","isactive"),o(3),B(t.alert?100:-1)}},dependencies:[fe,Oe,De,he,_e,$t,we,Ne,Ee,Ie,ye,Re,Vt,lt,_t,Fe,Ze,mt,Et,oa,ui,oi,G,Ji],styles:["[_nghost-%COMP%]     .contact-state-select.ng-select .ng-select-container{overflow:unset}[_nghost-%COMP%]     .contact-state-select.ng-select .ng-select-container.ng-appearance-outline .ng-clear-wrapper{display:block!important;bottom:20px!important}[_nghost-%COMP%]     .contact-state-select.ng-select .ng-select-container.ng-appearance-outline .ng-arrow-wrapper{bottom:22px}[_nghost-%COMP%]     .contact-state-select.ng-select .ng-select-container.ng-appearance-outline:hover:after{border:solid 1px rgba(0,0,0,.12)}[_nghost-%COMP%]     .contact-state-select.ng-select .ng-select-container.ng-appearance-outline:after{height:100%}[_nghost-%COMP%]     .contact-state-select.ng-select .ng-select-container .ng-value-container .ng-input{bottom:50%;transform:translateY(50%);padding:0 10px}[_nghost-%COMP%]     .contact-state-select.ng-select.ng-select-focused .ng-select-container .ng-value-container .ng-placeholder{transform:translateY(-25px) scale(.75) perspective(100px) translateZ(.001px)}[_nghost-%COMP%]     .contact-state-select.ng-select.ng-select-opened .ng-placeholder, [_nghost-%COMP%]     .contact-state-select.ng-select .ng-has-value .ng-placeholder{transform:translateY(-25px) scale(.75) perspective(100px) translateZ(.001px)}[_nghost-%COMP%]     .contact-state-select.ng-select ng-dropdown-panel{width:auto}  .mat-form-field-appearance-outline.specific-yellow .mat-form-field-outline{background-color:#d3d3d3!important}"]})}};fa=N([k()],fa);var gn=class qo{constructor(e,i,t,s,m,u,C,D,f){this.store=e,this.actions$=i,this.router=t,this.activatedRoute=s,this.dialog=m,this.dateTime=u,this._fuseConfirmationService=C,this.phoneNumberPipe=D,this.titleService=f,this.rowData=[],this.columnDefs=[{headerName:"Id",minWidth:100,field:"id",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Rank",minWidth:100,field:"rank",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Is Emergency",minWidth:150,field:"isEmergency",filter:"agMultiColumnFilter",sortIndex:2,hide:!1},{headerName:"Relationship",minWidth:225,field:"relationship",filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"First Name",minWidth:150,field:"firstname",filter:"agMultiColumnFilter",sortIndex:4,hide:!1},{headerName:"Last Name",minWidth:150,field:"lastname",filter:"agDateColumnFilter",sortIndex:5,hide:!1},{headerName:"Address",minWidth:123,field:"address",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"City",minWidth:123,field:"city",filter:"agMultiColumnFilter",sortIndex:7,hide:!1},{headerName:"State",minWidth:123,field:"state",filter:"agMultiColumnFilter",sortIndex:8,hide:!1},{headerName:"Zip",minWidth:123,field:"zip",filter:"agMultiColumnFilter",sortIndex:9,hide:!1},{headerName:"Phone",minWidth:150,field:"phone",cellRenderer:hi,cellRendererParams:{field:"phone"},valueFormatter:y=>this.phoneNumberPipe.transform(y.data.phone),filter:"agMultiColumnFilter",sortIndex:10,hide:!1},{headerName:"Cell",minWidth:175,field:"cell",filter:"agMultiColumnFilter",sortIndex:11,hide:!1,cellRenderer:hi,cellRendererParams:{field:"cell"}},{headerName:"Email",minWidth:123,field:"email",filter:"agMultiColumnFilter",sortIndex:12,hide:!1},{headerName:"Added Date",minWidth:150,field:"addeddate",valueFormatter:y=>this.dateTime.transform(y.data.addeddate),filter:"agMultiColumnFilter",sortIndex:13,hide:!1},{headerName:"Actions",minWidth:75,field:"actions",cellRenderer:Lt,cellRendererParams:{menuItems:[{name:"Remove Additional Contact",action:this.deleteRow.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},filter:!1,sortIndex:14,hide:!1,sortable:!1}],this.visibleColumns=["rank","isEmergency","relationship","firstname","lastname","city","state","zip","cell","actions"],this.emergencyContacts$=this.store.select(ma.selectEmergencyContacts),this.loading$=this.store.select(ma.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.toolbarData=[{title:"Add Emergency Contact",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.addEmergencyContact()}},{title:"View Contact Notes",type:"basic",icon:"mat_outline:speaker_notes",function:()=>{this.viewPatientNotes()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title);let e=Number(this.router.url.split("/")[3]);te([this.activatedRoute.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(()=>{this.store.dispatch(vt.LoadEmergencyContacts({patientId:e}))}),this.emergencyContacts$.pipe(h(this)).subscribe(i=>{this.rowData=i}),this.actions$.pipe(b(vt.Refresh),h(this)).subscribe(i=>this.refresh.next(i))}deleteRow(e){this.deleteEmergencyContact(e.data)}deleteEmergencyContact(e){this._fuseConfirmationService.open({title:"Delete Contact",message:"Are you sure you want to delete this Emergency Contact? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{if(t==="confirmed"){let s=ai(Je({},e),{isactive:!1});this.store.dispatch(vt.DeleteEmergencyContact({emergencyContact:s}))}})}onSelectionChanged(e){["actions","cell","phone"].includes(e.column.colId)||this.openItem(e)}addEmergencyContact(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"ADD EMERGENCY CONTACT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fa,dynamicComponentData:null,submitFunction:"saveEmergencyContact",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{this.refresh.next(i)})}openItem(e){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"SAVE EMERGENCY CONTACT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fa,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"saveEmergencyContact",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t),e.api.clearFocusedCell()})}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||qo)(p(F),p(L),p(O),p(K),p(z),p(xe),p(ge),p(Wt),p(le))}}static{this.\u0275cmp=A({type:qo,selectors:[["app-patient-emergency-contacts-table"]],features:[re([xe,{provide:ni,useValue:{appearance:"outline"}}])],decls:6,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 379px)")("visibleColumns",t.visibleColumns)("loading",I(5,8,t.loading$)))},dependencies:[Z,se,G],encapsulation:2})}};gn=N([k()],gn);var vn=class zo{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","insuranceId","primaryOrSecondary","amountPaidToPatient","followUpType","datePaymentReceived","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"OWNER",field:"owner",filter:"agMultiColumnFilter",minWidth:110},{headerName:"INSURANCE ID",field:"insuranceId",filter:"agMultiColumnFilter",minWidth:150},{headerName:"PRIMARY OR SECONDARY",field:"primaryOrSecondary",filter:"agMultiColumnFilter",minWidth:160},{headerName:"AMOUNT PAID TO PATIENT",field:"amountPaidToPatient",filter:"agNumberColumnFilter",minWidth:165},{headerName:"FOLLOW UP TYPE",field:"followUpType",filter:"agMultiColumnFilter",minWidth:150},{headerName:"DATE PAYMENT RECEIVED",field:"datePaymentReceived",valueFormatter:g=>this.datePipe.transform(g.data.datePaymentReceived),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:100,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"insurancepaid"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.insurancePaidPatientAddEdit(e.data)}insurancePaidPatientAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Os,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"saveInsurancePaidPatient",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.insurancePaidPatientAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||zo)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:zo,selectors:[["app-insurance-paid-patient-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","insurancePaidPatient")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};vn=N([k()],vn);var yn=class Yo{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","primaryOrSecondary","insuranceId","isAppealForRefund","appealOutcome","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"OWNER",field:"owner",filter:"agMultiColumnFilter",minWidth:110},{headerName:"PRIMARY OR SECONDARY",field:"primaryOrSecondary",filter:"agMultiColumnFilter",minWidth:150},{headerName:"INSURANCE ID",field:"insuranceId",filter:"agMultiColumnFilter",minWidth:160},{headerName:"WHAT THESE AN APPEAL FOR A REFUND?",field:"isAppealForRefund",filter:"agMultiColumnFilter",filterValueGetter:g=>g.data.isAppealForRefund?"True":"False",valueFormatter:g=>g.value?"YES":"NO",cellDataType:"text",minWidth:220},{headerName:"APPEAL OUTCOME",field:"appealOutcome",filter:"agMultiColumnFilter",minWidth:180},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:75,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"appeals"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.appealResponseAddEdit(e.data)}appealResponseAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:js,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"saveAppealResponse",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.appealResponseAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||Yo)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:Yo,selectors:[["app-patient-appeal-response-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","appealResponse")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};yn=N([k()],yn);var bn=class Ko{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"USERNAME",field:"owner",filter:"agMultiColumnFilter",minWidth:150},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:75,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"patientcalls"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.patientCallsAddEdit(e.data)}patientCallsAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Rs,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"saveCalls",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.patientCallsAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||Ko)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:Ko,selectors:[["app-patient-calls-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","patientCalls")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};bn=N([k()],bn);var Dn=class Qo{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","insuranceId","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"OWNER",field:"owner",filter:"agMultiColumnFilter",minWidth:150},{headerName:"INSURANCE ID",field:"insuranceId",filter:"agMultiColumnFilter",minWidth:160},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:75,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"claimcalls"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.claimCallsAddEdit(e.data)}claimCallsAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:$s,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"saveClaimCalls",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.claimCallsAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||Qo)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:Qo,selectors:[["app-claim-calls-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","claimCalls")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};Dn=N([k()],Dn);var xn=class Xo{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","owner","programType","outcome","reEvaluationDate"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"OWNEER",field:"owner",filter:"agMultiColumnFilter",minWidth:150},{headerName:"PROGRAM TYPE",field:"programType",filter:"agMultiColumnFilter",minWidth:160},{headerName:"OUTCOME",field:"outcome",filter:"agMultiColumnFilter",minWidth:140},{headerName:"RE-EVALUATION DATE",field:"reEvaluationDate",valueFormatter:g=>this.datePipe.transform(g.data.reEvaluationDate),filter:"agDateColumnFilter",filterParams:J,minWidth:180}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"financialassistance"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.saveFinancial(e.data)}saveFinancial(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Bs,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"saveFinancial",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.saveFinancial()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||Xo)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:Xo,selectors:[["app-patient-financial-assistance-program-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","financialAssistanceProgram")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};xn=N([k()],xn);var Sn=class Zo{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","insuranceId","primaryOrSecondary","additionalInfo","amount","reasonCode","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"OWNER",field:"owner",filter:"agMultiColumnFilter",minWidth:110},{headerName:"INS ID BEING REFUNDED",field:"insuranceId",filter:"agMultiColumnFilter",minWidth:150},{headerName:"PRIMARY OR SECONDARY",field:"primaryOrSecondary",filter:"agMultiColumnFilter",minWidth:160},{headerName:"ADDITIONAL INFO",field:"additionalInfo",filter:"agMultiColumnFilter",minWidth:150},{headerName:"AMOUNT BEING REFUNDED",field:"amount",filter:"agNumberColumnFilter",minWidth:165},{headerName:"REASON FOR REFUND",field:"reasonCode",filter:"agMultiColumnFilter",minWidth:150},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:100,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"insurancerefunds"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.insuranceRefundsAddEdit(e.data)}insuranceRefundsAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Vs,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"saveInsuranceRefunds",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.insuranceRefundsAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||Zo)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:Zo,selectors:[["app-patient-insurance-refunds-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","insuranceRefunds")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};Sn=N([k()],Sn);var Pn=class Jo{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","insuranceId","primaryOrSecondary","outcome","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"OWNER",field:"owner",filter:"agMultiColumnFilter",minWidth:110},{headerName:"PRIMARY OR SECONDARY",field:"primaryOrSecondary",filter:"agMultiColumnFilter",minWidth:160},{headerName:"INS ID",field:"insuranceId",filter:"agMultiColumnFilter",minWidth:160},{headerName:"OUTCOME",field:"outcome",filter:"agMultiColumnFilter",minWidth:180},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:75,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"openarreport"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.openARReportAddEdit(e.data)}openARReportAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Ls,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"saveOpenARReport",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.openARReportAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||Jo)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:Jo,selectors:[["app-open-ar-report-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","openArReport")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};Pn=N([k()],Pn);var _n=class er{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","primaryInsId","action","isRefundResult","reasonCode","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:110},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"Owner",field:"owner",filter:"agMultiColumnFilter",minWidth:110},{headerName:"INS ID",field:"primaryInsId",filter:"agMultiColumnFilter",minWidth:100},{headerName:"ACTION",field:"action",filter:"agMultiColumnFilter",minWidth:140},{headerName:"IS RESULT OF REFUND?",field:"isRefundResult",filter:"agMultiColumnFilter",filterValueGetter:g=>g.data.isRefundResult?"True":"False",valueFormatter:g=>g.value?"YES":"NO",cellDataType:"text",minWidth:160},{headerName:"REASON FOR DENIAL/REJECTION",field:"reasonCode",filter:"agMultiColumnFilter",minWidth:225},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},onCellClicked:g=>this.openContactNote(g.data.id,this.patientId),minWidth:75}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"primary"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.primaryAddEdit(e.data)}primaryAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Ws,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"savePrimary",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.primaryAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||er)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:er,selectors:[["app-patient-primary-appeal-denials-rejections-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","primaryAppealDenialsRejections")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};_n=N([k()],_n);var wn=class tr{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","additionalInfo","amount","reasonCode","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"OWNER",field:"owner",filter:"agMultiColumnFilter",minWidth:110},{headerName:"ADDITIONAL INFO",field:"additionalInfo",filter:"agMultiColumnFilter",minWidth:150},{headerName:"AMOUNT BEING REFUNDED",field:"amount",filter:"agNumberColumnFilter",minWidth:165},{headerName:"REASON FOR REFUND",field:"reasonCode",filter:"agMultiColumnFilter",minWidth:150},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:100,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"patientrefunds"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.patientRefundsAddEdit(e.data)}patientRefundsAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Gs,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"savePatientRefunds",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.patientRefundsAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||tr)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:tr,selectors:[["app-patient-refunds-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","patientRefunds")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};wn=N([k()],wn);var In=class ir{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","insuranceId","returnAction","dateFullyResolved","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"OWNER",field:"owner",filter:"agMultiColumnFilter",minWidth:150},{headerName:"INSURANCE ID",field:"insuranceId",filter:"agMultiColumnFilter",minWidth:160},{headerName:"RETURN ACTION",field:"returnAction",filter:"agMultiColumnFilter",minWidth:225},{headerName:"DATE FULLY RESOLVED",field:"dateFullyResolved",valueFormatter:g=>this.datePipe.transform(g.data.dateFullyResolved),filter:"agDateColumnFilter",filterParams:J,minWidth:180},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:75,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"returns"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){console.log("Cell clicked:",e),["comments"].includes(e.column.getColId())||this.returnsAddEdit(e.data)}returnsAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Us,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"saveReturns",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.returnsAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||ir)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:ir,selectors:[["app-patient-returns-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","returns")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};In=N([k()],In);var En=class ar{constructor(e,i,t,s,m,u,C,D,f,y){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this.dialog=u,this.titleService=C,this.datePipe=D,this.cdr=f,this.searchService=y,this.searchCtrl=new Me,this.data$=this.store.select(ze.selectBillingEvents),this.loading$=this.store.select(ze.selectLoading),this.visibleColumns=["todaysDate","claimDateOfService","owner","secondaryTertiaryInsId","action","isRefundResult","reasonCode","comments"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",field:"id",filter:"agMultiColumnFilter",minWidth:60},{headerName:"TODAY'S DATE",field:"todaysDate",valueFormatter:g=>this.datePipe.transform(g.data.todaysDate),filter:"agDateColumnFilter",filterParams:J,minWidth:110},{headerName:"CLAIM DATE OF SERVICE",field:"claimDateOfService",valueFormatter:g=>this.datePipe.transform(g.data.claimDateOfService),filter:"agDateColumnFilter",filterParams:J,minWidth:150},{headerName:"Owner",field:"owner",filter:"agMultiColumnFilter",minWidth:110},{headerName:"INS ID",field:"secondaryTertiaryInsId",filter:"agMultiColumnFilter",minWidth:100},{headerName:"ACTION THAT WAS TOOK",field:"action",filter:"agMultiColumnFilter",minWidth:170},{headerName:"IS THIS A RESULT OF A REFUND?",field:"isRefundResult",filter:"agMultiColumnFilter",filterValueGetter:g=>g.data.isRefundResult?"YES":"NO",valueFormatter:g=>g.value?"YES":"NO",cellDataType:"text",minWidth:200},{headerName:"REASON FOR DENIAL/REJECTION",field:"reasonCode",filter:"agMultiColumnFilter",minWidth:200},{headerName:"",field:"comments",filter:"agMultiColumnFilter",cellRenderer:pt,cellRendererParams:{field:"contactNotes"},minWidth:75,onCellClicked:g=>this.openContactNote(g.data.id,this.patientId)}],this.toolbarData=[{title:"Add Event",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}ngOnInit(){this.title=this.router.url.split("/")[4]||"Patient Events Billing",this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null),Le(100),it())]).pipe(h(this)).subscribe(([e])=>{let i=e.get("id");this.patientId=i&&!isNaN(+i)?+i:0,this.patientId>0?this.store.dispatch(oe.LoadPatientBillingEvents({patientId:this.patientId,eventType:"secondary"})):console.error("Invalid patientId:",i)}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.cdr.detectChanges()}),this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>{this.searchService.search.next(e)}),this.actions$.pipe(b(oe.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}ngOnDestroy(){}onSelectionChanged(e){["comments"].includes(e.column.getColId())||this.secondaryAddEdit(e.data)}secondaryAddEdit(e){let i={icon:"mat_outline:edit_note",title:e?"EDIT EVENT":"ADD EVENT",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Hs,dynamicComponentData:e?{billingevents:e,patientId:this.patientId}:{patientId:this.patientId},submitFunction:"saveSecondary",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(t)})}openCreate(){this.secondaryAddEdit()}openContactNote(e,i){this.store.dispatch(oe.LoadContactNotes({patientId:i,refId:e}));let t={icon:"mat_outline:chat",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:At,dynamicComponentData:{patientId:i,refId:e,moduleName:"BillingEvents"},submitFunction:"saveContactNote",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:t}).afterClosed().pipe(h(this)).subscribe(s=>{s?.success&&this.store.dispatch(oe.LoadContactNotes({patientId:this.patientId,refId:e}))})}static{this.\u0275fac=function(i){return new(i||ar)(p(ge),p(O),p(K),p(F),p(L),p(z),p(le),p(q),p(ce),p(be))}}static{this.\u0275cmp=A({type:ar,selectors:[["app-patient-secondary-tertiary-appeals-denials-rejections-table"]],features:[re([q])],decls:6,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","columnDefs","rowData","component","visibleColumns","loading","agGridHeight"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("columnDefs",t.columnDefs)("rowData",t.rowData)("component","secondaryTertiaryAppealsDenialsRejections")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$))("agGridHeight","calc(100vh - 304px)"))},dependencies:[se,G,Z],encapsulation:2,changeDetection:0})}};En=N([k()],En);function _d(d,e){if(d&1&&(n(0,"p",8),l(1),a()),d&2){let i=U();o(),W(" ",i.workOrderId," ")}}function wd(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",58)(2,"h2",59),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function Id(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",58)(2,"h2",59),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.billType),o(3),$(i.billType),o(),W(" ",i.description," ")}}function Ed(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",58)(2,"h2",59),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function Fd(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",58)(2,"h2",59),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.value),o(3),$(i.value),o(),W(" ",i.description," ")}}function Ad(d,e){if(d&1&&(n(0,"mat-option",19),l(1),a()),d&2){let i=e.$implicit;r("value",i),o(),W(" ",i.branchcode," ")}}function Td(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",58)(2,"h2",59),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function Nd(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",58)(2,"h2",59),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function kd(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",58)(2,"h2",59),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.value),o(3),$(i.value),o(),W(" ",i.name," ")}}function Md(d,e){if(d&1&&(n(0,"mat-option",19)(1,"h2",59),l(2),a(),l(3),a()),d&2){let i=e.$implicit;r("value",i.code),o(2),$(i.code),o(),W(" ",i.description," ")}}function Od(d,e){if(d&1&&(n(0,"mat-option",19),l(1),a()),d&2){let i=e.$implicit;r("value",i.code),o(),W(" ",i.description," ")}}var Fn=class nr{constructor(e,i,t,s,m,u){this._formBuilder=e,this.store=i,this.matDialog=t,this.route=s,this.auxUtilService=m,this.router=u,this.workOrderId=null,this.branchName=new at,this.workRepDetails$=this.store.select(Pe.selectInquiryChangesId),this.salesrep$=this.store.select(Pe.selectSalesRep).pipe(x(D=>D.map(f=>({name:f.firstName+" "+f.lastName,value:f.id})))),this.referralData={},this.dateFormat=ot.DATE_FORMAT,this.printStatus$=this.store.select(Pe.selectPrintStatus),this.billType$=this.store.select(Pe.selectBillType),this.icdCode$=this.store.select(Pe.selectIcdCode),this.diagnosisCodeList$=this.store.select(ri.selectdiagnosiscodesList),this.selectedPhysician$=this.store.select(Xt.selectPhysicians),this.selectedPayors$=this.store.select(Ot.selectPayorsDetail),this.referCode$=this.store.select(si.selectReferCode),this.branch$=this.store.select(Pe.selectBranch),this.placeOfServiceReps$=this.store.select($e.selectPlaceOfService),this.placeOfServiceDropdown=[],this.PrintStatusDropDown$=this.store.select(Pe.selectPrintStatus).pipe(x(D=>D.map(f=>({code:f.code,description:f.description||f.code})))),this.tranType$=this.store.select(Pe.selectTranType).pipe(x(D=>D.map(f=>({code:f.code,description:f.description||f.code})))),this.primaryBillForm$=this.store.select(yi.selectPayorPrimaryBillForm).pipe(x(D=>D.map(f=>({name:f.code,value:f.code,description:f.description||f.code})))),this.claimType$=this.store.select(Pe.selectClaimType).pipe(x(D=>D.map(f=>({code:f.code,value:f.code,description:f.description||f.code})))),this.pwkType$=this.store.select(Pe.selectPwkType).pipe(x(D=>D.map(f=>({code:f.code,value:f.code,description:f.description||f.code})))),this.pwkMethod$=this.store.select(Pe.selectPwkMethod).pipe(x(D=>D.map(f=>({code:f.code,value:f.code,description:f.description||f.code}))));let C=Number(this.router.url.split("/")[3]);this.store.dispatch(gt.LoadworkSalesRep()),this.store.dispatch(gt.BillTypeDropdown()),this.store.dispatch(Te.TranTypeDropdown()),this.store.dispatch(Te.ClaimTypeDropdown()),this.store.dispatch(Te.PwkTypeDropdown()),this.store.dispatch(Te.PwkMethodDropdown()),this.store.dispatch(vi.LoadPrimaryBillFormDropDown()),this.store.dispatch(qe.LoadPlaceOfServiceDropDown()),this.store.dispatch(Te.PrintStatusDropDown()),this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}}]}save(){if(this.InquiryChangesForm.invalid)return;let e=this.InquiryChangesForm.value;e=this.auxUtilService.transFormValues(e,Di),e=this.auxUtilService.transFormValuesToUpperCase(e,["icn","description","mod1","mod2","mod3","mod4"]),e.itemCode===""&&(e.itemid=0),e=this.auxUtilService.transformBankStringToDefaultDate(e,["svcdate","servicedate","todate"]),e=this.auxUtilService.formatDateFields(e,["svcdate","todate","servicedate"]),e=this.auxUtilService.cleanData(e),this.store.dispatch(Te.AddinquiryChanges({inquirychanges:e}))}ngOnInit(){this.InquiryChangesForm=this._formBuilder.group({printstatus:[""],payorName:[""],billform:[""],id:[0],referCode:[""],trantype:[""],claimtype:[""],svcdate:[""],icn:[""],pos:[""],paponumber:[""],patienticdid1:[""],patientid:[""],referid:[""],patientdoctorid1:[""],icd10code:[""],pwktransmissioncode:[""],pwktypecode:[""],pwkattachmentcn:[""],pwkccn:[""],balance:[""],tranamount:[""],physician:[""],salesid:[""],branchid:[""],submitted:[""],allowed:[""],mod1:[""],mod2:[""],mod3:[""],mod4:[""],tos:[""],quantity:[""],servicedate:[""],todate:[""],hcpcscode:[""],description:[""],itemcode:[""],billtype:[""],physicianFullName:[""],itemid:[""],patientpayorid:[""],payorid:[""],fieldservicerepid:[""]}),this.route.paramMap.pipe(h(this)).subscribe(e=>{this.workOrderId=e.get("id"),this.workOrderId&&(this.store.dispatch(Te.LoadInquiryChangesId({arHistoryId:this.workOrderId})),this.InquiryChangesForm.get("id").setValue(this.workOrderId),this.patchForm())}),this.billType$.pipe(h(this)).subscribe(e=>{this.billTypeDropDown=e}),this.PrintStatusDropDown$.pipe(h(this)).subscribe(e=>{this.PrintStatusDropDown=e}),this.tranType$.pipe(h(this)).subscribe(e=>{this.tranTypeDropdown=e}),this.primaryBillForm$.pipe(h(this)).subscribe(e=>{this.primaryBillFormdropdown=e}),this.claimType$.pipe(h(this)).subscribe(e=>{this.claimTypedropdown=e}),this.pwkType$.pipe(h(this)).subscribe(e=>{this.pwkTypeDropdown=e}),this.pwkMethod$.pipe(h(this)).subscribe(e=>{this.pwkMethodDropdown=e}),this.placeOfServiceReps$.pipe(h(this)).subscribe(e=>{this.placeOfServiceDropdown=e})}patchForm(){this.workRepDetails$.pipe(h(this)).subscribe(e=>{if(e!=null){this.workReps=e[0];let i=[e[0].payorid];this.store.dispatch(Ut.LoadPatientPhysicians({id:e[0].patientid})),this.store.dispatch(Gt.LoadPatientDiagnosiscode({id:e[0].patientid})),this.store.dispatch(gt.LoadPayorDetails({id:i})),this.diagnosisCodeList$.pipe(h(this)).subscribe(u=>{u&&u.forEach(C=>{C.id==this.workReps.patienticdid1&&this.InquiryChangesForm.get("icd10code")?.setValue(C.icd10code)})}),this.workReps.referid!==0&&this.workReps.referid?(this.store.dispatch(qe.LoadPatientReferrals()),this.store.dispatch(Ge.getReferCode({id:this.workReps.referid})),this.referCode$.pipe(h(this),Ai(u=>u!=null&&u!=="")).subscribe(u=>{this.store.select($e.selectReferralById(u.desciption)).pipe(h(this)).subscribe(C=>{if(C){this.referralData.company=C.company||"",this.referralData.firstName=C.firstName||"",this.referralData.lastName=C.lastName||"";let D=this.referralData.company?`${this.workReps.referid} - ${this.referralData.company}`:`${this.workReps.referid} - ${this.referralData.firstName} ${this.referralData.lastName}`;this.InquiryChangesForm.get("referCode").setValue(D)}})})):this.InquiryChangesForm.get("referCode").setValue(""),this.selectedPhysician$.pipe(h(this)).subscribe(u=>{u&&u.forEach(C=>{if(C.id==this.workReps.patientdoctorid1){let D=C.doctorId?`${C.doctorId} - ${C.firstName} ${C.lastName}`:`${C.firstName} ${C.lastName}`;this.InquiryChangesForm.get("physician").setValue(D),this.InquiryChangesForm.get("patientdoctorid1").setValue(C.id)}})}),this.selectedPayors$.pipe(h(this)).subscribe(u=>{if(u&&u!=null&&u.id===this.InquiryChangesForm.get("payorid").value){let C=u.billto?`${u.id} - ${u.billto}`:`${u.billto} `;this.InquiryChangesForm.get("payorName").setValue(C),this.InquiryChangesForm.get("payorid").setValue(u.id)}});let t=Je({},this.workReps);t.branchid=this.workReps.branchid.toString();let s="1900-01-01T00:00:00";["servicedate","todate","svcdate"].forEach(u=>{t[u]===s&&(t[u]="")}),this.InquiryChangesForm.patchValue(t),te([this.branch$,this.InquiryChangesForm.get("branchid").valueChanges.pipe(Q(this.InquiryChangesForm.get("branchid").value))]).pipe(h(this)).subscribe(([u,C])=>{if(u&&Number(C)){let D=u.find(f=>f.id===Number(C));D&&this.onBranchSelected(D)}})}})}get selectedBillType(){return this.billTypeDropDown.find(e=>e.billType===this.InquiryChangesForm.get("billtype")?.value)?.billType}get selectedPrintStatus(){return this.PrintStatusDropDown.find(e=>e.code===this.InquiryChangesForm.get("printstatus")?.value)?.code}get selectedTranType(){return this.tranTypeDropdown.find(e=>e.code===this.InquiryChangesForm.get("trantype")?.value)?.code}get selectedPrimaryBillForm(){return this.primaryBillFormdropdown.find(e=>e.value===this.InquiryChangesForm.get("billform")?.value)?.name}get selectedClaimType(){return this.claimTypedropdown?.find(e=>e.code===this.InquiryChangesForm.get("claimtype")?.value)?.code}get selectedPwkType(){return this.pwkTypeDropdown.find(e=>e.code===this.InquiryChangesForm.get("pwktypecode")?.value)?.code}get selectedPwkMethod(){return this.pwkMethodDropdown.find(e=>e.code===this.InquiryChangesForm.get("pwktransmissioncode")?.value)?.code}get selectedPlaceOfService(){return this.placeOfServiceDropdown.find(e=>e.code===this.InquiryChangesForm.get("pos")?.value)?.code}openDiagnosisCodePopup(){let e={icon:"mat_outline:edit_note",title:"Select Diagnosis Codes",cancelButtonText:"Cancel",saveButtonText:"Select Diagnosis Codes",dynamicComponent:_i,dynamicComponentData:null,submitFunction:"submitSelectedCode",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",minHeight:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.InquiryChangesForm.get("patienticdid1").setValue(t.id),this.InquiryChangesForm.get("icd10code").setValue(t.icd10code))})}openAssignedPhysicianList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Physician",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:li,dynamicComponentData:this.InquiryChangesForm.get("patientid").value,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"auto",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{if(t){let s=t.doctorId?`${t.doctorId} - ${t.firstName} ${t.lastName}`:`${t.firstName} ${t.lastName}`;this.InquiryChangesForm.get("physician").setValue(s),this.InquiryChangesForm.get("patientdoctorid1").setValue(t.id)}})}openPayorsList(){let e=this.InquiryChangesForm.get("patientpayorid").value,i={icon:"mat_outline:edit_note",title:"Select Assigned Payors",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Zt,dynamicComponentData:{patientId:this.InquiryChangesForm.get("patientid").value,selectedPayorId:e},submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"50%",height:"auto",data:i}).afterClosed().pipe(h(this)).subscribe(s=>{if(s){let m=s.billTo?`${s.payorId} - ${s.billTo}`:`${s.billTo} `;this.InquiryChangesForm.get("payorName").setValue(m),this.InquiryChangesForm.get("patientpayorid").setValue(s.id),this.InquiryChangesForm.get("payorid").setValue(s.payorId)}})}openReferralList(){let e={icon:"mat_outline:edit_note",title:"Select Referral From",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:wi,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{if(t){this.referralData.company=t.company||"",this.referralData.firstName=t.firstName||"",this.referralData.lastName=t.lastName||"";let s=this.referralData.company?`${t.id} - ${this.referralData.company}`:`${t.id} - ${this.referralData.firstName} ${this.referralData.lastName}`;this.InquiryChangesForm.get("referCode").setValue(s),this.InquiryChangesForm.get("referid").setValue(t.id),this.InquiryChangesForm.get("salesid").setValue(t.salesId),this.InquiryChangesForm.get("fieldservicerepid").setValue(t.salesId),this.save()}})}backToListing(){window.history.back()}openItemList(){let e={icon:"mat_outline:edit_note",title:"Select Item Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fi,dynamicComponentData:{itemCode:this.InquiryChangesForm.get("itemcode").value},submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:e}).afterClosed().subscribe(t=>{t&&(this.InquiryChangesForm.get("itemcode").setValue(t.itemcode),this.InquiryChangesForm.get("description").setValue(t.description),this.InquiryChangesForm.get("itemid").setValue(t.id))})}onDateChange(e,i){this.InquiryChangesForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.InquiryChangesForm,i)}onBranchSelected(e){let i=e;this.InquiryChangesForm.get("branchid").setValue(i.id,{emitEvent:!1}),this.branchName.setValue(i.branchcode)}static{this.\u0275fac=function(i){return new(i||nr)(p(st),p(F),p(z),p(K),p(ke),p(O))}}static{this.\u0275cmp=A({type:nr,selectors:[["app-patient-inquiry-changes-edit"]],decls:232,vars:85,consts:[["serviceDate","matDatepicker"],["toDate","matDatepicker"],["autoInput",""],["auto2","matAutocomplete"],[1,"model-contain","w-full",3,"formGroup"],[1,"flex","w-full","items-center","bg-white","p-3","shadow","dark:bg-transparent"],[3,"click"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"svgIcon"],[1,"status","ml-3","flex","flex-none","items-center","rounded","bg-primary-100","px-3","py-1.5","text-xs","font-medium","text-accent-600"],[3,"navigation","name"],[1,"patient-inquiry","w-full","p-1","md:flex","md:flex-wrap","lg:flex-nowrap"],[1,"mr-2","w-full"],[1,"bg-white","p-2","shadow","dark:bg-transparent"],[1,"grid","gap-y-1"],[1,"pb-2","pt-2"],[1,"flex","items-center","gap-x-2"],[1,"w-56","text-right"],["appearance","outline",1,"w-1/6"],[3,"formControlName","panelClass"],[3,"value"],["appearance","outline",1,"m-0","w-1/6"],[3,"formControlName","panelClass","tabindex"],["appearance","outline",1,"m-0","w-36"],["matInput","",3,"change","matDatepicker","placeholder","formControlName"],["matIconSuffix","",3,"for"],[1,"flex","items-center"],["appearance","outline",1,"m-0","w-60"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","ml-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],["matInput","","type","text","tabindex","4",1,"uppercase",3,"formControl","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"m-0","w-2/12"],["matInput","","formControlName","mod1",1,"uppercase"],["matInput","","formControlName","mod2",1,"uppercase"],["matInput","","formControlName","mod3",1,"uppercase"],["matInput","","formControlName","mod4",1,"uppercase"],["appearance","outline",1,"w-2/12"],["matInput","","formControlName","quantity",1,"uppercase"],["appearance","outline",1,"m-0","w-2/6"],["matInput","","formControlName","icn",1,"uppercase"],[1,"m-0","w-2/6"],[1,"pb-2","pt-3"],[1,"mt-2","w-full","md:mr-2","md:mt-2","lg:mr-0","lg:mt-0"],[1,"w-36","text-right"],[1,"m-0"],[1,"m-0","w-4/12"],["matInput","",1,"uppercase",3,"formControlName"],[1,"w-1/6","pr-2"],[1,"w-4/12","pr-0"],["matPrefix","",1,"icon-size-1","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"w-6/12","pr-0"],[3,"formControlName"],["matInput","","tabindex","32",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","mr-1.5","mt-2","cursor-pointer","sm:flex",3,"click","svgIcon"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"m-0","w-1/6","pr-2"],[1,"pb-2","pt-4"],[1,"flex","gap-6"],[1,"font-extrabold"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",4)(1,"div",5)(2,"div",6),v("click",function(){return P(s),_(t.backToListing())}),c(3,"mat-icon",7),a(),R(4,_d,2,1,"p",8),c(5,"fuse-horizontal-navigation",9),a(),n(6,"div",10)(7,"div",11)(8,"div",12)(9,"div",13),c(10,"div",14),n(11,"div",15)(12,"label",16),l(13,"Print Status:"),a(),n(14,"mat-form-field",17)(15,"mat-select",18)(16,"mat-select-trigger"),l(17),a(),ae(18,wd,5,3,"mat-option",19,de),w(20,"async"),a()()(),n(21,"div",15)(22,"mat-label",16),l(23,"Bill Type:"),a(),n(24,"mat-form-field",17)(25,"mat-select",18)(26,"mat-select-trigger"),l(27),a(),ae(28,Id,5,3,"mat-option",19,de),w(30,"async"),a()()(),n(31,"div",15)(32,"label",16),l(33,"Tran Type:"),a(),n(34,"mat-form-field",17)(35,"mat-select",18)(36,"mat-select-trigger"),l(37),a(),ae(38,Ed,5,3,"mat-option",19,de),w(40,"async"),a()()(),n(41,"div",15)(42,"label",16),l(43,"Biling Form #:"),a(),n(44,"mat-form-field",20)(45,"mat-select",21)(46,"mat-select-trigger"),l(47),a(),ae(48,Fd,5,3,"mat-option",19,de),w(50,"async"),a()()(),n(51,"div",15)(52,"label",16),l(53,"Service Date:"),a(),n(54,"mat-form-field",22)(55,"input",23),v("change",function(u){return P(s),_(t.onDateChange(u,"svcdate"))}),a(),c(56,"mat-datepicker-toggle",24)(57,"mat-datepicker",null,0),a()(),n(59,"div",15)(60,"label",16),l(61,"To Date:"),a(),n(62,"mat-form-field",22)(63,"input",23),v("change",function(u){return P(s),_(t.onDateChange(u,"todate"))}),a(),c(64,"mat-datepicker-toggle",24)(65,"mat-datepicker",null,1),a()(),n(67,"div",15)(68,"label",16),l(69,"Bill To:"),a(),n(70,"div",25)(71,"mat-form-field",26),c(72,"input",27),a(),n(73,"mat-icon",28),v("click",function(){return P(s),_(t.openPayorsList())}),a()()(),n(74,"div",15)(75,"label",16),l(76,"Branch:"),a(),n(77,"mat-form-field",22),c(78,"input",29,2),n(80,"mat-autocomplete",30,3),v("optionSelected",function(u){return P(s),_(t.onBranchSelected(u.option.value))}),R(82,Ad,2,2,"mat-option",31),w(83,"async"),a()()(),n(84,"div",15)(85,"label",16),l(86,"MOD1:"),a(),n(87,"mat-form-field",32),c(88,"input",33),a()(),n(89,"div",15)(90,"label",16),l(91,"MOD2:"),a(),n(92,"mat-form-field",32),c(93,"input",34),a()(),n(94,"div",15)(95,"label",16),l(96,"MOD3:"),a(),n(97,"mat-form-field",32),c(98,"input",35),a()(),n(99,"div",15)(100,"label",16),l(101,"MOD4:"),a(),n(102,"mat-form-field",32),c(103,"input",36),a()(),n(104,"div",15)(105,"label",16),l(106,"Quantity:"),a(),n(107,"mat-form-field",37),c(108,"input",38),a()(),n(109,"div",15)(110,"label",16),l(111,"Claim Type:"),a(),n(112,"mat-form-field",32)(113,"mat-select",18)(114,"mat-select-trigger"),l(115),a(),ae(116,Td,5,3,"mat-option",19,de),w(118,"async"),a()()(),n(119,"div",15)(120,"label",16),l(121,"ICN:"),a(),n(122,"mat-form-field",39),c(123,"input",40),a()(),n(124,"div",15)(125,"mat-label",16),l(126,"Place of Service:"),a(),n(127,"mat-form-field",41)(128,"mat-select",18)(129,"mat-select-trigger"),l(130),a(),ae(131,Nd,5,3,"mat-option",19,de),w(133,"async"),a()()(),c(134,"div",42),a()()(),n(135,"div",43)(136,"div",12)(137,"div",13),c(138,"div",14),n(139,"div",15)(140,"label",44),l(141,"Item code:"),a(),n(142,"mat-form-field",45),c(143,"input",27),a(),n(144,"mat-icon",28),v("click",function(){return P(s),_(t.openItemList())}),a()(),n(145,"div",15)(146,"label",44),l(147,"Item ID:"),a(),n(148,"mat-form-field",45),c(149,"input",27),a()(),n(150,"div",15)(151,"label",44),l(152,"Description:"),a(),n(153,"mat-form-field",46),c(154,"input",47),a()(),n(155,"div",15)(156,"label",44),l(157,"Auth #:"),a(),n(158,"mat-form-field",48),c(159,"input",47),a()(),n(160,"div",15)(161,"label",44),l(162,"ICD Code:"),a(),n(163,"mat-form-field",49),c(164,"input",27),a(),n(165,"mat-icon",50),v("click",function(){return P(s),_(t.openDiagnosisCodePopup())}),a()(),n(166,"div",15)(167,"label",44),l(168,"Procedure:"),a(),n(169,"mat-form-field",48),c(170,"input",47),a()(),n(171,"div",15)(172,"label",44),l(173,"Sales Rep:"),a(),n(174,"mat-form-field",51)(175,"mat-select",52),ae(176,kd,5,3,"mat-option",19,de),w(178,"async"),a()()(),n(179,"div",15)(180,"label",44),l(181,"Referral ID:"),a(),n(182,"mat-form-field",51),c(183,"input",53),a(),n(184,"mat-icon",54),v("click",function(){return P(s),_(t.openReferralList())}),a()(),n(185,"div",15)(186,"label",44),l(187,"Physician:"),a(),n(188,"mat-form-field",51),c(189,"input",47),a(),n(190,"mat-icon",55),v("click",function(){return P(s),_(t.openAssignedPhysicianList())}),a()(),n(191,"div",15)(192,"label",44),l(193,"PWK Type:"),a(),n(194,"mat-form-field",51)(195,"mat-select",52)(196,"mat-select-trigger"),l(197),a(),ae(198,Md,4,3,"mat-option",19,de),w(200,"async"),a()()(),n(201,"div",15)(202,"label",44),l(203,"PWK Method:"),a(),n(204,"mat-form-field",56)(205,"mat-select",18)(206,"mat-select-trigger"),l(207),a(),ae(208,Od,2,2,"mat-option",19,de),w(210,"async"),a()()(),n(211,"div",15)(212,"label",44),l(213,"Submitted:"),a(),n(214,"mat-form-field",48),c(215,"input",47),a()(),n(216,"div",15)(217,"label",44),l(218,"Allowed:"),a(),n(219,"mat-form-field",48),c(220,"input",47),a()(),n(221,"div",15)(222,"label",44),l(223,"Balance:"),a(),n(224,"mat-form-field",48),c(225,"input",47),a()(),n(226,"div",15)(227,"label",44),l(228,"Amount Billed:"),a(),n(229,"mat-form-field",48),c(230,"input",47),a()(),c(231,"div",57),a()()()()()}if(i&2){let s=Y(58),m=Y(66),u=Y(81);r("formGroup",t.InquiryChangesForm),o(3),r("svgIcon","heroicons_solid:arrow-left"),o(),B(t.workOrderId!==null?4:-1),o(),r("navigation",t.toolbarData)("name","patient-toolbar"),o(10),r("formControlName","printstatus")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedPrintStatus),o(),ne(I(20,65,t.PrintStatusDropDown$)),o(7),r("formControlName","billtype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedBillType),o(),ne(I(30,67,t.billType$)),o(7),r("formControlName","trantype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedTranType),o(),ne(I(40,69,t.tranType$)),o(7),r("formControlName","billform")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none")("tabindex",31),o(2),$(t.selectedPrimaryBillForm),o(),ne(I(50,71,t.primaryBillForm$)),o(7),r("matDatepicker",s)("placeholder",t.dateFormat)("formControlName","svcdate"),o(),r("for",s),o(7),r("matDatepicker",m)("placeholder",t.dateFormat)("formControlName","todate"),o(),r("for",m),o(8),r("readonly",!1)("formControlName","payorName"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControl",t.branchName)("matAutocomplete",u),o(4),r("ngForOf",I(83,73,t.branch$)),o(31),r("formControlName","claimtype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedClaimType),o(),ne(I(118,75,t.claimType$)),o(12),r("formControlName","pos")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-70"),o(2),$(t.selectedPlaceOfService),o(),ne(I(133,77,t.placeOfServiceReps$)),o(12),r("readonly",!1)("formControlName","itemcode"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("readonly",!0)("formControlName","itemid"),o(5),r("formControlName","description"),o(5),r("formControlName","paponumber"),o(5),r("readonly",!0)("formControlName","icd10code")("readonly",!0),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","hcpcscode"),o(5),r("formControlName","salesid"),o(),ne(I(178,79,t.salesrep$)),o(7),r("readonly",!0)("formControlName","referCode"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","physician"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","pwktypecode"),o(2),$(t.selectedPwkType),o(),ne(I(200,81,t.pwkType$)),o(7),r("formControlName","pwktransmissioncode")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedPwkMethod),o(),ne(I(210,83,t.pwkMethod$)),o(7),r("formControlName","submitted"),o(5),r("formControlName","allowed"),o(5),r("formControlName","balance"),o(5),r("formControlName","tranamount")}},dependencies:[ye,Re,Z,fe,De,he,_e,$t,we,Ne,Ee,Ie,Vt,lt,Fe,St,Pt,mt,xt,Ze,Et,pi,Qt,G],styles:[".patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-wrapper{padding:0!important;margin:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-flex{min-height:30px!important;padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-infix{padding-top:0!important;padding-bottom:0!important;min-height:0px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-mdc-form-field{margin-top:0!important;margin-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{margin:0!important;padding:0!important;min-height:0!important;height:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-bottom-align:after{display:none!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field input[matDatepicker]{height:30px!important;line-height:30px!important;padding:0 8px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle{height:30px!important;width:30px!important;display:flex!important;align-items:center!important;justify-content:center!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle .mat-datepicker-toggle-default-icon{width:16px!important;height:16px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{height:30px!important;display:flex!important;align-items:center!important}.patient-inquiry[_ngcontent-%COMP%]   aux-select-dropdown[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{margin-top:0!important}"]})}};Fn=N([k()],Fn);function jd(d,e){if(d&1&&(n(0,"mat-option",9)(1,"div",37)(2,"h2",38),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function Rd(d,e){if(d&1&&(n(0,"mat-option",9)(1,"div",37)(2,"h2",38),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function $d(d,e){if(d&1&&(n(0,"mat-option",9)(1,"div",37)(2,"h2",38),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.value),o(3),$(i.value),o(),W(" ",i.description," ")}}function Bd(d,e){if(d&1&&(n(0,"mat-option",9)(1,"div",37)(2,"h2",38),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}var An=class or{constructor(e,i,t,s,m,u,C){this.fb=e,this.data=i,this.auxUtilService=t,this.store=s,this.matDialog=m,this.router=u,this.dialogRef=C,this.isLinear=!1,this.dateFormat=ot.DATE_FORMAT,this.placeOfServiceReps$=this.store.select($e.selectPlaceOfService),this.placeOfServiceDropdown=[],this.billType$=this.store.select(Pe.selectBillType),this.tranType$=this.store.select(Pe.selectTranType).pipe(x(D=>D.map(f=>({code:f.code,description:f.description||f.code})))),this.PrintStatusDropDown$=this.store.select(Pe.selectPrintStatus).pipe(x(D=>D.map(f=>({code:f.code,description:f.description||f.code})))),this.primaryBillForm$=this.store.select(yi.selectPayorPrimaryBillForm).pipe(x(D=>D.map(f=>({name:f.code,value:f.code,description:f.description||f.code})))),this.patientid=Number(this.router.url.split("/")[3]),this.store.dispatch(Te.PrintStatusDropDown()),this.store.dispatch(gt.BillTypeDropdown()),this.store.dispatch(vi.LoadPrimaryBillFormDropDown()),this.store.dispatch(Te.TranTypeDropdown()),this.store.dispatch(qe.LoadPlaceOfServiceDropDown()),this.patientGroupData=i.dynamicComponentData}ngOnInit(){this.patientGroupEditForm=this.fb.group({patientid:[this.patientid],printstatus:[],trantype:[],billform:[],mod1:[],mod2:[],mod3:[],mod4:[],payor1:[0],patientpayorid:[0],payorName:[],patienticdid1:[],diagnosis:[],physicianFullName:[],patientdoctorid1:[0],authno:[],pos:[],isPrintStatusClear:[!1],isTranTypeClear:[!1],isBillingFormClear:[!1],isMode1Clear:[!1],isMode2Clear:[!1],isMode3Clear:[!1],isMode4Clear:[!1],isPayor1Clear:[!1],isDiagnosisClear:[!1],isPatientdoctorid1Clear:[!1],isAuthnoClear:[!1],isPosClear:[!1],isApplyToChargesClear:[!1]}),this.billType$.pipe(h(this)).subscribe(e=>{this.billTypeDropDown=e}),this.PrintStatusDropDown$.pipe(h(this)).subscribe(e=>{this.PrintStatusDropDown=e}),this.tranType$.pipe(h(this)).subscribe(e=>{this.tranTypeDropdown=e}),this.primaryBillForm$.pipe(h(this)).subscribe(e=>{this.primaryBillFormdropdown=e}),this.placeOfServiceReps$.pipe(h(this)).subscribe(e=>{this.placeOfServiceDropdown=e})}get selectedPrintStatus(){return this.PrintStatusDropDown.find(e=>e.code===this.patientGroupEditForm.get("printstatus")?.value)?.code}get selectedTranType(){return this.tranTypeDropdown.find(e=>e.code===this.patientGroupEditForm.get("trantype")?.value)?.code}get selectedPrimaryBillForm(){return this.primaryBillFormdropdown.find(e=>e.value===this.patientGroupEditForm.get("billform")?.value)?.name}get selectedPlaceOfService(){return this.placeOfServiceDropdown.find(e=>e.code===this.patientGroupEditForm.get("pos")?.value)?.code}onDateChange(e,i){this.patientGroupEditForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.patientGroupEditForm,i)}submit(){let e=this.patientGroupEditForm.value;e.numbers=this.patientGroupData,this.store.dispatch(Te.EditGroupInquiryChanges({patientData:e})),this.dialogRef.close(!0)}openPayorList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Payors",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Zt,dynamicComponentData:this.patientGroupEditForm.get("patientid").value,submitFunction:"selectRow",enterKeyEnabled:!0};this.matDialog.open(E,{width:"50%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.patientGroupEditForm.get("payorName").setValue(t.billTo),this.patientGroupEditForm.get("patientpayorid").setValue(t.id),this.patientGroupEditForm.get("Payor1").setValue(t.payorId))})}openPhysicianList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Physician",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:li,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"auto",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.patientGroupEditForm.get("physicianFullName").setValue(t.firstName+" "+t.lastName),this.patientGroupEditForm.get("patientdoctorid1").setValue(t.id))})}openDiagnosisCodePopup(){let e={icon:"mat_outline:edit_note",title:"Select Diagnosis Codes",cancelButtonText:"Cancel",saveButtonText:"Select Diagnosis Codes",dynamicComponent:_i,dynamicComponentData:null,submitFunction:"submitSelectedCode",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",minHeight:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.patientGroupEditForm.get("patienticdid1").setValue(t.id),this.patientGroupEditForm.get("diagnosis").setValue(t.icd10code))})}static{this.\u0275fac=function(i){return new(i||or)(p(bt),p(nt,8),p(ke),p(F),p(z),p(O),p(Be))}}static{this.\u0275cmp=A({type:or,selectors:[["app-patient-group-edit-inquiry-changes"]],features:[re([{provide:ni,useValue:{appearance:"outline"}}])],decls:119,vars:46,consts:[[3,"formGroup"],[1,"group-edit-order","patient-inquiry","flex","max-h-screen","flex-col"],[1,"relative","h-full",3,"ngSubmit","formGroup"],[1,"w-full","md:flex"],[1,"mt-4","flex","w-full","flex-col","md:w-1/2"],[1,"mb-2","flex","w-full","items-center"],[1,"w-32","text-right"],["appearance","outline",1,"w-1/5","pl-2"],[3,"formControlName","panelClass"],[3,"value"],["formControlName","isPrintStatusClear",1,"ml-2",3,"color"],["formControlName","isTranTypeClear",1,"ml-2",3,"color"],["appearance","outline",1,"m-0","w-1/5","pl-2"],[3,"formControlName","panelClass","tabindex"],["formControlName","isBillingFormClear",1,"ml-2",3,"color"],["matInput","","formControlName","mod1",1,"uppercase"],["formControlName","isMode1Clear",1,"ml-2",3,"color"],["matInput","","formControlName","mod2",1,"uppercase"],["formControlName","isMode2Clear",1,"ml-2",3,"color"],["matInput","","formControlName","mod3",1,"uppercase"],["formControlName","isMode3Clear",1,"ml-2","mt-1","items-center",3,"color"],["matInput","","formControlName","mod4",1,"uppercase"],["formControlName","isMode4Clear",1,"ml-2","mt-1","items-center","gap-6",3,"color"],[1,"flex","items-center"],["appearance","outline",1,"m-0","w-40","pl-2"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],["formControlName","isPayor1Clear",1,"mr-2",3,"color"],[1,"w-40","pl-2","pr-0"],["matPrefix","",1,"icon-size-1","cursor-pointer","sm:flex",3,"click","svgIcon"],["formControlName","isDiagnosisClear",1,"mr-2",3,"color"],["matInput","",1,"uppercase",3,"formControlName"],["formControlName","isPatientdoctorid1Clear",1,"mr-2",3,"color"],["formControlName","isAuthnoClear",1,"ml-6",3,"color"],[1,"m-0","w-40","pl-2"],["formControlName","isPosClear",1,"ml-6",3,"color"],["formControlName","isApplyToChargesClear",1,"ml-6",3,"color"],[1,"flex","gap-6"],[1,"font-extrabold"]],template:function(i,t){i&1&&(n(0,"form",0)(1,"div",1)(2,"form",2),v("ngSubmit",function(){return t.submit()}),n(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),l(7,"Print Status:"),a(),n(8,"mat-form-field",7)(9,"mat-select",8)(10,"mat-select-trigger"),l(11),a(),ae(12,jd,5,3,"mat-option",9,de),w(14,"async"),a()(),n(15,"mat-checkbox",10),l(16,"Clear Data"),a()(),n(17,"div",5)(18,"label",6),l(19,"Tran Type:"),a(),n(20,"mat-form-field",7)(21,"mat-select",8)(22,"mat-select-trigger"),l(23),a(),ae(24,Rd,5,3,"mat-option",9,de),w(26,"async"),a()(),n(27,"mat-checkbox",11),l(28,"Clear Data"),a()(),n(29,"div",5)(30,"label",6),l(31,"Biling Form #:"),a(),n(32,"mat-form-field",12)(33,"mat-select",13)(34,"mat-select-trigger"),l(35),a(),ae(36,$d,5,3,"mat-option",9,de),w(38,"async"),a()(),n(39,"mat-checkbox",14),l(40,"Clear Data"),a()(),n(41,"div",5)(42,"label",6),l(43,"MOD1:"),a(),n(44,"mat-form-field",12),c(45,"input",15),a(),n(46,"mat-checkbox",16),l(47,"Clear Data"),a()(),n(48,"div",5)(49,"label",6),l(50,"MOD2:"),a(),n(51,"mat-form-field",12),c(52,"input",17),a(),n(53,"mat-checkbox",18),l(54,"Clear Data"),a()(),n(55,"div",5)(56,"label",6),l(57,"MOD3:"),a(),n(58,"mat-form-field",12),c(59,"input",19),a(),n(60,"mat-checkbox",20),l(61,"Clear Data"),a()(),n(62,"div",5)(63,"label",6),l(64,"MOD4:"),a(),n(65,"mat-form-field",12),c(66,"input",21),a(),n(67,"mat-checkbox",22),l(68,"Clear Data"),a()()(),n(69,"div",4)(70,"div",5)(71,"label",6),l(72,"Bill-To:"),a(),n(73,"div",23)(74,"mat-form-field",24),c(75,"input",25),a(),n(76,"mat-icon",26),v("click",function(){return t.openPayorList()}),a()(),n(77,"mat-checkbox",27),l(78,"Clear Data"),a()(),n(79,"div",5)(80,"label",6),l(81,"Diagnosis:"),a(),n(82,"mat-form-field",28),c(83,"input",25),a(),n(84,"mat-icon",29),v("click",function(){return t.openDiagnosisCodePopup()}),a(),n(85,"mat-checkbox",30),l(86,"Clear Data"),a()(),n(87,"div",5)(88,"label",6),l(89,"Physician:"),a(),n(90,"mat-form-field",28),c(91,"input",31),a(),n(92,"mat-icon",26),v("click",function(){return t.openPhysicianList()}),a(),n(93,"mat-checkbox",32),l(94,"Clear Data"),a()(),n(95,"div",5)(96,"label",6),l(97,"Auth #:"),a(),n(98,"mat-form-field",28),c(99,"input",31),a(),n(100,"mat-checkbox",33),l(101,"Clear Data"),a()(),n(102,"div",5)(103,"mat-label",6),l(104,"Place of Service:"),a(),n(105,"mat-form-field",34)(106,"mat-select",8)(107,"mat-select-trigger"),l(108),a(),ae(109,Bd,5,3,"mat-option",9,de),w(111,"async"),a()(),n(112,"mat-checkbox",35),l(113,"Clear Data"),a()(),n(114,"div",5)(115,"mat-label",6),l(116,"Apply Changes To:"),a(),n(117,"mat-checkbox",36),l(118,"Charges"),a()()()()()()()),i&2&&(r("formGroup",t.patientGroupEditForm),o(2),r("formGroup",t.patientGroupEditForm),o(7),r("formControlName","printstatus")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedPrintStatus),o(),ne(I(14,38,t.PrintStatusDropDown$)),o(3),r("color","primary"),o(6),r("formControlName","trantype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedTranType),o(),ne(I(26,40,t.tranType$)),o(3),r("color","primary"),o(6),r("formControlName","billform")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none")("tabindex",31),o(2),$(t.selectedPrimaryBillForm),o(),ne(I(38,42,t.primaryBillForm$)),o(3),r("color","primary"),o(7),r("color","primary"),o(7),r("color","primary"),o(7),r("color","primary"),o(7),r("color","primary"),o(8),r("readonly",!1)("formControlName","payorName"),o(),r("svgIcon","heroicons_solid:download"),o(),r("color","primary"),o(6),r("readonly",!0)("formControlName","diagnosis")("readonly",!0),o(),r("svgIcon","heroicons_solid:download"),o(),r("color","primary"),o(6),r("formControlName","physicianFullName"),o(),r("svgIcon","heroicons_solid:download"),o(),r("color","primary"),o(6),r("formControlName","authno"),o(),r("color","primary"),o(6),r("formControlName","pos")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-70"),o(2),$(t.selectedPlaceOfService),o(),ne(I(111,44,t.placeOfServiceReps$)),o(3),r("color","primary"),o(5),r("color","primary"))},dependencies:[fe,Oe,De,he,_e,we,Ne,Ee,Ie,Fe,_t,lt,Vt,Qt,G,ye],styles:["app-patient-group-edit-work-order .mat-mdc-form-field-bottom-align:before{content:none}.group-edit-order[_ngcontent-%COMP%]{height:-webkit-fill-available}  app-patient-group-edit-work-order .group-edit-body .mat-mdc-tab-body-content{padding-top:0;padding-bottom:0}  app-patient-group-edit-work-order .mat-mdc-tab-body-wrapper{height:calc(100vh - 353px)}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-wrapper{padding:0!important;margin:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-flex{min-height:30px!important;padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-infix{padding-top:0!important;padding-bottom:0!important;min-height:0px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-mdc-form-field{margin-top:0!important;margin-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{margin:0!important;padding:0!important;min-height:0!important;height:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-bottom-align:after{display:none!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field input[matDatepicker]{height:30px!important;line-height:30px!important;padding:0 8px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle{height:30px!important;width:30px!important;display:flex!important;align-items:center!important;justify-content:center!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle .mat-datepicker-toggle-default-icon{width:16px!important;height:16px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{height:30px!important;display:flex!important;align-items:center!important}.patient-inquiry[_ngcontent-%COMP%]   aux-select-dropdown[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{margin-top:0!important}"],data:{animation:Bt}})}};An=N([k()],An);var Tn=class rr{constructor(e,i,t,s,m,u,C,D,f,y,g){this.store=e,this.actions$=i,this.currency=t,this.router=s,this.activatedRoute=m,this.dateTime=u,this.dateFormat=C,this.cdr=D,this.titleService=f,this.dialog=y,this._fuseConfirmationService=g,this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.arHistoryData$=this.store.select(Pe.selectInquiryChanges),this.loading$=this.store.select(Pe.selectLoading),this.options={gridOptions:{rowSelection:{mode:"multiRow",checkboxes:!0,headerCheckbox:!0,selectAll:"filtered",checkboxColumn:{field:"checkedField",width:35,maxWidth:35,pinned:"left",resizable:!1,suppressMovable:!0,sortable:!1,filter:!1,lockPosition:"left",headerName:""}},rowMultiSelectWithClick:!0,headerHeight:30,rowHeight:36},defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",minWidth:115,field:"id",filter:"agMultiColumnFilter",sortIndex:3,hide:!1,onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"SvcDate",minWidth:125,sort:"desc",field:"svcdate",filter:"agDateColumnFilter",sortIndex:1,hide:!1,filterParams:J,valueFormatter:S=>this.dateFormat.transform(S.data.svcdate),onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"Item Code",minWidth:115,field:"itemcode",filter:"agMultiColumnFilter",sortIndex:3,hide:!1,onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"HCPCS",minWidth:115,field:"hcpcscode",filter:"agMultiColumnFilter",sortIndex:4,hide:!1,onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"Bill To",minWidth:115,field:"billto",filter:"agMultiColumnFilter",sortIndex:15,hide:!1,onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"T",minWidth:50,field:"trantype",sortIndex:5,hide:!1,onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"P",minWidth:50,field:"printstatus",sortIndex:6,hide:!1,onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"Amount",minWidth:100,field:"tranamount",filter:"agMultiColumnFilter",sortIndex:8,hide:!1,valueFormatter:S=>this.currency.transform(S.data.tranamount,"USD","symbol"),onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"Balance",minWidth:100,field:"balance",filter:"agMultiColumnFilter",sortIndex:11,hide:!1,valueFormatter:S=>this.currency.transform(S.data.balance,"USD","symbol"),onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"Printed",minWidth:125,field:"printdate",filter:"agDateColumnFilter",sortIndex:13,hide:!1,filterParams:J,valueFormatter:S=>this.dateFormat.transform(S.data.printdate),onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"Accession #",minWidth:115,field:"accessionno",filter:"agMultiColumnFilter",sortIndex:13,hide:!1,filterParams:J,onCellClicked:S=>this.openPatientInquiryDetails(S)},{headerName:"Held Reason",minWidth:500,field:"held",filter:"agMultiColumnFilter",sortIndex:13,hide:!1,filterParams:J,onCellClicked:S=>this.openPatientInquiryDetails(S)}],this.visibleColumns=["checkedField","svcdate","itemcode","hcpcscode","billto","trantype","printstatus","tranamount","balance","printdate","accessionno","held"],this.selection=new Kt(!0,[]),this.toolbarData=[{title:"Refresh",type:"basic",icon:"mat_outline:refresh",function:()=>{this.refresh.next(null)}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.patientId=Number(this.router.url.split("/")[3]),te([this.activatedRoute.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(()=>{this.store.dispatch(Te.LoadInquiryChanges({patientId:this.patientId}))}),this.actions$.pipe(b(Te.Refresh),h(this)).subscribe(e=>this.refresh.next(e)),this.arHistoryData$.pipe(h(this)).subscribe(e=>{this.rowData=e})}openPatientInquiryDetails(e){let i=this.toolbarData.findIndex(s=>s.title==="Group Edit"),t=this.toolbarData.findIndex(s=>s.title==="Edit");i!==-1&&this.updateToolBarData(i),t===-1&&(this.toolbarData=[...this.toolbarData,{title:"Edit",type:"basic",icon:"mat_outline:edit",function:()=>{this.redirectToEdit(e)}}]),this.cdr.detectChanges()}updateToolBarData(e){this.toolbarData=[...this.toolbarData.slice(0,e),...this.toolbarData.slice(e+1)]}redirectToEdit(e){this.router.navigate([`/centers/patient-center/${this.patientId}/inquiry-changes/add`,e.data.id])}onSelectionChanged(e){let i=this.toolbarData.findIndex(s=>s.title==="Group Edit"),t=this.toolbarData.findIndex(s=>s.title==="Edit");this.selection.setSelection(...e.api.getSelectedRows()),e.api.getSelectedRows().length>0?(t!==-1&&this.updateToolBarData(t),i===-1&&(this.toolbarData=[...this.toolbarData,{title:"Group Edit",type:"basic",icon:"mat_outline:edit_note",function:()=>{this.openGroupEdit(e)}}])):i>-1&&(this.updateToolBarData(i),this.selection.clear()),this.cdr.detectChanges()}openGroupEdit(e){let i={icon:"mat_outline:edit_note",title:"Inquiry Changes Group Edit",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:An,dynamicComponentData:e.api.getSelectedRows().map(s=>s.id),submitFunction:"submit",enterKeyEnabled:!0};this.dialog.open(E,{width:"1000px",height:"auto",data:i}).afterClosed().pipe(h(this)).subscribe(s=>{e.api.clearFocusedCell(),e.api.deselectAll();let m=this.toolbarData.findIndex(u=>u.title==="Edit");m!==-1&&this.updateToolBarData(m)})}static{this.\u0275fac=function(i){return new(i||rr)(p(F),p(L),p(ci),p(O),p(K),p(xe),p(q),p(ce),p(le),p(z),p(ge))}}static{this.\u0275cmp=A({type:rr,selectors:[["app-patient-inquiry-changes-table"]],features:[re([q])],decls:8,vars:13,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"rowSelectionChange","gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"],[3,"show"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("rowSelectionChange",function(m){return t.onSelectionChanged(m)}),a(),c(6,"ac-loading-overlay",5),w(7,"async"),a()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 344px)")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$)),o(2),r("show",I(7,11,t.loading$)))},dependencies:[Z,se,Yt,G],encapsulation:2,changeDetection:0})}};Tn=N([k()],Tn);var Nn=class sr{constructor(e,i,t,s,m,u){this.store=e,this.route=i,this.matDialog=t,this.router=s,this.dateTime=m,this.titleService=u,this.columnDefs=[{headerName:"Id",minWidth:100,field:"id",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Service Date",minWidth:175,field:"serviceDate",valueFormatter:C=>this.dateTime.transform(C.data.serviceDate),sort:"desc",filter:"agDateColumnFilter",filterParams:J,sortIndex:2,hide:!1},{headerName:"Invoice No",minWidth:150,field:"invoiceNumber",sort:"desc",filter:"agMultiColumnFilter",filterParams:J,sortIndex:3,hide:!1},{headerName:"PO Number",minWidth:200,field:"poNumber",sort:"desc",filter:"agMultiColumnFilter",filterParams:J,sortIndex:3,hide:!1},{headerName:"Tracking No",minWidth:200,field:"trackingNumber",sort:"desc",filter:"agMultiColumnFilter",filterParams:J,sortIndex:4,hide:!1,onCellClicked:C=>this.selectCell(C),cellStyle:{color:"rgb(59,130,246)"}},{headerName:"Ship Status",minWidth:200,field:"shipStatus",sort:"desc",filter:"agMultiColumnFilter",filterParams:J,sortIndex:5,hide:!1}],this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.data$=this.store.select(oo.selectOrders),this.loading$=this.store.select(oo.selectLoading),this.visibleColumns=["id","poNumber","serviceDate","invoiceNumber","trackingNumber","shipStatus"],this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.searchCtrl=new Me,this.toolbarData=[{title:"View Contact Notes",type:"basic",icon:"mat_outline:speaker_notes",function:()=>{this.viewPatientNotes()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.route.parent.paramMap.pipe(h(this)).subscribe(e=>this.store.dispatch(ia.loadOrder({patientId:+e.get("id")}))),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e})}selectCell(e){let i=this.router.serializeUrl(this.router.createUrlTree(["track",e.data.trackingNumber]));window.open(i,"_blank")}ngAfterViewInit(){}ngOnDestroy(){}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||sr)(p(F),p(K),p(z),p(O),p(xe),p(le))}}static{this.\u0275cmp=A({type:sr,selectors:[["ac-patient-order-history"]],decls:6,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3),c(4,"aux-ag-grid",4),w(5,"async"),a()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 379px)")("visibleColumns",t.visibleColumns)("loading",I(5,8,t.loading$)))},dependencies:[Z,se,G],encapsulation:2})}};Nn=N([k()],Nn);var cl=["addresstype","firstname","lastname","address","address2","city","state","email","relationship","adduserid"],ul=["effectivedate","expiredate"];function Vd(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat,".")}}function Ld(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat,".")}}function Wd(d,e){if(d&1&&(n(0,"mat-option",26)(1,"span",34),l(2),a(),n(3,"span"),l(4),a()()),d&2){let i=e.$implicit;r("value",i.abbreviation),o(2),W(" ",i.abbreviation," "),o(2),$(i.name)}}function Gd(d,e){if(d&1&&(n(0,"fuse-alert",33),l(1),a()),d&2){let i=U();r("appearance","outline")("type",i.alert.type)("showIcon",!1)("@shake",!0),o(),W(" ",i.alert.message," ")}}var ga=class lr{constructor(e,i,t,s,m,u){this.data=e,this.dialogRef=i,this._formBuilder=t,this.store=s,this.route=m,this.auxUtilService=u,this.showDeleteButton=!1,this.cancel=new $i,this.save=new $i,this.delete=new $i,this.patientCityState$=this.store.select(ra.selectPatientCityState),this.editMode=!1,this.usstates=Oi,this.stateMapping=Xi,this.showAlert=!1,this.state=new at,this.dateFormat=ot.DATE_FORMAT,this.address=e.dynamicComponentData,this.filteredStates=this.state.valueChanges.pipe(Q(""),x(C=>C?this._filterStates(C):this.usstates.slice()))}ngOnInit(){this.entityId=this.route.url.split("/")[3],this.addressForm=this._formBuilder.group({id:[0],addresstype:["",[et.required]],firstname:["",[et.required]],middlename:[""],lastname:["",[et.required]],address:[""],address2:[""],city:[""],state:[""],zip:[""],phone:["",[et.pattern(/^[0-9]{10}$/)]],relationship:[""],email:[""],effectivedate:["",[et.required]],expiredate:["",[et.required]],adddate:[""],adduserid:[""]}),this.addressForm.get("zip").valueChanges.pipe(h(this),Le(500)).subscribe(e=>{e!==""&&this.store.dispatch(wt.LoadCityAndStateDropDown({zipCode:e}))}),this.patientCityState$.pipe(h(this)).subscribe(e=>{e?(this.state.setValue(e.state),this.addressForm.get("state").setValue(e.state),this.addressForm.get("city").setValue(e.city)):(this.state.setValue(""),this.addressForm.get("state").setValue(""),this.addressForm.get("city").setValue(""))}),this.addressForm.patchValue(this.address,{emitEvent:!1}),this.state.setValue(this.address.state)}ngOnDestroy(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe(),this.store.dispatch(wt.ResetState())}trackByFn(e){return e.abbreviation}handler(e){this.state.setValue(e.option.value)}toggleEditMode(e=null){this.cancel.emit(e)}saveContact(){if(this.addressForm.invalid)return;let e=this.addressForm.value;this.isInputValid(e)&&(e.adddate=new Date,e.entityid=this.entityId,e.entitytype="PATIENT",e=this.auxUtilService.transFormValuesToUpperCase(e,cl),e=this.auxUtilService.formatDateFields(e,ul),e=this.auxUtilService.cleanData(e),e.state=this.state.value,this.store.dispatch(wt.AddAlternateAddress({address:e})),this.save.emit(),this.dialogRef.close())}isInputValid(e){return e.addresstype==""||e.addresstype==null?(this.alert={type:"error",message:"Sales Code cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):!0}onDateChange(e,i){this.addressForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.addressForm,i)}_filterStates(e){let i=e.toLowerCase().replace(/\s+/g," ");return this.usstates.filter(t=>t.name.toLowerCase().replace(/\s+/g," ").includes(i)||t.abbreviation.toLowerCase().includes(i))}makeCall(){let e=this.addressForm.get("phone")?.value;this.auxUtilService.makeCall(e)}static{this.\u0275fac=function(i){return new(i||lr)(p(nt,8),p(Be),p(st),p(F),p(O),p(ke))}}static{this.\u0275cmp=A({type:lr,selectors:[["ac-patient-alternate-address-form"]],viewQuery:function(i,t){if(i&1&&ut(Ze,5),i&2){let s;ht(s=ft())&&(t.trigger=s.first)}},inputs:{address:"address",showDeleteButton:"showDeleteButton"},outputs:{cancel:"cancel",save:"save",delete:"delete"},decls:103,vars:69,consts:[["datepicker3","matDatepicker"],["datepicker2","matDatepicker"],["auto","matAutocomplete"],[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["formControlName","addresstype","tabindex","1"],["value","SHIP TO"],["value","OTHER"],[1,"custom-datepicker-toggle","w-full",3,"subscriptSizing"],[1,"input-container"],["matIconSuffix","",3,"for"],["matInput","","tabindex","2",1,"uppercase",3,"change","formControlName","value","matDatepicker","spellcheck","placeholder"],["matInput","","tabindex","3",1,"uppercase",3,"change","formControlName","value","matDatepicker","spellcheck","placeholder"],["matInput","","tabindex","4",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["matInput","","tabindex","5",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["matInput","","tabindex","6",1,"uppercase",3,"formControlName","placeholder"],["matInput","","tabindex","7",1,"uppercase",3,"formControlName","placeholder"],["matInput","",1,"uppercase",3,"formControlName","placeholder"],[1,"relative"],["bindLabel","abbreviation",1,"state-select","state","w-full","uppercase"],["matInput","","aria-label","State",3,"matAutocomplete","formControl"],["matSuffix","",1,"mr-2","flex-auto","text-3xl"],[3,"value"],["matInput","","numbers","","tabindex","8",3,"formControlName","placeholder"],["matInput","","tabindex","9",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"click","svgIcon"],["matInput","","tabindex","10","mask","(000) 000-0000","numbers","",3,"formControlName","value","showMaskTyped","placeholder"],[1,"mb-4","mt-4"],["matInput","","tabindex","11",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[3,"appearance","type","showIcon"],[1,"mr-1","font-bold"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",3)(1,"div",4)(2,"form",5)(3,"div",6)(4,"mat-form-field",7)(5,"mat-label"),l(6,"Address Type"),a(),c(7,"mat-icon",8),n(8,"mat-select",9)(9,"mat-option",10),l(10,"SHIP TO"),a(),n(11,"mat-option",11),l(12,"OTHER"),a()()()(),n(13,"div",6)(14,"mat-form-field",12)(15,"mat-label"),l(16,"Effective Date"),a(),n(17,"div",13),c(18,"mat-datepicker-toggle",14),n(19,"input",15),v("change",function(u){return P(s),_(t.onDateChange(u,"effectivedate"))}),a()(),c(20,"mat-datepicker",null,0),R(22,Vd,2,1,"mat-error"),a()(),n(23,"div",6)(24,"mat-form-field",12)(25,"mat-label"),l(26,"Expire Date"),a(),n(27,"div",13),c(28,"mat-datepicker-toggle",14),n(29,"input",16),v("change",function(u){return P(s),_(t.onDateChange(u,"expiredate"))}),a()(),c(30,"mat-datepicker",null,1),R(32,Ld,2,1,"mat-error"),a()(),n(33,"div",6)(34,"mat-form-field",7)(35,"mat-label"),l(36,"First Name"),a(),c(37,"mat-icon",8)(38,"input",17),a()(),n(39,"div",6)(40,"mat-form-field",7)(41,"mat-label"),l(42,"Last Name"),a(),c(43,"mat-icon",8)(44,"input",18),a()(),n(45,"div",6)(46,"mat-form-field",7)(47,"mat-label"),l(48,"Address"),a(),c(49,"mat-icon",8)(50,"input",19),a()(),n(51,"div",6)(52,"mat-form-field",7)(53,"mat-label"),l(54,"Address 2"),a(),c(55,"mat-icon",8)(56,"input",20),a()(),n(57,"div",6)(58,"mat-form-field",7)(59,"mat-label"),l(60,"City"),a(),c(61,"mat-icon",8)(62,"input",21),a()(),n(63,"div",6)(64,"div",22)(65,"mat-form-field",23)(66,"mat-label"),l(67,"State"),a(),c(68,"mat-icon",8)(69,"input",24),n(70,"mat-icon",25),l(71,"arrow_drop_down"),a(),n(72,"mat-autocomplete",null,2),ae(74,Wd,5,3,"mat-option",26,de),w(76,"async"),a()()()(),n(77,"div")(78,"mat-form-field",7)(79,"mat-label"),l(80,"Zip"),a(),c(81,"mat-icon",8)(82,"input",27),a()(),n(83,"div",6)(84,"mat-form-field",7)(85,"mat-label"),l(86,"Email"),a(),c(87,"mat-icon",8)(88,"input",28),a()(),n(89,"div",6)(90,"mat-form-field",7)(91,"mat-label"),l(92,"Phone"),a(),n(93,"mat-icon",29),v("click",function(){return P(s),_(t.makeCall())}),a(),c(94,"input",30),w(95,"phone"),a()(),n(96,"div",31)(97,"mat-form-field",7)(98,"mat-label"),l(99,"Relationship"),a(),c(100,"mat-icon",8)(101,"input",32),a()(),R(102,Gd,2,5,"fuse-alert",33),a()()()}if(i&2){let s=Y(21),m=Y(31),u=Y(73);o(2),r("formGroup",t.addressForm),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(7),r("subscriptSizing","dynamic"),o(4),r("for",s),o(),r("formControlName","effectivedate")("value",t.address==null?null:t.address.effectivedate)("matDatepicker",s)("spellcheck",!1)("placeholder",t.dateFormat),o(3),B(t.addressForm.get("effectivedate").hasError("notValidDate")?22:-1),o(2),r("subscriptSizing","dynamic"),o(4),r("for",m),o(),r("formControlName","expiredate")("value",t.address==null?null:t.address.expiredate)("matDatepicker",m)("spellcheck",!1)("placeholder",t.dateFormat),o(3),B(t.addressForm.get("expiredate").hasError("notValidDate")?32:-1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","firstname")("placeholder","First Name")("spellcheck",!1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","lastname")("placeholder","Last Name")("spellcheck",!1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:location-marker"),o(),r("formControlName","address")("placeholder","Address"),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:location-marker"),o(),r("formControlName","address2")("placeholder","Address 2"),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:location-marker"),o(),r("formControlName","city")("placeholder","City"),o(6),r("svgIcon","heroicons_solid:location-marker"),o(),r("matAutocomplete",u)("formControl",t.state),o(5),ne(I(76,65,t.filteredStates)),o(4),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:location-marker"),o(),r("formControlName","zip")("placeholder","Zip"),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:mail"),o(),r("formControlName","email")("placeholder","Email")("spellcheck",!1),o(2),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:phone"),o(),r("formControlName","phone")("value",I(95,67,(t.address==null?null:t.address.phone)||""))("showMaskTyped",!0)("placeholder","Phone"),o(3),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","relationship")("placeholder","Relationship")("spellcheck",!1),o(),B(t.alert?102:-1)}},dependencies:[fe,Oe,De,he,_e,$t,we,Ne,Ee,Ie,ye,Re,Vt,lt,Pt,mt,Fe,St,xt,Dt,Ze,Et,oa,ui,oi,G,Ji],encapsulation:2,data:{animation:Bt}})}};ga=N([k()],ga);var kn=class mr{constructor(e,i,t,s,m,u,C,D,f){this._fuseConfirmationService=e,this.router=i,this.dialog=t,this.titleService=s,this.route=m,this.actions$=u,this.dateTime=C,this.date=D,this.store=f,this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"Address Type",minWidth:150,field:"addresstype",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Id",minWidth:105,field:"id",sort:"desc",filter:"agMultiColumnFilter",sortIndex:2,hide:!1},{headerName:"Entity Type",minWidth:105,field:"entitytype",sort:"desc",filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"First Name",minWidth:157,field:"firstname",sort:"desc",filter:"agMultiColumnFilter",sortIndex:4,hide:!1},{headerName:"Last Name",minWidth:148,field:"lastname",sort:"desc",filter:"agMultiColumnFilter",sortIndex:5,hide:!1},{headerName:"Address",minWidth:290,field:"address",sort:"desc",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"City",minWidth:113,field:"city",sort:"desc",filter:"agMultiColumnFilter",sortIndex:7,hide:!1},{headerName:"State",minWidth:118,field:"state",sort:"desc",filter:"agMultiColumnFilter",sortIndex:8,hide:!1},{headerName:"Zip",minWidth:108,field:"zip",sort:"desc",filter:"agMultiColumnFilter",sortIndex:9,hide:!1},{headerName:"Relationship",minWidth:164,field:"relationship",sort:"desc",filter:"agMultiColumnFilter",sortIndex:10,hide:!1},{headerName:"Email",minWidth:105,field:"email",sort:"desc",filter:"agMultiColumnFilter",sortIndex:11,hide:!1},{headerName:"Expire Date",minWidth:159,field:"expiredate",sort:"desc",filter:"agDateColumnFilter",filterParams:J,valueFormatter:y=>this.date.transform(y.data.expiredate),sortIndex:12,hide:!1},{headerName:"Add Date",minWidth:176,field:"adddate",sort:"desc",filter:"agDateColumnFilter",filterParams:J,valueFormatter:y=>this.dateTime.transform(y.data.adddate),sortIndex:13,hide:!1},{headerName:"AddUser Id",minWidth:105,field:"adduserid",sort:"desc",filter:"agMultiColumnFilter",sortIndex:14,hide:!1},{headerName:"Actions",field:"actions",cellRenderer:Lt,filter:!1,cellRendererParams:{menuItems:[{name:"Remove Altenate Address",action:this.deleteData.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},hide:!1,minWidth:101}],this.data$=this.store.select(ra.selectAddress),this.loading$=this.store.select(ra.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.visibleColumns=["addresstype","firstname","lastname","address","city","state","zip","relationship","expiredate","actions"],this.searchCtrl=new Me,this.selectedRowIndex=-1,this.paginationOption={pageSize:20,pageSizeOptions:[5,10,20,50]},this.selection=new Kt(!0,[]),this.toolbarData=[{title:"Add Alternate Address",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.saveContact()}},{title:"View Contact Notes",type:"basic",icon:"mat_outline:speaker_notes",function:()=>{this.viewPatientNotes()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(([e])=>{this.store.dispatch(wt.LoadAlternateAddress({patientId:+e.get("id")}))}),this.data$.pipe(h(this)).subscribe(e=>{this.otherAddress=e,this.rowData=e}),this.actions$.pipe(b(wt.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}setValue(){this.titleService.setValue(this.title)}ngAfterViewInit(){}openAlternateAddress(e){this.selection.clear();let i={icon:"mat_outline:assignment",iconColor:"primary",title:"SAVE ALTERNATE ADDRESS",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:ga,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{e.api.clearFocusedCell()})}deleteData(e){this.deleteContact(e.data)}deleteContact(e){this._fuseConfirmationService.open({title:"Delete contact",message:"Are you sure you want to delete this contact? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{t==="confirmed"&&this.store.dispatch(wt.DeleteAlternateAddress({address:e}))})}saveContact(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"ADD ALTERNATE ADDRESS",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:ga,dynamicComponentData:null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{this.refresh.next(i)})}onSelectionChanged(e){e.column.colId!="actions"&&this.openAlternateAddress(e)}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||mr)(p(ge),p(O),p(z),p(le),p(K),p(L),p(xe),p(q),p(F))}}static{this.\u0275cmp=A({type:mr,selectors:[["ac-patient-alternate-address"]],features:[re([q])],decls:6,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"cellClicked","gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 379px)")("visibleColumns",t.visibleColumns)("loading",I(5,8,t.loading$)))},dependencies:[Z,se,G],encapsulation:2})}};kn=N([k()],kn);function Ud(d,e){if(d&1&&(n(0,"p",7),l(1),a()),d&2){let i=U();o(),W(" ",i.PaymentAdjustmentId," ")}}function Hd(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function qd(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}function zd(d,e){if(d&1&&(n(0,"mat-option",26)(1,"div",84)(2,"h2",85),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function Yd(d,e){if(d&1&&(n(0,"mat-option",26)(1,"div",84)(2,"h2",85),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function Kd(d,e){if(d&1&&(n(0,"mat-option",26)(1,"div",84)(2,"h2",85),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function Qd(d,e){if(d&1&&(n(0,"mat-option",26)(1,"div",84)(2,"h2",85),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.billType),o(3),$(i.billType),o(),W(" ",i.description," ")}}var Mn=class dr{constructor(e,i,t,s,m,u,C){this.store=e,this.route=i,this.formBuilder=t,this.auxUtilService=s,this.router=m,this.matDialog=u,this.searchService=C,this.PaymentAdjustmentId=null,this.dateFormat=ot.DATE_FORMAT,this.PaymentAdjustmentDetails$=this.store.select(Ci.selectPaymentAdjustmentById),this.itemCode$=this.store.select(Ot.selectItemCode),this.branchName=new at,this.branch$=this.store.select(qt.selectBranch),this.selectedPayors$=this.store.select(Ot.selectPayorsDetail),this.placeOfServiceReps$=this.store.select($e.selectPlaceOfService),this.placeOfServiceDropdown=[],this.billType$=this.store.select(qt.selectArBillType),this.tranType$=this.store.select(Pe.selectTranType).pipe(x(f=>f.map(y=>({code:y.code,description:y.description||y.code})))),this.PrintStatusDropDown$=this.store.select(Pe.selectPrintStatus).pipe(x(f=>f.map(y=>({code:y.code,description:y.description||y.code})))),this.AmtAdjustedCodeDropdown$=this.store.select(qt.selectAmtAdjustedCode).pipe(x(f=>f.map(y=>({code:y.code})))),this.primaryBillForm$=this.store.select(yi.selectPayorPrimaryBillForm).pipe(x(f=>f.map(y=>({name:y.code,value:y.code,description:y.description||y.code})))),this.paymentTypeDropDown$=this.store.select(Ci.selectPaymentTypeDropdown).pipe(x(f=>f.map(y=>({code:y.code,description:y.description||y.code})))),this.toPatientDefault$=this.store.select(Ci.selectToPatientDefault),this.insuranceRank2$=this.store.select(Ci.selectInsuranceRank2);let D=Number(this.router.url.split("/")[3]);this.store.dispatch(gt.BillTypeDropdown()),this.store.dispatch(Te.TranTypeDropdown()),this.store.dispatch(je.AmtAdjustedCodeDropdown()),this.store.dispatch(Te.PrintStatusDropDown()),this.store.dispatch(Ke.PaymentTypeDropdown()),this.store.dispatch(vi.LoadPrimaryBillFormDropDown()),this.store.dispatch(qe.LoadPlaceOfServiceDropDown()),this.store.dispatch(je.BillTypeDropdown()),this.store.dispatch(Ke.LoadToPatientDefault()),this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}}]}ngOnInit(){this.PaymentAdjustmentForm=this.formBuilder.group({id:[0],patientid:[""],patientpayorid:[""],svcdate:[""],editedBy:[""],deduct:[""],provpd:[""],billto:[""],billform:[""],itemid:[""],itemcode:[""],branchid:[""],hcpcscode:[""],epsdt:[""],billtype:[""],trantype:[""],paymenttype:[""],printstatus:[""],description:[""],pos:[""],batchno:[""],checkno:[""],checkdate:[""],postingdate:[""],postdate:[""],isincollections:[!1],icn:[""],msg1:[""],msg2:[""],msg3:[""],msg4:[""],msg5:[""],submitted:[""],quantity:[""],allowed:[""],tranamount:[""],amountpaid:[""],amountadjusted1:[""],amountadjusted2:[""],amountadjusted3:[""],amountadjusted4:[""],amountadjusted5:[""],amountadjusted6:[""],adjustmentcode1:[""],adjustmentcode2:[""],adjustmentcode3:[""],adjustmentcode4:[""],adjustmentcode5:[""],adjustmentcode6:[""],balance:[""],adduserid:[""],collectionstatus:[""],datebilled1:[""],datebilled2:[""],datebilled3:[""],payorid:[""],toPatient:[""],toOther:[""],toPatientChecked:[!1],toOtherChecked:[!1],retainSamePayorChecked:[!1]});let e=new Date;this.PaymentAdjustmentId||this.PaymentAdjustmentForm.patchValue({postdate:e,checkdate:e}),this.route.paramMap.pipe(h(this)).subscribe(i=>{this.PaymentAdjustmentId=i.get("id"),this.PaymentAdjustmentId&&(this.store.dispatch(Ke.LoadPaymentAdjustmentsId({PaymentAdjustmentId:this.PaymentAdjustmentId})),this.PaymentAdjustmentForm.get("id").setValue(this.PaymentAdjustmentId),this.patchForm())}),this.billType$.pipe(h(this)).subscribe(i=>{this.billTypeDropDown=i}),this.tranType$.pipe(h(this)).subscribe(i=>{this.tranTypeDropdown=i}),this.PrintStatusDropDown$.pipe(h(this)).subscribe(i=>{this.PrintStatusDropDown=i}),this.paymentTypeDropDown$.pipe(h(this)).subscribe(i=>{this.paymentTypeDropDown=i}),this.AmtAdjustedCodeDropdown$.pipe(h(this)).subscribe(i=>{this.AmtAdjustedCodeDropdown=i}),this.primaryBillForm$.pipe(h(this)).subscribe(i=>{this.primaryBillFormdropdown=i}),this.placeOfServiceReps$.pipe(h(this)).subscribe(i=>{this.placeOfServiceDropdown=i}),this.toPatientDefault$.pipe(h(this)).subscribe(i=>{console.log("toPatientDefault$ emitted:",i),i?.length>0&&(console.log("Patching form with:",i[0].name),this.PaymentAdjustmentForm.patchValue({toPatient:i[0].name}))}),this.PaymentAdjustmentForm.get("patientid").valueChanges.pipe(h(this)).subscribe(i=>{i&&this.store.dispatch(Ke.LoadInsuranceRank2({patientId:i}))})}onCheckboxChange(e){this.PaymentAdjustmentForm.patchValue({toPatientChecked:!1,toOtherChecked:!1,retainSamePayorChecked:!1}),this.PaymentAdjustmentForm.get(e).setValue(!0)}save(){let e=this.PaymentAdjustmentForm.value;e=this.auxUtilService.transFormValues(e,Di),e=this.auxUtilService.transFormValuesToUpperCase(e,["billto","description","icn","msg1","msg2","msg3","msg4","msg5","batchno","checkno","adduserid"]),e.itemCode===""&&(e.itemid=0),e=this.auxUtilService.transformBankStringToDefaultDate(e,["svcdate","checkdate","postdate","datebilled1","datebilled2","datebilled3"]),e=this.auxUtilService.formatDateFields(e,["svcdate","checkdate","postdate","datebilled1","datebilled2","datebilled3"]),e=this.auxUtilService.cleanData(e),this.store.dispatch(Ke.AddPaymentAdjustment({paymentAdjustment:e}))}get selectedBillType(){return this.billTypeDropDown.find(e=>e.billType===this.PaymentAdjustmentForm.get("billtype")?.value)?.billType}get selectedTranType(){return this.tranTypeDropdown.find(e=>e.code===this.PaymentAdjustmentForm.get("trantype")?.value)?.code}get selectedPrintStatus(){return this.PrintStatusDropDown.find(e=>e.code===this.PaymentAdjustmentForm.get("printstatus")?.value)?.code}get selectedPaymentType(){return this.paymentTypeDropDown.find(e=>e.code===this.PaymentAdjustmentForm.get("paymenttype")?.value)?.code}get selectedAmtAdjustedCode(){return this.AmtAdjustedCodeDropdown.find(e=>e.code===this.PaymentAdjustmentForm.get("adjustmentcode1")?.value)?.code}get selectedPlaceOfService(){return this.placeOfServiceDropdown.find(e=>e.code===this.PaymentAdjustmentForm.get("pos")?.value)?.code}get selectedPrimaryBillForm(){return this.primaryBillFormdropdown.find(e=>e.value===this.PaymentAdjustmentForm.get("billform")?.value)?.name}patchForm(){this.PaymentAdjustmentDetails$.pipe(h(this)).subscribe(e=>{if(e!=null){if(this.PaymentAdjustmentDisp=e[0],this.insuranceRank2$.pipe(h(this)).subscribe({next:u=>{u&&typeof u=="string"&&u.trim()!==""&&this.PaymentAdjustmentForm.patchValue({toOther:u})},error:u=>console.error("insuranceRank2$ error:",u)}),this.PaymentAdjustmentDisp.itemid!==0){this.itemCode$.pipe(h(this)).subscribe(C=>{this.PaymentAdjustmentForm.get("itemcode").setValue(C.desciption)});let u=this.PaymentAdjustmentDisp.itemid;this.store.dispatch(gt.getItemCode({id:u}))}else this.PaymentAdjustmentForm.get("itemcode").setValue("");let i=Je({},this.PaymentAdjustmentDisp);i.branchid=this.PaymentAdjustmentDisp.branchid.toString();let t="1900-01-01T00:00:00",s=["checkdate","postdate","datebilled1","datebilled2","datebilled3","svcdate"],m=new Date;s.forEach(u=>{(i[u]===t||!i[u])&&(u==="checkdate"||u==="postdate"?i[u]=m:i[u]="")}),this.PaymentAdjustmentForm.patchValue(i),te([this.branch$,this.PaymentAdjustmentForm.get("branchid").valueChanges.pipe(Q(this.PaymentAdjustmentForm.get("branchid").value))]).pipe(h(this)).subscribe(([u,C])=>{if(u&&Number(C)){let D=u.find(f=>f.id===Number(C));D&&this.onBranchSelected(D)}})}})}backToListing(){window.history.back()}openItemList(){let e={icon:"mat_outline:edit_note",title:"Select Item Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fi,dynamicComponentData:{itemCode:this.PaymentAdjustmentForm.get("itemcode").value},submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:e}).afterClosed().subscribe(t=>{t&&(this.PaymentAdjustmentForm.get("itemcode").setValue(t.itemcode),this.PaymentAdjustmentForm.get("description").setValue(t.description),this.PaymentAdjustmentForm.get("itemid").setValue(t.id))})}onDateChange(e,i){this.PaymentAdjustmentForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.PaymentAdjustmentForm,i)}openPayorList(e){let i=e==="toPatient"?"toPatientChecked":"toOtherChecked";if(!this.PaymentAdjustmentForm.get(i).value)return;let t={icon:"mat_outline:edit_note",title:"Select Payor",cancelButtonText:"Cancel",saveButtonText:"Select Payor",dynamicComponent:La,dynamicComponentData:null,submitFunction:"selectRow",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:t}).afterClosed().pipe(h(this)).subscribe(m=>{m&&this.PaymentAdjustmentForm.get(i).value&&(this.PaymentAdjustmentForm.get(e).setValue(m.billto),this.PaymentAdjustmentForm.get("payorid").setValue(m.id))})}openAdjustmentCodeList(e){let i={icon:"mat_outline:edit_note",title:"Select Adjustment Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:aa,dynamicComponentData:{amtadjustedCode:this.PaymentAdjustmentForm.get(e).value},submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:i}).afterClosed().subscribe(s=>{s&&this.PaymentAdjustmentForm.get(e).setValue(s.code)})}trackByFn(e){return e.abbreviation}onBranchSelected(e){let i=e;this.PaymentAdjustmentForm.get("branchid").setValue(i.id,{emitEvent:!1}),this.branchName.setValue(i.branchcode)}static{this.\u0275fac=function(i){return new(i||dr)(p(F),p(K),p(st),p(ke),p(O),p(z),p(be))}}static{this.\u0275cmp=A({type:dr,selectors:[["app-patient-pay-adjust"]],decls:209,vars:58,consts:[["PostDate","matDatepicker"],["AuthToDate","matDatepicker"],["serviceDate","matDatepicker"],[1,"flex","w-full","flex-col"],[1,"flex","w-full","items-center","bg-white","p-3","shadow","dark:bg-transparent"],[3,"click"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"svgIcon"],[1,"status","ml-3","flex","flex-none","items-center","rounded","bg-primary-100","px-3","py-1.5","text-xs","font-medium","text-accent-600"],[3,"navigation","name"],[1,"pay-adjust","w-full"],[1,"w-full",3,"formGroup"],[1,"w-full","p-1","pb-0"],[1,"w-full","border","bg-white","p-3","shadow","dark:bg-transparent","md:w-full"],[1,"mt-2"],[1,"flex","w-full","flex-col","md:flex-row","md:flex-wrap","lg:flex-nowrap"],[1,"flex","items-center","gap-x-2"],[1,"pr-2"],["matInput","",3,"change","matDatepicker","placeholder","formControlName"],["matIconSuffix","",3,"for"],[1,"w-48"],["matInput","","formControlName","batchno",1,"uppercase"],[1,"ml-4","flex","items-center","gap-x-2"],[1,"w-40"],["matInput","","formControlName","checkno",1,"uppercase"],[1,"m-0","w-30"],[3,"formControlName","panelClass"],[3,"value"],[1,"mt-4","flex","w-full","flex-col","md:flex-row","md:flex-wrap","lg:flex-nowrap"],[1,"flex","items-center","gap-x-2","pr-2"],[1,"w-36","text-right"],[1,"m-0","w-48"],["matInput","","formControlName","icn",1,"uppercase"],[1,"w-full","p-1"],[1,"grid","grid-cols-1","gap-1","md:grid-cols-2"],[1,"bg-white","p-4","shadow","dark:bg-transparent"],[1,"flex","flex-col","space-y-4"],[1,"flex","items-center"],[1,"w-2/12"],[1,"w-26"],[1,"mb-1","w-30"],["matInput","","formControlName","allowed",1,"uppercase"],[1,"ml-4","w-2/12"],[1,"mb-1"],["matInput","","formControlName","deduct",1,"uppercase"],[1,"ml-9","w-2/12"],["matInput","","formControlName","provpd",1,"uppercase"],[1,"w-1/3","pr-4","text-right"],["appearance","outline",1,"w-2/12"],["matInput","","formControlName","adjustmentcode1",1,"uppercase"],["matPrefix","",1,"icon-size-1","ml-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],["appearance","outline",1,"ml-2","w-2/12"],["matInput","","formControlName","amountadjusted1",1,"uppercase"],["matInput","","formControlName","adjustmentcode2",1,"uppercase"],["matInput","","formControlName","amountadjusted2",1,"uppercase"],["matInput","","formControlName","adjustmentcode3",1,"uppercase"],["matInput","","formControlName","amountadjusted3",1,"uppercase"],["matInput","","formControlName","adjustmentcode4",1,"uppercase"],["matInput","","formControlName","amountadjusted4",1,"uppercase"],["matInput","","formControlName","adjustmentcode5",1,"uppercase"],["matInput","","formControlName","amountadjusted5",1,"uppercase"],["matInput","","formControlName","adjustmentcode6",1,"uppercase"],["matInput","","formControlName","amountadjusted6",1,"uppercase"],["appearance","outline",1,"m-0","w-2/12"],["matInput","","formControlName","balance",1,"uppercase"],["matInput","","formControlName","submitted",1,"uppercase"],["matInput","","formControlName","tranamount",1,"uppercase"],["appearance","outline",1,"m-0","w-30"],["matInput","","formControlName","hcpcscode",1,"uppercase"],[1,"m-0"],["matInput","",1,"uppercase",3,"readonly","formControlName"],[1,"ml-2","w-24","pr-4","text-right"],["appearance","outline",1,"w-30"],["matInput","","formControlName","adduserid",1,"uppercase"],[1,"flex","w-full","p-1","pt-0"],[1,"w-full","border","bg-white","p-2","shadow","dark:bg-transparent","md:w-full"],[1,"mt-2","flex","flex-col","space-y-4"],[1,"flex","w-full","items-center"],[1,"flex","flex-col","items-center","space-y-4","sm:flex-row","sm:items-center","sm:space-y-0"],[1,"mr-1","items-center",3,"change","color","formControlName"],["appearance","outline",1,"w-1/6"],["matInput","","readonly","",1,"uppercase",3,"formControlName"],["matPrefix","",1,"icon-size-1","mr-4","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],["matInput","",1,"uppercase",3,"formControlName"],[1,"mr-2","items-center",3,"change","color","formControlName"],[1,"flex","gap-6"],[1,"font-extrabold"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",3)(1,"div",4)(2,"div",5),v("click",function(){return P(s),_(t.backToListing())}),c(3,"mat-icon",6),a(),R(4,Ud,2,1,"p",7),c(5,"fuse-horizontal-navigation",8),a(),n(6,"div",9)(7,"form",10)(8,"div",11)(9,"div",12)(10,"div",13)(11,"div",14)(12,"div",15)(13,"mat-form-field",16)(14,"mat-label"),l(15,"Post Date"),a(),n(16,"input",17),v("change",function(u){return P(s),_(t.onDateChange(u,"postdate"))}),a(),c(17,"mat-datepicker-toggle",18)(18,"mat-datepicker",null,0),R(20,Hd,2,1,"mat-error"),a()(),n(21,"div",15)(22,"mat-form-field",19)(23,"mat-label"),l(24,"Batch"),a(),c(25,"input",20),a()(),n(26,"div",21)(27,"mat-form-field",22)(28,"mat-label"),l(29,"Check #"),a(),c(30,"input",23),a()(),n(31,"div",21)(32,"mat-form-field",16)(33,"mat-label"),l(34,"Check Date"),a(),n(35,"input",17),v("change",function(u){return P(s),_(t.onDateChange(u,"checkdate"))}),a(),c(36,"mat-datepicker-toggle",18)(37,"mat-datepicker",null,1),R(39,qd,2,1,"mat-error"),a()(),n(40,"div",21)(41,"mat-form-field",24)(42,"mat-label"),l(43,"Payment Type"),a(),n(44,"mat-select",25)(45,"mat-select-trigger"),l(46),a(),ae(47,zd,5,3,"mat-option",26,de),w(49,"async"),a()()()(),n(50,"div",27)(51,"div",28)(52,"label",29),l(53,"ICN:"),a(),n(54,"mat-form-field",30),c(55,"input",31),a()()()()()(),n(56,"div",32)(57,"div",33)(58,"div",34)(59,"div",35)(60,"div",36),c(61,"div",37),n(62,"mat-form-field",38)(63,"mat-label",39),l(64,"Allowed"),a(),c(65,"input",40),a(),n(66,"mat-form-field",41)(67,"mat-label",42),l(68,"Deduct"),a(),c(69,"input",43),a(),n(70,"mat-form-field",44)(71,"mat-label",42),l(72,"Prov Pd"),a(),c(73,"input",45),a()(),n(74,"div",36)(75,"label",46),l(76,"Adjustment 1:"),a(),n(77,"mat-form-field",47),c(78,"input",48),a(),n(79,"mat-icon",49),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode1"))}),a(),n(80,"mat-form-field",50),c(81,"input",51),a()(),n(82,"div",36)(83,"label",46),l(84,"Adjustment 2:"),a(),n(85,"mat-form-field",47),c(86,"input",52),a(),n(87,"mat-icon",49),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode2"))}),a(),n(88,"mat-form-field",50),c(89,"input",53),a()(),n(90,"div",36)(91,"label",46),l(92,"Adjustment 3:"),a(),n(93,"mat-form-field",47),c(94,"input",54),a(),n(95,"mat-icon",49),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode3"))}),a(),n(96,"mat-form-field",50),c(97,"input",55),a()(),n(98,"div",36)(99,"label",46),l(100,"Adjustment 4:"),a(),n(101,"mat-form-field",47),c(102,"input",56),a(),n(103,"mat-icon",49),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode4"))}),a(),n(104,"mat-form-field",50),c(105,"input",57),a()(),n(106,"div",36)(107,"label",46),l(108,"Adjustment 5:"),a(),n(109,"mat-form-field",47),c(110,"input",58),a(),n(111,"mat-icon",49),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode5"))}),a(),n(112,"mat-form-field",50),c(113,"input",59),a()(),n(114,"div",36)(115,"label",46),l(116,"Adjustment 6:"),a(),n(117,"mat-form-field",47),c(118,"input",60),a(),n(119,"mat-icon",49),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode6"))}),a(),n(120,"mat-form-field",50),c(121,"input",61),a()(),n(122,"div",36)(123,"label",46),l(124,"Balance:"),a(),n(125,"mat-form-field",62),c(126,"input",63),a()()()(),n(127,"div",34)(128,"div",35)(129,"div",36)(130,"label",46),l(131,"Submitted:"),a(),n(132,"mat-form-field",47),c(133,"input",64),a()(),n(134,"div",36)(135,"label",46),l(136,"Tran Amount:"),a(),n(137,"mat-form-field",47),c(138,"input",65),a()(),n(139,"div",36)(140,"label",46),l(141,"Service Date:"),a(),n(142,"mat-form-field",66)(143,"input",17),v("change",function(u){return P(s),_(t.onDateChange(u,"svcdate"))}),a(),c(144,"mat-datepicker-toggle",18)(145,"mat-datepicker",null,2),a()(),n(147,"div",36)(148,"label",46),l(149,"Procedure:"),a(),n(150,"mat-form-field",47),c(151,"input",67),a()(),n(152,"div",36)(153,"label",46),l(154,"Item code:"),a(),n(155,"div",36)(156,"mat-form-field",68),c(157,"input",69),a(),n(158,"mat-icon",49),v("click",function(){return P(s),_(t.openItemList())}),a()()(),n(159,"div",36)(160,"label",46),l(161,"Print Status:"),a(),n(162,"mat-form-field",24)(163,"mat-select",25)(164,"mat-select-trigger"),l(165),a(),ae(166,Yd,5,3,"mat-option",26,de),w(168,"async"),a()(),n(169,"label",70),l(170,"Tran Type:"),a(),n(171,"mat-form-field",24)(172,"mat-select",25)(173,"mat-select-trigger"),l(174),a(),ae(175,Kd,5,3,"mat-option",26,de),w(177,"async"),a()()(),n(178,"div",36)(179,"mat-label",46),l(180,"Bill Type:"),a(),n(181,"mat-form-field",24)(182,"mat-select",25)(183,"mat-select-trigger"),l(184),a(),ae(185,Qd,5,3,"mat-option",26,de),w(187,"async"),a()(),n(188,"label",70),l(189,"Edited By:"),a(),n(190,"mat-form-field",71),c(191,"input",72),a()()()()()(),n(192,"div",73)(193,"div",74)(194,"div",75)(195,"div",76)(196,"div",77)(197,"mat-checkbox",78),v("change",function(){return P(s),_(t.onCheckboxChange("toPatientChecked"))}),l(198," To patient"),a(),n(199,"mat-form-field",79),c(200,"input",80),a(),n(201,"mat-icon",81),v("click",function(){return P(s),_(t.openPayorList("toPatient"))}),a(),n(202,"mat-checkbox",78),v("change",function(){return P(s),_(t.onCheckboxChange("toOtherChecked"))}),l(203," To other"),a(),n(204,"mat-form-field",79),c(205,"input",82),a(),n(206,"mat-icon",81),v("click",function(){return P(s),_(t.openPayorList("toOther"))}),a(),n(207,"mat-checkbox",83),v("change",function(){return P(s),_(t.onCheckboxChange("retainSamePayorChecked"))}),l(208," Retain Same Payor"),a()()()()()()()()()}if(i&2){let s=Y(19),m=Y(38),u=Y(146);o(3),r("svgIcon","heroicons_solid:arrow-left"),o(),B(t.PaymentAdjustmentId!==null?4:-1),o(),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("formGroup",t.PaymentAdjustmentForm),o(9),r("matDatepicker",s)("placeholder",t.dateFormat)("formControlName","postdate"),o(),r("for",s),o(3),B(t.PaymentAdjustmentForm.get("postdate").hasError("notValidDate")?20:-1),o(15),r("matDatepicker",m)("placeholder",t.dateFormat)("formControlName","checkdate"),o(),r("for",m),o(3),B(t.PaymentAdjustmentForm.get("checkdate").hasError("notValidDate")?39:-1),o(5),r("formControlName","paymenttype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedPaymentType),o(),ne(I(49,50,t.paymentTypeDropDown$)),o(32),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(8),r("svgIcon","heroicons_solid:download"),o(24),r("matDatepicker",u)("placeholder",t.dateFormat)("formControlName","svcdate"),o(),r("for",u),o(13),r("readonly",!1)("formControlName","itemcode"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","printstatus")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedPrintStatus),o(),ne(I(168,52,t.PrintStatusDropDown$)),o(6),r("formControlName","trantype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedTranType),o(),ne(I(177,54,t.tranType$)),o(7),r("formControlName","billtype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedBillType),o(),ne(I(187,56,t.billType$)),o(12),r("color","primary")("formControlName","toPatientChecked"),o(3),r("formControlName","toPatient"),o(),r("svgIcon","heroicons_solid:download"),o(),r("color","primary")("formControlName","toOtherChecked"),o(3),r("formControlName","toOther"),o(),r("svgIcon","heroicons_solid:download"),o(),r("color","primary")("formControlName","retainSamePayorChecked")}},dependencies:[ye,Re,Z,fe,Oe,De,he,_e,we,Ne,Ee,Ie,Fe,St,Pt,mt,xt,Dt,Vt,lt,Qt,_t,G],styles:[".pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-wrapper{padding:0!important;margin:0!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-flex{min-height:30px!important;padding-top:0!important;padding-bottom:0!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-infix{padding-top:0!important;padding-bottom:0!important;min-height:0px!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding-top:0!important;padding-bottom:0!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-mdc-form-field{margin-top:0!important;margin-bottom:0!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{margin:0!important;padding:0!important;min-height:0!important;height:0!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-bottom-align:after{display:none!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field input[matDatepicker]{height:30px!important;line-height:30px!important;padding:0 8px!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle{height:30px!important;width:30px!important;display:flex!important;align-items:center!important;justify-content:center!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle .mat-datepicker-toggle-default-icon{width:16px!important;height:16px!important}.pay-adjust[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{height:30px!important;display:flex!important;align-items:center!important}.pay-adjust[_ngcontent-%COMP%]   aux-select-dropdown[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{margin-top:0!important}"]})}};Mn=N([k()],Mn);function Xd(d,e){if(d&1&&(n(0,"p",8),l(1),a()),d&2){let i=U();o(),W(" ",i.PaymentAdjustmentId," ")}}function Zd(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",51)(2,"h2",52),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function Jd(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",51)(2,"h2",52),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.billType),o(3),$(i.billType),o(),W(" ",i.description," ")}}function ep(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",51)(2,"h2",52),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function tp(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",51)(2,"h2",52),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.value),o(3),$(i.value),o(),W(" ",i.description," ")}}function ip(d,e){if(d&1&&(n(0,"mat-option",19),l(1),a()),d&2){let i=e.$implicit;r("value",i),o(),W(" ",i.branchcode," ")}}function ap(d,e){if(d&1&&(n(0,"mat-option",19)(1,"div",51)(2,"h2",52),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.value),o(3),$(i.value),o(),W(" ",i.name," ")}}var On=class pr{constructor(e,i,t,s,m,u){this._formBuilder=e,this.store=i,this.matDialog=t,this.route=s,this.auxUtilService=m,this.router=u,this.PaymentAdjustmentId=null,this.branchName=new at,this.PaymentAdjustmentDetails$=this.store.select(Ci.selectPaymentAdjustmentById),this.salesrep$=this.store.select(Pe.selectSalesRep).pipe(x(D=>D.map(f=>({name:f.firstName+" "+f.lastName,value:f.id})))),this.referralData={},this.dateFormat=ot.DATE_FORMAT,this.printStatus$=this.store.select(Pe.selectPrintStatus),this.billType$=this.store.select(Ot.selectBillType),this.icdCode$=this.store.select(Pe.selectIcdCode),this.diagnosisCodeList$=this.store.select(ri.selectdiagnosiscodesList),this.selectedPhysician$=this.store.select(Xt.selectPhysicians),this.selectedPayors$=this.store.select(Ot.selectPayorsDetail),this.referCode$=this.store.select(si.selectReferCode),this.branch$=this.store.select(Pe.selectBranch),this.placeOfServiceDropdown=[],this.PrintStatusDropDown$=this.store.select(Pe.selectPrintStatus).pipe(x(D=>D.map(f=>({code:f.code,description:f.description||f.code})))),this.tranType$=this.store.select(Pe.selectTranType).pipe(x(D=>D.map(f=>({code:f.code,description:f.description||f.code})))),this.primaryBillForm$=this.store.select(yi.selectPayorPrimaryBillForm).pipe(x(D=>D.map(f=>({name:f.code,value:f.code,description:f.description||f.code})))),this.claimType$=this.store.select(Pe.selectClaimType).pipe(x(D=>D.map(f=>({code:f.code,value:f.code,description:f.description||f.code})))),this.pwkType$=this.store.select(Pe.selectPwkType).pipe(x(D=>D.map(f=>({code:f.code,value:f.code,description:f.description||f.code})))),this.pwkMethod$=this.store.select(Pe.selectPwkMethod).pipe(x(D=>D.map(f=>({code:f.code,value:f.code,description:f.description||f.code}))));let C=Number(this.router.url.split("/")[3]);this.store.dispatch(Te.LoadPatientSalesRep()),this.store.dispatch(gt.BillTypeDropdown()),this.store.dispatch(Te.TranTypeDropdown()),this.store.dispatch(Te.ClaimTypeDropdown()),this.store.dispatch(Te.PwkTypeDropdown()),this.store.dispatch(Te.PwkMethodDropdown()),this.store.dispatch(vi.LoadPrimaryBillFormDropDown()),this.store.dispatch(qe.LoadPlaceOfServiceDropDown()),this.store.dispatch(Te.PrintStatusDropDown()),this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}}]}save(){if(this.PaymentAdjustmentForm.invalid)return;let e=this.PaymentAdjustmentForm.value;e=this.auxUtilService.transFormValues(e,Di),e=this.auxUtilService.transFormValuesToUpperCase(e,["icn","description","mod1","mod2","mod3","mod4"]),e.itemCode===""&&(e.itemid=0),e=this.auxUtilService.transformBankStringToDefaultDate(e,["svcdate","servicedate","todate"]),e=this.auxUtilService.formatDateFields(e,["svcdate","todate","servicedate"]),e=this.auxUtilService.cleanData(e),this.store.dispatch(Ke.AddPaymentAdjustment({paymentAdjustment:e}))}ngOnInit(){this.PaymentAdjustmentForm=this._formBuilder.group({printstatus:[""],payorName:[""],payorid:[""],billform:[""],billto:[""],id:[0],referCode:[""],trantype:[""],claimtype:[""],svcdate:[""],icn:[""],paponumber:[""],patienticdid1:[""],patientid:[""],referid:[""],patientdoctorid1:[""],icd10code:[""],pwktransmissioncode:[""],pwktypecode:[""],pwkattachmentcn:[""],pwkccn:[""],balance:[""],tranamount:[""],physician:[""],salesid:[""],branchid:[""],submitted:[""],allowed:[""],mod1:[""],mod2:[""],mod3:[""],mod4:[""],tos:[""],quantity:[""],servicedate:[""],todate:[""],hcpcscode:[""],description:[""],itemcode:[""],billtype:[""],physicianFullName:[""],itemid:[""],patientpayorid:[""],fieldservicerepid:[""]}),this.route.paramMap.pipe(h(this)).subscribe(e=>{this.PaymentAdjustmentId=e.get("id"),this.PaymentAdjustmentId&&(this.store.dispatch(Ke.LoadPaymentAdjustmentsId({PaymentAdjustmentId:this.PaymentAdjustmentId})),this.PaymentAdjustmentForm.get("id").setValue(this.PaymentAdjustmentId),this.patchForm())}),this.billType$.pipe(h(this)).subscribe(e=>{this.billTypeDropDown=e}),this.PrintStatusDropDown$.pipe(h(this)).subscribe(e=>{this.PrintStatusDropDown=e}),this.tranType$.pipe(h(this)).subscribe(e=>{this.tranTypeDropdown=e}),this.primaryBillForm$.pipe(h(this)).subscribe(e=>{this.primaryBillFormdropdown=e}),this.claimType$.pipe(h(this)).subscribe(e=>{this.claimTypedropdown=e}),this.pwkType$.pipe(h(this)).subscribe(e=>{this.pwkTypeDropdown=e}),this.pwkMethod$.pipe(h(this)).subscribe(e=>{this.pwkMethodDropdown=e})}patchForm(){this.PaymentAdjustmentDetails$.pipe(h(this)).subscribe(e=>{if(e!=null){this.PayAdj=e[0];let i=[e[0].payorid];this.store.dispatch(Ut.LoadPatientPhysicians({id:e[0].patientid})),this.store.dispatch(Gt.LoadPatientDiagnosiscode({id:e[0].patientid})),this.store.dispatch(gt.LoadPayorDetails({id:i})),this.diagnosisCodeList$.pipe(h(this)).subscribe(u=>{u&&u.forEach(C=>{C.id==this.PayAdj.patienticdid1&&this.PaymentAdjustmentForm.get("icd10code")?.setValue(C.icd10code)})}),this.PayAdj.referid!==0&&this.PayAdj.referid?(this.store.dispatch(qe.LoadPatientReferrals()),this.store.dispatch(Ge.getReferCode({id:this.PayAdj.referid})),this.referCode$.pipe(h(this),Ai(u=>u!=null&&u!=="")).subscribe(u=>{this.store.select($e.selectReferralById(u.desciption)).pipe(h(this)).subscribe(C=>{if(C){this.referralData.company=C.company||"",this.referralData.firstName=C.firstName||"",this.referralData.lastName=C.lastName||"";let D=this.referralData.company?`${this.PayAdj.referid} - ${this.referralData.company}`:`${this.PayAdj.referid} - ${this.referralData.firstName} ${this.referralData.lastName}`;this.PaymentAdjustmentForm.get("referCode").setValue(D)}})})):this.PaymentAdjustmentForm.get("referCode").setValue(""),this.selectedPhysician$.pipe(h(this)).subscribe(u=>{u&&u.forEach(C=>{if(C.id==this.PayAdj.patientdoctorid1){let D=C.doctorId?`${C.doctorId} - ${C.firstName} ${C.lastName}`:`${C.firstName} ${C.lastName}`;this.PaymentAdjustmentForm.get("physician").setValue(D),this.PaymentAdjustmentForm.get("patientdoctorid1").setValue(C.id)}})}),this.selectedPayors$.pipe(h(this)).subscribe(u=>{if(u&&u!=null&&u.id===this.PaymentAdjustmentForm.get("payorid").value){let C=u.billto?`${u.id} - ${u.billto}`:`${u.billto} `;this.PaymentAdjustmentForm.get("payorName").setValue(C),this.PaymentAdjustmentForm.get("payorid").setValue(u.id),this.PaymentAdjustmentForm.get("billto").setValue(u.billto)}});let t=Je({},this.PayAdj);t.branchid=this.PayAdj.branchid.toString();let s="1900-01-01T00:00:00";["servicedate","todate","svcdate"].forEach(u=>{t[u]===s&&(t[u]="")}),this.PaymentAdjustmentForm.patchValue(t),te([this.branch$,this.PaymentAdjustmentForm.get("branchid").valueChanges.pipe(Q(this.PaymentAdjustmentForm.get("branchid").value))]).pipe(h(this)).subscribe(([u,C])=>{if(u&&Number(C)){let D=u.find(f=>f.id===Number(C));D&&this.onBranchSelected(D)}})}})}get selectedBillType(){return this.billTypeDropDown.find(e=>e.billType===this.PaymentAdjustmentForm.get("billtype")?.value)?.billType}get selectedPrintStatus(){return this.PrintStatusDropDown.find(e=>e.code===this.PaymentAdjustmentForm.get("printstatus")?.value)?.code}get selectedTranType(){return this.tranTypeDropdown.find(e=>e.code===this.PaymentAdjustmentForm.get("trantype")?.value)?.code}get selectedPrimaryBillForm(){return this.primaryBillFormdropdown.find(e=>e.value===this.PaymentAdjustmentForm.get("billform")?.value)?.name}get selectedClaimType(){return this.claimTypedropdown?.find(e=>e.code===this.PaymentAdjustmentForm.get("claimtype")?.value)?.code}get selectedPwkType(){return this.pwkTypeDropdown.find(e=>e.code===this.PaymentAdjustmentForm.get("pwktypecode")?.value)?.code}get selectedPwkMethod(){return this.pwkMethodDropdown.find(e=>e.code===this.PaymentAdjustmentForm.get("pwktransmissioncode")?.value)?.code}openDiagnosisCodePopup(){let e={icon:"mat_outline:edit_note",title:"Select Diagnosis Codes",cancelButtonText:"Cancel",saveButtonText:"Select Diagnosis Codes",dynamicComponent:_i,dynamicComponentData:null,submitFunction:"submitSelectedCode",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",minHeight:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.PaymentAdjustmentForm.get("patienticdid1").setValue(t.id),this.PaymentAdjustmentForm.get("icd10code").setValue(t.icd10code))})}openAssignedPhysicianList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Physician",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:li,dynamicComponentData:this.PaymentAdjustmentForm.get("patientid").value,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"auto",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{if(t){let s=t.doctorId?`${t.doctorId} - ${t.firstName} ${t.lastName}`:`${t.firstName} ${t.lastName}`;this.PaymentAdjustmentForm.get("physician").setValue(s),this.PaymentAdjustmentForm.get("patientdoctorid1").setValue(t.id)}})}openPayorsList(){let e=this.PaymentAdjustmentForm.get("patientpayorid").value,i={icon:"mat_outline:edit_note",title:"Select Assigned Payors",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Zt,dynamicComponentData:{patientId:this.PaymentAdjustmentForm.get("patientid").value,selectedPayorId:e},submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"50%",height:"auto",data:i}).afterClosed().pipe(h(this)).subscribe(s=>{if(s){let m=s.payorId?`${s.payorId} - ${s.billTo}`:`${s.billTo} `;this.PaymentAdjustmentForm.get("payorName").setValue(m),this.PaymentAdjustmentForm.get("patientpayorid").setValue(s.id),this.PaymentAdjustmentForm.get("payorid").setValue(s.payorId),this.PaymentAdjustmentForm.get("billto").setValue(s.billto)}})}openReferralList(){let e={icon:"mat_outline:edit_note",title:"Select Referral From",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:wi,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{if(t){this.referralData.company=t.company||"",this.referralData.firstName=t.firstName||"",this.referralData.lastName=t.lastName||"";let s=this.referralData.company?`${t.id} - ${this.referralData.company}`:`${t.id} - ${this.referralData.firstName} ${this.referralData.lastName}`;this.PaymentAdjustmentForm.get("referCode").setValue(s),this.PaymentAdjustmentForm.get("referid").setValue(t.id),this.PaymentAdjustmentForm.get("salesid").setValue(t.salesId),this.PaymentAdjustmentForm.get("fieldservicerepid").setValue(t.salesId)}})}backToListing(){window.history.back()}openItemList(){let e={icon:"mat_outline:edit_note",title:"Select Item Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fi,dynamicComponentData:{itemCode:this.PaymentAdjustmentForm.get("itemcode").value},submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:e}).afterClosed().subscribe(t=>{t&&(this.PaymentAdjustmentForm.get("itemcode").setValue(t.itemcode),this.PaymentAdjustmentForm.get("description").setValue(t.description),this.PaymentAdjustmentForm.get("itemid").setValue(t.id))})}onDateChange(e,i){this.PaymentAdjustmentForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.PaymentAdjustmentForm,i)}onBranchSelected(e){let i=e;this.PaymentAdjustmentForm.get("branchid").setValue(i.id,{emitEvent:!1}),this.branchName.setValue(i.branchcode)}static{this.\u0275fac=function(i){return new(i||pr)(p(st),p(F),p(z),p(K),p(ke),p(O))}}static{this.\u0275cmp=A({type:pr,selectors:[["app-patient-payments-adjustments-edit"]],decls:182,vars:66,consts:[["serviceDate","matDatepicker"],["toDate","matDatepicker"],["autoInput",""],["auto2","matAutocomplete"],[1,"model-contain","w-full",3,"formGroup"],[1,"flex","w-full","items-center","bg-white","p-3","shadow","dark:bg-transparent"],[3,"click"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"svgIcon"],[1,"status","ml-3","flex","flex-none","items-center","rounded","bg-primary-100","px-3","py-1.5","text-xs","font-medium","text-accent-600"],[3,"navigation","name"],[1,"patient-inquiry","w-full","p-1","md:flex","md:flex-wrap","lg:flex-nowrap"],[1,"mr-2","w-full"],[1,"bg-white","p-2","shadow","dark:bg-transparent"],[1,"grid","gap-y-1"],[1,"pb-2","pt-2"],[1,"flex","items-center","gap-x-2"],[1,"w-56","text-right"],["appearance","outline",1,"w-1/6"],[3,"formControlName","panelClass"],[3,"value"],["appearance","outline",1,"m-0","w-1/6"],[3,"formControlName","panelClass","tabindex"],["appearance","outline",1,"m-0","w-36"],["matInput","",3,"change","matDatepicker","placeholder","formControlName"],["matIconSuffix","",3,"for"],[1,"flex","items-center"],["appearance","outline",1,"m-0","w-40"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","ml-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],["matInput","","type","text","tabindex","4",1,"uppercase",3,"formControl","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"m-0","w-2/12"],["matInput","","formControlName","mod1",1,"uppercase"],["matInput","","formControlName","mod2",1,"uppercase"],["matInput","","formControlName","mod3",1,"uppercase"],["matInput","","formControlName","mod4",1,"uppercase"],[1,"mt-2","w-full","md:mr-2","md:mt-2","lg:mr-0","lg:mt-0"],[1,"w-36","text-right"],[1,"m-0"],[1,"m-0","w-4/12"],["matInput","",1,"uppercase",3,"formControlName"],[1,"w-1/6","pr-2"],[1,"w-4/12","pr-0"],["matPrefix","",1,"icon-size-1","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"w-6/12","pr-0"],[3,"formControlName"],["matInput","","tabindex","32",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","mr-1.5","mt-2","cursor-pointer","sm:flex",3,"click","svgIcon"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"pb-2","pt-4"],[1,"flex","gap-6"],[1,"font-extrabold"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",4)(1,"div",5)(2,"div",6),v("click",function(){return P(s),_(t.backToListing())}),c(3,"mat-icon",7),a(),R(4,Xd,2,1,"p",8),c(5,"fuse-horizontal-navigation",9),a(),n(6,"div",10)(7,"div",11)(8,"div",12)(9,"div",13),c(10,"div",14),n(11,"div",15)(12,"label",16),l(13,"Print Status:"),a(),n(14,"mat-form-field",17)(15,"mat-select",18)(16,"mat-select-trigger"),l(17),a(),ae(18,Zd,5,3,"mat-option",19,de),w(20,"async"),a()()(),n(21,"div",15)(22,"mat-label",16),l(23,"Bill Type:"),a(),n(24,"mat-form-field",17)(25,"mat-select",18)(26,"mat-select-trigger"),l(27),a(),ae(28,Jd,5,3,"mat-option",19,de),w(30,"async"),a()()(),n(31,"div",15)(32,"label",16),l(33,"Tran Type:"),a(),n(34,"mat-form-field",17)(35,"mat-select",18)(36,"mat-select-trigger"),l(37),a(),ae(38,ep,5,3,"mat-option",19,de),w(40,"async"),a()()(),n(41,"div",15)(42,"label",16),l(43,"Biling Form #:"),a(),n(44,"mat-form-field",20)(45,"mat-select",21)(46,"mat-select-trigger"),l(47),a(),ae(48,tp,5,3,"mat-option",19,de),w(50,"async"),a()()(),n(51,"div",15)(52,"label",16),l(53,"Service Date:"),a(),n(54,"mat-form-field",22)(55,"input",23),v("change",function(u){return P(s),_(t.onDateChange(u,"svcdate"))}),a(),c(56,"mat-datepicker-toggle",24)(57,"mat-datepicker",null,0),a()(),n(59,"div",15)(60,"label",16),l(61,"To Date:"),a(),n(62,"mat-form-field",22)(63,"input",23),v("change",function(u){return P(s),_(t.onDateChange(u,"todate"))}),a(),c(64,"mat-datepicker-toggle",24)(65,"mat-datepicker",null,1),a()(),n(67,"div",15)(68,"label",16),l(69,"Bill-To:"),a(),n(70,"div",25)(71,"mat-form-field",26),c(72,"input",27),a(),n(73,"mat-icon",28),v("click",function(){return P(s),_(t.openPayorsList())}),a()()(),n(74,"div",15)(75,"label",16),l(76,"Branch:"),a(),n(77,"mat-form-field",22),c(78,"input",29,2),n(80,"mat-autocomplete",30,3),v("optionSelected",function(u){return P(s),_(t.onBranchSelected(u.option.value))}),R(82,ip,2,2,"mat-option",31),w(83,"async"),a()()(),n(84,"div",15)(85,"label",16),l(86,"MOD1:"),a(),n(87,"mat-form-field",32),c(88,"input",33),a()(),n(89,"div",15)(90,"label",16),l(91,"MOD2:"),a(),n(92,"mat-form-field",32),c(93,"input",34),a()(),n(94,"div",15)(95,"label",16),l(96,"MOD3:"),a(),n(97,"mat-form-field",32),c(98,"input",35),a()(),n(99,"div",15)(100,"label",16),l(101,"MOD4:"),a(),n(102,"mat-form-field",32),c(103,"input",36),a()(),c(104,"div",14),a()()(),n(105,"div",37)(106,"div",12)(107,"div",13),c(108,"div",14),n(109,"div",15)(110,"label",38),l(111,"Item code:"),a(),n(112,"mat-form-field",39),c(113,"input",27),a(),n(114,"mat-icon",28),v("click",function(){return P(s),_(t.openItemList())}),a()(),n(115,"div",15)(116,"label",38),l(117,"Item ID:"),a(),n(118,"mat-form-field",39),c(119,"input",27),a()(),n(120,"div",15)(121,"label",38),l(122,"Description:"),a(),n(123,"mat-form-field",40),c(124,"input",41),a()(),n(125,"div",15)(126,"label",38),l(127,"Auth #:"),a(),n(128,"mat-form-field",42),c(129,"input",41),a()(),n(130,"div",15)(131,"label",38),l(132,"ICD Code:"),a(),n(133,"mat-form-field",43),c(134,"input",27),a(),n(135,"mat-icon",44),v("click",function(){return P(s),_(t.openDiagnosisCodePopup())}),a()(),n(136,"div",15)(137,"label",38),l(138,"Procedure:"),a(),n(139,"mat-form-field",42),c(140,"input",41),a()(),n(141,"div",15)(142,"label",38),l(143,"Sales Rep:"),a(),n(144,"mat-form-field",45)(145,"mat-select",46),ae(146,ap,5,3,"mat-option",19,de),w(148,"async"),a()()(),n(149,"div",15)(150,"label",38),l(151,"Referral ID:"),a(),n(152,"mat-form-field",45),c(153,"input",47),a(),n(154,"mat-icon",48),v("click",function(){return P(s),_(t.openReferralList())}),a()(),n(155,"div",15)(156,"label",38),l(157,"Physician:"),a(),n(158,"mat-form-field",45),c(159,"input",41),a(),n(160,"mat-icon",49),v("click",function(){return P(s),_(t.openAssignedPhysicianList())}),a()(),n(161,"div",15)(162,"label",38),l(163,"Submitted:"),a(),n(164,"mat-form-field",42),c(165,"input",41),a()(),n(166,"div",15)(167,"label",38),l(168,"Allowed:"),a(),n(169,"mat-form-field",42),c(170,"input",41),a()(),n(171,"div",15)(172,"label",38),l(173,"Balance:"),a(),n(174,"mat-form-field",42),c(175,"input",41),a()(),n(176,"div",15)(177,"label",38),l(178,"Amount Billed:"),a(),n(179,"mat-form-field",42),c(180,"input",41),a()(),c(181,"div",50),a()()()()()}if(i&2){let s=Y(58),m=Y(66),u=Y(81);r("formGroup",t.PaymentAdjustmentForm),o(3),r("svgIcon","heroicons_solid:arrow-left"),o(),B(t.PaymentAdjustmentId!==null?4:-1),o(),r("navigation",t.toolbarData)("name","patient-toolbar"),o(10),r("formControlName","printstatus")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedPrintStatus),o(),ne(I(20,54,t.PrintStatusDropDown$)),o(7),r("formControlName","billtype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedBillType),o(),ne(I(30,56,t.billType$)),o(7),r("formControlName","trantype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedTranType),o(),ne(I(40,58,t.tranType$)),o(7),r("formControlName","billform")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none")("tabindex",31),o(2),$(t.selectedPrimaryBillForm),o(),ne(I(50,60,t.primaryBillForm$)),o(7),r("matDatepicker",s)("placeholder",t.dateFormat)("formControlName","svcdate"),o(),r("for",s),o(7),r("matDatepicker",m)("placeholder",t.dateFormat)("formControlName","todate"),o(),r("for",m),o(8),r("readonly",!1)("formControlName","payorName"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControl",t.branchName)("matAutocomplete",u),o(4),r("ngForOf",I(83,62,t.branch$)),o(31),r("readonly",!1)("formControlName","itemcode"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("readonly",!0)("formControlName","itemid"),o(5),r("formControlName","description"),o(5),r("formControlName","paponumber"),o(5),r("readonly",!0)("formControlName","icd10code")("readonly",!0),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","hcpcscode"),o(5),r("formControlName","salesid"),o(),ne(I(148,64,t.salesrep$)),o(7),r("readonly",!0)("formControlName","referCode"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","physician"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","submitted"),o(5),r("formControlName","allowed"),o(5),r("formControlName","balance"),o(5),r("formControlName","tranamount")}},dependencies:[ye,Re,Z,fe,De,he,_e,$t,we,Ne,Ee,Ie,Vt,lt,Fe,St,Pt,mt,xt,Ze,Et,pi,Qt,G],styles:[".patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-wrapper{padding:0!important;margin:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-flex{min-height:30px!important;padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-infix{padding-top:0!important;padding-bottom:0!important;min-height:0px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-mdc-form-field{margin-top:0!important;margin-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{margin:0!important;padding:0!important;min-height:0!important;height:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-bottom-align:after{display:none!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field input[matDatepicker]{height:30px!important;line-height:30px!important;padding:0 8px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle{height:30px!important;width:30px!important;display:flex!important;align-items:center!important;justify-content:center!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle .mat-datepicker-toggle-default-icon{width:16px!important;height:16px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{height:30px!important;display:flex!important;align-items:center!important}.patient-inquiry[_ngcontent-%COMP%]   aux-select-dropdown[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{margin-top:0!important}"]})}};On=N([k()],On);var jn=class cr{constructor(e,i,t,s,m,u,C,D,f,y){this.store=e,this.actions$=i,this.currency=t,this.router=s,this.activatedRoute=m,this.dateTime=u,this.dialog=C,this.dateFormat=D,this.cdr=f,this.titleService=y,this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.paymentAdjustmentsData$=this.store.select(Ci.selectPaymentAdjustments),this.loading$=this.store.select(Ci.selectLoading),this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"ID",minWidth:60,field:"id",filter:"agMultiColumnFilter",sortIndex:0,hide:!0,floatingFilter:!1,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"SVCDATE",minWidth:125,sort:"desc",field:"svcDate",filter:"agDateColumnFilter",sortIndex:1,hide:!1,filterParams:J,valueFormatter:g=>this.dateFormat.transform(g.data.svcDate),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"ITEM ID",minWidth:115,field:"itemId",filter:"agMultiColumnFilter",sortIndex:2,hide:!1,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"ITEM CODE",minWidth:115,field:"itemCode",filter:"agMultiColumnFilter",sortIndex:2,hide:!1,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"DESCRIPTION",minWidth:200,field:"description",filter:"agMultiColumnFilter",sortIndex:3,hide:!1,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"PROCEDURE",minWidth:115,field:"procedure",filter:"agMultiColumnFilter",sortIndex:4,hide:!1,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"HCPCS CODE",minWidth:115,field:"hcpcsCode",filter:"agMultiColumnFilter",sortIndex:5,hide:!1,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"T",minWidth:50,field:"tranType",sortIndex:6,hide:!1,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"B",minWidth:50,field:"billType",sortIndex:7,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"TRAN AMOUNT",minWidth:120,field:"tranAmount",sortIndex:8,valueFormatter:g=>this.currency.transform(g.data.tranAmount,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"AMOUNT PAID",minWidth:120,field:"amountPaid",sortIndex:9,valueFormatter:g=>this.currency.transform(g.data.amountPaid,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"ADJ 1",minWidth:100,field:"amountAdjusted1",sortIndex:10,valueFormatter:g=>this.currency.transform(g.data.amountAdjusted1,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"ADJ 2",minWidth:100,field:"amountAdjusted2",sortIndex:11,valueFormatter:g=>this.currency.transform(g.data.amountAdjusted2,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"ADJ 3",minWidth:100,field:"amountAdjusted3",sortIndex:12,valueFormatter:g=>this.currency.transform(g.data.amountAdjusted3,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"ADJ 4",minWidth:100,field:"amountAdjusted4",sortIndex:13,valueFormatter:g=>this.currency.transform(g.data.amountAdjusted4,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"ADJ 5",minWidth:100,field:"amountAdjusted5",sortIndex:14,valueFormatter:g=>this.currency.transform(g.data.amountAdjusted5,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"ADJ 6",minWidth:100,field:"amountAdjusted6",sortIndex:15,valueFormatter:g=>this.currency.transform(g.data.amountAdjusted6,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"BALANCE",minWidth:100,field:"balance",filter:"agMultiColumnFilter",sortIndex:16,valueFormatter:g=>this.currency.transform(g.data.balance,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"SUBMITTED",minWidth:120,field:"submitted",sortIndex:17,valueFormatter:g=>this.currency.transform(g.data.submitted,"USD","symbol"),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"CHECK DATE",minWidth:125,field:"checkDate",filter:"agDateColumnFilter",sortIndex:18,filterParams:J,valueFormatter:g=>this.dateFormat.transform(g.data.checkDate),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"POST DATE",minWidth:125,field:"postDate",filter:"agDateColumnFilter",sortIndex:19,filterParams:J,valueFormatter:g=>this.dateFormat.transform(g.data.postDate),onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"CHECK NO",minWidth:150,field:"checkNo",sortIndex:20,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"INVOICE NO",minWidth:150,field:"invoiceNo",filter:"agMultiColumnFilter",sortIndex:21,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"BILL TO",minWidth:100,field:"billTo",filter:"agMultiColumnFilter",sortIndex:22,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"ACCESSION NO",minWidth:150,field:"accessionNo",sortIndex:23,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"POS",minWidth:100,field:"pos",sortIndex:24,onCellClicked:g=>this.openPaymentDetails(g)},{headerName:"CONFIRM ID",minWidth:150,field:"confirmId",sortIndex:25,onCellClicked:g=>this.openPaymentDetails(g)}],this.visibleColumns=["svcDate","itemId","itemCode","description","procedure","tranType","billType","billTo","balance","checkDate","invoiceNo"],this.toolbarData=[{title:"Refresh",type:"basic",icon:"mat_outline:refresh",function:()=>{this.refresh.next(null)}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.patientId=Number(this.router.url.split("/")[3]),te([this.activatedRoute.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(()=>{this.store.dispatch(Ke.LoadPaymentAdjustments({patientId:this.patientId}))}),this.paymentAdjustmentsData$.pipe(h(this)).subscribe(e=>{this.rowData=e})}openPaymentDetails(e){let i=this.toolbarData.findIndex(u=>u.title==="Edit"),t=this.toolbarData.findIndex(u=>u.title==="Pay/Adjust"),s=this.toolbarData.findIndex(u=>u.title==="Subsequent Payments"),m=[...this.toolbarData];i===-1&&(m=[...m,{title:"Edit",type:"basic",icon:"mat_outline:edit",function:()=>{this.redirectToEdit(e)}}]),t===-1&&(m=[...m,{title:"Pay/Adjust",type:"basic",icon:"mat_outline:edit",function:()=>{this.redirectToPayAdjust(e)}}]),s===-1&&(m=[...m,{title:"Subsequent Payments",type:"basic",icon:"mat_outline:payments",function:()=>{this.redirectToSubsequentPayments(e)}}]),this.toolbarData=m,this.cdr.detectChanges()}updateToolBarData(e){this.toolbarData=[...this.toolbarData.slice(0,e),...this.toolbarData.slice(e+1)]}redirectToEdit(e){this.router.navigate([`/centers/patient-center/${this.patientId}/payments-adjustments/add`,e.data.id])}redirectToPayAdjust(e){this.router.navigate([`/centers/patient-center/${this.patientId}/pay-adjust/add`,e.data.id])}redirectToSubsequentPayments(e){this.router.navigate([`/centers/patient-center/${this.patientId}/subsequent-payments/add`,e.data.id])}static{this.\u0275fac=function(i){return new(i||cr)(p(F),p(L),p(ci),p(O),p(K),p(xe),p(z),p(q),p(ce),p(le))}}static{this.\u0275cmp=A({type:cr,selectors:[["ac-patient-payments-adjustments-table"]],features:[re([q])],decls:8,vars:13,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"gridOptions","rowData","columnDefs","agGridHeight","visibleColumns","loading"],[3,"show"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3),c(4,"aux-ag-grid",4),w(5,"async"),c(6,"ac-loading-overlay",5),w(7,"async"),a()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 344px)")("visibleColumns",t.visibleColumns)("loading",I(5,9,t.loading$)),o(2),r("show",I(7,11,t.loading$)))},dependencies:[Z,Yt,se,G],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}"],changeDetection:0})}};jn=N([k()],jn);function np(d,e){if(d&1&&(n(0,"p",9),l(1),a()),d&2){let i=U();o(),W(" ",i.PaymentAdjustmentId," ")}}function op(d,e){if(d&1&&(n(0,"mat-option",30)(1,"div",51)(2,"h2",52),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.billType),o(3),$(i.billType),o(),W(" ",i.description," ")}}function rp(d,e){if(d&1&&(n(0,"mat-option",30)(1,"div",51)(2,"h2",52),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function sp(d,e){if(d&1&&(n(0,"mat-option",30)(1,"div",51)(2,"h2",52),l(3),a(),l(4),a()()),d&2){let i=e.$implicit;r("value",i.code),o(3),$(i.code),o(),W(" ",i.description," ")}}function lp(d,e){if(d&1&&(n(0,"mat-option",30),l(1),a()),d&2){let i=e.$implicit;r("value",i),o(),W(" ",i.branchcode," ")}}function mp(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter valid date!! It should be ",i.dateFormat," .")}}var Rn=class ur{constructor(e,i,t,s,m,u){this._formBuilder=e,this.store=i,this.matDialog=t,this.route=s,this.auxUtilService=m,this.router=u,this.PaymentAdjustmentId=null,this.branchName=new at,this.PaymentAdjustmentDetails$=this.store.select(Ci.selectPaymentAdjustmentById),this.salesrep$=this.store.select(Pe.selectSalesRep).pipe(x(D=>D.map(f=>({name:f.firstName+" "+f.lastName,value:f.id})))),this.referralData={},this.dateFormat=ot.DATE_FORMAT,this.printStatus$=this.store.select(Pe.selectPrintStatus),this.billType$=this.store.select(Ot.selectBillType),this.icdCode$=this.store.select(Pe.selectIcdCode),this.diagnosisCodeList$=this.store.select(ri.selectdiagnosiscodesList),this.selectedPhysician$=this.store.select(Xt.selectPhysicians),this.selectedPayors$=this.store.select(Ot.selectPayorsDetail),this.referCode$=this.store.select(si.selectReferCode),this.branch$=this.store.select(Pe.selectBranch),this.placeOfServiceDropdown=[],this.PrintStatusDropDown$=this.store.select(Pe.selectPrintStatus).pipe(x(D=>D.map(f=>({code:f.code,description:f.description||f.code})))),this.tranType$=this.store.select(Pe.selectTranType).pipe(x(D=>D.map(f=>({code:f.code,description:f.description||f.code})))),this.primaryBillForm$=this.store.select(yi.selectPayorPrimaryBillForm).pipe(x(D=>D.map(f=>({name:f.code,value:f.code,description:f.description||f.code})))),this.claimType$=this.store.select(Pe.selectClaimType).pipe(x(D=>D.map(f=>({code:f.code,value:f.code,description:f.description||f.code})))),this.pwkType$=this.store.select(Pe.selectPwkType).pipe(x(D=>D.map(f=>({code:f.code,value:f.code,description:f.description||f.code})))),this.pwkMethod$=this.store.select(Pe.selectPwkMethod).pipe(x(D=>D.map(f=>({code:f.code,value:f.code,description:f.description||f.code}))));let C=Number(this.router.url.split("/")[3]);this.store.dispatch(Te.LoadPatientSalesRep()),this.store.dispatch(gt.BillTypeDropdown()),this.store.dispatch(Te.TranTypeDropdown()),this.store.dispatch(Te.ClaimTypeDropdown()),this.store.dispatch(Te.PwkTypeDropdown()),this.store.dispatch(Te.PwkMethodDropdown()),this.store.dispatch(vi.LoadPrimaryBillFormDropDown()),this.store.dispatch(qe.LoadPlaceOfServiceDropDown()),this.store.dispatch(Te.PrintStatusDropDown()),this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}}]}save(){let e=this.PaymentAdjustmentForm.value;e=this.auxUtilService.transFormValuesToUpperCase(e,["icn","description","mod1","mod2","mod3","mod4"]),e.itemCode===""&&(e.itemid=0),e=this.auxUtilService.transformBankStringToDefaultDate(e,["svcdate","servicedate","todate"]),e=this.auxUtilService.formatDateFields(e,["svcdate","todate","servicedate"]),e=this.auxUtilService.cleanData(e),this.store.dispatch(Ke.AddPaymentAdjustment({paymentAdjustment:e}))}ngOnInit(){this.PaymentAdjustmentForm=this._formBuilder.group({printstatus:[],payorName:[],payorid:[],billform:[],billto:[],id:[0],referCode:[],trantype:[],claimtype:[],svcdate:[],icn:[],batchno:[],checkno:[],payment:[],paymenttype:[],PrimaryPayorsName:[],checkdate:[],paponumber:[],patienticdid1:[],patientid:[],referid:[],patientdoctorid1:[],icd10code:[],pwktransmissioncode:[],pwktypecode:[],pwkattachmentcn:[],pwkccn:[],balance:[],tranamount:[],physician:[],salesid:[],branchid:[],submitted:[],allowed:[],mod1:[],mod2:[],mod3:[],mod4:[],tos:[],quantity:[],servicedate:[],todate:[],hcpcscode:[],description:[],itemcode:[],billtype:[],physicianFullName:[],itemid:[],patientpayorid:[],fieldservicerepid:[]}),this.route.paramMap.pipe(h(this)).subscribe(e=>{this.PaymentAdjustmentId=e.get("id"),this.PaymentAdjustmentId&&(this.store.dispatch(Ke.LoadPaymentAdjustmentsId({PaymentAdjustmentId:this.PaymentAdjustmentId})),this.PaymentAdjustmentForm.get("id").setValue(this.PaymentAdjustmentId),this.patchForm())}),this.billType$.pipe(h(this)).subscribe(e=>{this.billTypeDropDown=e}),this.PrintStatusDropDown$.pipe(h(this)).subscribe(e=>{this.PrintStatusDropDown=e}),this.tranType$.pipe(h(this)).subscribe(e=>{this.tranTypeDropdown=e}),this.primaryBillForm$.pipe(h(this)).subscribe(e=>{this.primaryBillFormdropdown=e}),this.claimType$.pipe(h(this)).subscribe(e=>{this.claimTypedropdown=e}),this.pwkType$.pipe(h(this)).subscribe(e=>{this.pwkTypeDropdown=e}),this.pwkMethod$.pipe(h(this)).subscribe(e=>{this.pwkMethodDropdown=e})}patchForm(){this.PaymentAdjustmentDetails$.pipe(h(this)).subscribe(e=>{if(e!=null){this.PayAdj=e[0];let i=[e[0].payorid];this.store.dispatch(Ut.LoadPatientPhysicians({id:e[0].patientid})),this.store.dispatch(Gt.LoadPatientDiagnosiscode({id:e[0].patientid})),this.store.dispatch(gt.LoadPayorDetails({id:i})),this.diagnosisCodeList$.pipe(h(this)).subscribe(u=>{u&&u.forEach(C=>{C.id==this.PayAdj.patienticdid1&&this.PaymentAdjustmentForm.get("icd10code")?.setValue(C.icd10code)})}),this.PayAdj.referid!==0&&this.PayAdj.referid?(this.store.dispatch(qe.LoadPatientReferrals()),this.store.dispatch(Ge.getReferCode({id:this.PayAdj.referid})),this.referCode$.pipe(h(this),Ai(u=>u!=null&&u!=="")).subscribe(u=>{this.store.select($e.selectReferralById(u.desciption)).pipe(h(this)).subscribe(C=>{if(C){this.referralData.company=C.company||"",this.referralData.firstName=C.firstName||"",this.referralData.lastName=C.lastName||"";let D=this.referralData.company?`${this.PayAdj.referid} - ${this.referralData.company}`:`${this.PayAdj.referid} - ${this.referralData.firstName} ${this.referralData.lastName}`;this.PaymentAdjustmentForm.get("referCode").setValue(D)}})})):this.PaymentAdjustmentForm.get("referCode").setValue(""),this.selectedPhysician$.pipe(h(this)).subscribe(u=>{u&&u.forEach(C=>{if(C.id==this.PayAdj.patientdoctorid1){let D=C.doctorId?`${C.doctorId} - ${C.firstName} ${C.lastName}`:`${C.firstName} ${C.lastName}`;this.PaymentAdjustmentForm.get("physician").setValue(D),this.PaymentAdjustmentForm.get("patientdoctorid1").setValue(C.id)}})}),this.selectedPayors$.pipe(h(this)).subscribe(u=>{if(u&&u!=null&&u.id===this.PaymentAdjustmentForm.get("payorid").value){let C=u.billto?`${u.id} - ${u.billto}`:`${u.billto} `;this.PaymentAdjustmentForm.get("payorName").setValue(C),this.PaymentAdjustmentForm.get("payorid").setValue(u.id),this.PaymentAdjustmentForm.get("billto").setValue(u.billto)}});let t=Je({},this.PayAdj);t.branchid=this.PayAdj.branchid.toString();let s="1900-01-01T00:00:00";["servicedate","todate","svcdate"].forEach(u=>{t[u]===s&&(t[u]="")}),this.PaymentAdjustmentForm.patchValue(t),te([this.branch$,this.PaymentAdjustmentForm.get("branchid").valueChanges.pipe(Q(this.PaymentAdjustmentForm.get("branchid").value))]).pipe(h(this)).subscribe(([u,C])=>{if(u&&Number(C)){let D=u.find(f=>f.id===Number(C));D&&this.onBranchSelected(D)}})}})}get selectedBillType(){return this.billTypeDropDown.find(e=>e.billType===this.PaymentAdjustmentForm.get("billtype")?.value)?.billType}get selectedPrintStatus(){return this.PrintStatusDropDown.find(e=>e.code===this.PaymentAdjustmentForm.get("printstatus")?.value)?.code}get selectedTranType(){return this.tranTypeDropdown.find(e=>e.code===this.PaymentAdjustmentForm.get("trantype")?.value)?.code}get selectedPrimaryBillForm(){return this.primaryBillFormdropdown.find(e=>e.value===this.PaymentAdjustmentForm.get("billform")?.value)?.name}get selectedClaimType(){return this.claimTypedropdown?.find(e=>e.code===this.PaymentAdjustmentForm.get("claimtype")?.value)?.code}get selectedPwkType(){return this.pwkTypeDropdown.find(e=>e.code===this.PaymentAdjustmentForm.get("pwktypecode")?.value)?.code}get selectedPwkMethod(){return this.pwkMethodDropdown.find(e=>e.code===this.PaymentAdjustmentForm.get("pwktransmissioncode")?.value)?.code}openDiagnosisCodePopup(){let e={icon:"mat_outline:edit_note",title:"Select Diagnosis Codes",cancelButtonText:"Cancel",saveButtonText:"Select Diagnosis Codes",dynamicComponent:_i,dynamicComponentData:null,submitFunction:"submitSelectedCode",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",minHeight:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.PaymentAdjustmentForm.get("patienticdid1").setValue(t.id),this.PaymentAdjustmentForm.get("icd10code").setValue(t.icd10code))})}openAssignedPhysicianList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Physician",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:li,dynamicComponentData:this.PaymentAdjustmentForm.get("patientid").value,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"auto",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{if(t){let s=t.doctorId?`${t.doctorId} - ${t.firstName} ${t.lastName}`:`${t.firstName} ${t.lastName}`;this.PaymentAdjustmentForm.get("physician").setValue(s),this.PaymentAdjustmentForm.get("patientdoctorid1").setValue(t.id)}})}openPayorsList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Payors",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Zt,dynamicComponentData:this.PaymentAdjustmentForm.get("patientid").value,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"50%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{if(t){let s=t.payorId?`${t.payorId} - ${t.billTo}`:`${t.billTo} `;this.PaymentAdjustmentForm.get("payorName").setValue(s),this.PaymentAdjustmentForm.get("patientpayorid").setValue(t.id),this.PaymentAdjustmentForm.get("payorid").setValue(t.payorId),this.PaymentAdjustmentForm.get("billto").setValue(t.billto)}})}openReferralList(){let e={icon:"mat_outline:edit_note",title:"Select Referral From",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:wi,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"60%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{if(t){this.referralData.company=t.company||"",this.referralData.firstName=t.firstName||"",this.referralData.lastName=t.lastName||"";let s=this.referralData.company?`${t.id} - ${this.referralData.company}`:`${t.id} - ${this.referralData.firstName} ${this.referralData.lastName}`;this.PaymentAdjustmentForm.get("referCode").setValue(s),this.PaymentAdjustmentForm.get("referid").setValue(t.id),this.PaymentAdjustmentForm.get("salesid").setValue(t.salesId),this.PaymentAdjustmentForm.get("fieldservicerepid").setValue(t.salesId)}})}backToListing(){window.history.back()}openItemList(){let e={icon:"mat_outline:edit_note",title:"Select Item Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:fi,dynamicComponentData:{itemCode:this.PaymentAdjustmentForm.get("itemcode").value},submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:e}).afterClosed().subscribe(t=>{t&&(this.PaymentAdjustmentForm.get("itemcode").setValue(t.itemcode),this.PaymentAdjustmentForm.get("description").setValue(t.description),this.PaymentAdjustmentForm.get("itemid").setValue(t.id))})}openAdjustmentCodeList(e){let i={icon:"mat_outline:edit_note",title:"Select Adjustment Code",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:aa,dynamicComponentData:{amtadjustedCode:this.PaymentAdjustmentForm.get(e).value},submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:i}).afterClosed().subscribe(s=>{s&&this.PaymentAdjustmentForm.get(e).setValue(s.code)})}onDateChange(e,i){this.PaymentAdjustmentForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.PaymentAdjustmentForm,i)}onBranchSelected(e){let i=e;this.PaymentAdjustmentForm.get("branchid").setValue(i.id,{emitEvent:!1}),this.branchName.setValue(i.branchcode)}static{this.\u0275fac=function(i){return new(i||ur)(p(st),p(F),p(z),p(K),p(ke),p(O))}}static{this.\u0275cmp=A({type:ur,selectors:[["app-patient-subsequent-payments-edit"]],decls:154,vars:57,consts:[["serviceDate","matDatepicker"],["toDate","matDatepicker"],["autoInput",""],["auto2","matAutocomplete"],["AuthToDate","matDatepicker"],[1,"model-contain","w-full",3,"formGroup"],[1,"flex","w-full","items-center","bg-white","p-3","shadow","dark:bg-transparent"],[3,"click"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"svgIcon"],[1,"status","ml-3","flex","flex-none","items-center","rounded","bg-primary-100","px-3","py-1.5","text-xs","font-medium","text-accent-600"],[3,"navigation","name"],[1,"patient-inquiry","w-full","p-1","md:flex","md:flex-wrap","lg:flex-nowrap"],[1,"mr-2","w-full"],[1,"bg-white","p-2","shadow","dark:bg-transparent"],[1,"grid","gap-y-1"],[1,"pb-2","pt-2"],[1,"flex","items-center","gap-x-2"],[1,"w-56","text-right"],["appearance","outline",1,"m-0","w-36"],["matInput","",3,"change","matDatepicker","placeholder","formControlName"],["matIconSuffix","",3,"for"],[1,"m-0"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","ml-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"flex","items-center"],["appearance","outline",1,"m-0","w-40"],[1,"w-1/6","pr-2"],["matInput","",1,"uppercase",3,"formControlName"],["appearance","outline",1,"w-1/6"],[3,"formControlName","panelClass"],[3,"value"],["formControlName","patientpayorid",1,"w-56","justify-end",3,"color"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],[1,"",3,"color"],[1,"mt-2","w-full","md:mr-2","md:mt-2","lg:mr-0","lg:mt-0"],[1,"w-36","text-right"],["matInput","","type","text","tabindex","4",1,"uppercase",3,"formControl","matAutocomplete"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[1,"w-48"],["matInput","","formControlName","batchno",1,"uppercase"],[1,"w-40"],["matInput","","formControlName","checkno",1,"uppercase"],[1,"pr-2"],[1,"m-0","w-30"],["appearance","outline",1,"w-2/12"],["matInput","","formControlName","adjustmentcode2",1,"uppercase"],["matInput","","formControlName","amountadjusted2",1,"uppercase"],["appearance","outline",1,"w-30"],["matInput","","formControlName","adduserid",1,"uppercase"],[1,"pb-2","pt-4"],[1,"flex","gap-6"],[1,"font-extrabold"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",5)(1,"div",6)(2,"div",7),v("click",function(){return P(s),_(t.backToListing())}),c(3,"mat-icon",8),a(),R(4,np,2,1,"p",9),c(5,"fuse-horizontal-navigation",10),a(),n(6,"div",11)(7,"div",12)(8,"div",13)(9,"div",14),c(10,"div",15),n(11,"div",16)(12,"label",17),l(13,"Service Date:"),a(),n(14,"mat-form-field",18)(15,"input",19),v("change",function(u){return P(s),_(t.onDateChange(u,"svcdate"))}),a(),c(16,"mat-datepicker-toggle",20)(17,"mat-datepicker",null,0),a()(),n(19,"div",16)(20,"label",17),l(21,"Post Date:"),a(),n(22,"mat-form-field",18)(23,"input",19),v("change",function(u){return P(s),_(t.onDateChange(u,"todate"))}),a(),c(24,"mat-datepicker-toggle",20)(25,"mat-datepicker",null,1),a()(),n(27,"div",16)(28,"label",17),l(29,"Item code:"),a(),n(30,"mat-form-field",21),c(31,"input",22),a(),n(32,"mat-icon",23),v("click",function(){return P(s),_(t.openItemList())}),a()(),n(33,"div",16)(34,"label",17),l(35,"Bill-To:"),a(),n(36,"div",24)(37,"mat-form-field",25),c(38,"input",22),a(),n(39,"mat-icon",23),v("click",function(){return P(s),_(t.openPayorsList())}),a()()(),n(40,"div",16)(41,"label",17),l(42,"Procedure:"),a(),n(43,"mat-form-field",26),c(44,"input",27),a()(),n(45,"div",16)(46,"mat-label",17),l(47,"Bill Type:"),a(),n(48,"mat-form-field",28)(49,"mat-select",29)(50,"mat-select-trigger"),l(51),a(),ae(52,op,5,3,"mat-option",30,de),w(54,"async"),a()()(),n(55,"div",16)(56,"label",17),l(57,"Tran Type:"),a(),n(58,"mat-form-field",28)(59,"mat-select",29)(60,"mat-select-trigger"),l(61),a(),ae(62,rp,5,3,"mat-option",30,de),w(64,"async"),a()()(),n(65,"div",16)(66,"label",17),l(67,"Print Status:"),a(),n(68,"mat-form-field",28)(69,"mat-select",29)(70,"mat-select-trigger"),l(71),a(),ae(72,sp,5,3,"mat-option",30,de),w(74,"async"),a()()(),n(75,"div",16)(76,"mat-checkbox",31),l(77," To patient:"),a(),n(78,"mat-form-field",28),c(79,"input",27),a(),n(80,"mat-icon",32),v("click",function(){return P(s),_(t.openPayorsList())}),a()(),n(81,"div",16)(82,"mat-checkbox",31),l(83," To other:"),a(),n(84,"mat-form-field",28),c(85,"input",27),a(),n(86,"mat-icon",32),v("click",function(){return P(s),_(t.openPayorsList())}),a()(),n(87,"div",16)(88,"label",17),l(89,"Retain Same Payor:"),a(),c(90,"mat-checkbox",33),a(),c(91,"div",15),a()()(),n(92,"div",34)(93,"div",13)(94,"div",14),c(95,"div",15),n(96,"div",16)(97,"label",35),l(98,"Branch:"),a(),n(99,"mat-form-field",18),c(100,"input",36,2),n(102,"mat-autocomplete",37,3),v("optionSelected",function(u){return P(s),_(t.onBranchSelected(u.option.value))}),R(104,lp,2,2,"mat-option",38),w(105,"async"),a()()(),n(106,"div",16)(107,"label",35),l(108,"Batch:"),a(),n(109,"mat-form-field",39),c(110,"input",40),a()(),n(111,"div",16)(112,"label",35),l(113,"Check #:"),a(),n(114,"mat-form-field",41),c(115,"input",42),a()(),n(116,"div",16)(117,"label",35),l(118,"Check Date:"),a(),n(119,"mat-form-field",43)(120,"input",19),v("change",function(u){return P(s),_(t.onDateChange(u,"checkdate"))}),a(),c(121,"mat-datepicker-toggle",20)(122,"mat-datepicker",null,4),R(124,mp,2,1,"mat-error"),a()(),n(125,"div",16)(126,"label",35),l(127,"Previous Balance:"),a(),n(128,"mat-form-field",26),c(129,"input",27),a()(),n(130,"div",16)(131,"label",35),l(132,"Payment:"),a(),n(133,"mat-form-field",26),c(134,"input",27),a()(),n(135,"div",16)(136,"label",35),l(137,"Payment Type:"),a(),n(138,"mat-form-field",44),c(139,"mat-select",29),a()(),n(140,"div",16)(141,"label",35),l(142,"Adjustment:"),a(),n(143,"mat-form-field",45),c(144,"input",46),a(),n(145,"mat-icon",23),v("click",function(){return P(s),_(t.openAdjustmentCodeList("adjustmentcode2"))}),a(),n(146,"mat-form-field",45),c(147,"input",47),a()(),n(148,"div",16)(149,"label",35),l(150,"Edited By:"),a(),n(151,"mat-form-field",48),c(152,"input",49),a()(),c(153,"div",50),a()()()()()}if(i&2){let s=Y(18),m=Y(26),u=Y(103),C=Y(123);r("formGroup",t.PaymentAdjustmentForm),o(3),r("svgIcon","heroicons_solid:arrow-left"),o(),B(t.PaymentAdjustmentId!==null?4:-1),o(),r("navigation",t.toolbarData)("name","patient-toolbar"),o(10),r("matDatepicker",s)("placeholder",t.dateFormat)("formControlName","svcdate"),o(),r("for",s),o(7),r("matDatepicker",m)("placeholder",t.dateFormat)("formControlName","todate"),o(),r("for",m),o(7),r("readonly",!1)("formControlName","itemcode"),o(),r("svgIcon","heroicons_solid:download"),o(6),r("readonly",!1)("formControlName","payorName"),o(),r("svgIcon","heroicons_solid:download"),o(5),r("formControlName","hcpcscode"),o(5),r("formControlName","billtype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedBillType),o(),ne(I(54,49,t.billType$)),o(7),r("formControlName","trantype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedTranType),o(),ne(I(64,51,t.tranType$)),o(7),r("formControlName","printstatus")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(2),$(t.selectedPrintStatus),o(),ne(I(74,53,t.PrintStatusDropDown$)),o(4),r("color","primary"),o(3),r("formControlName","PrimaryPayorsName"),o(),r("svgIcon","heroicons_solid:download"),o(2),r("color","primary"),o(3),r("formControlName","coPayorsName"),o(),r("svgIcon","heroicons_solid:download"),o(4),r("color","primary"),o(10),r("formControl",t.branchName)("matAutocomplete",u),o(4),r("ngForOf",I(105,55,t.branch$)),o(16),r("matDatepicker",C)("placeholder",t.dateFormat)("formControlName","checkdate"),o(),r("for",C),o(3),B(t.PaymentAdjustmentForm.get("checkdate").hasError("notValidDate")?124:-1),o(5),r("formControlName","balance"),o(5),r("formControlName","payment"),o(5),r("formControlName","paymenttype")("panelClass","w-72 min-w-72 max-w-96 h-auto max-h-none"),o(6),r("svgIcon","heroicons_solid:download")}},dependencies:[ye,Re,Z,fe,De,he,_e,$t,we,Ne,Ee,Ie,Vt,lt,Fe,St,Pt,mt,xt,Ze,Et,pi,Qt,_t,G],styles:[".patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-wrapper{padding:0!important;margin:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-form-field-flex{min-height:30px!important;padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-infix{padding-top:0!important;padding-bottom:0!important;min-height:0px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding-top:0!important;padding-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-mdc-form-field{margin-top:0!important;margin-bottom:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{margin:0!important;padding:0!important;min-height:0!important;height:0!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-bottom-align:after{display:none!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field input[matDatepicker]{height:30px!important;line-height:30px!important;padding:0 8px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle{height:30px!important;width:30px!important;display:flex!important;align-items:center!important;justify-content:center!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-datepicker-toggle .mat-datepicker-toggle-default-icon{width:16px!important;height:16px!important}.patient-inquiry[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{height:30px!important;display:flex!important;align-items:center!important}.patient-inquiry[_ngcontent-%COMP%]   aux-select-dropdown[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{margin-top:0!important}"]})}};Rn=N([k()],Rn);function dp(d,e){d&1&&(n(0,"mat-error"),l(1," Payor Filed Is Required "),a())}var $n=class hr{constructor(e,i,t,s,m,u){this.fb=e,this._matDialogRef=i,this.matDialog=t,this.route=s,this.store=m,this.auxUtilService=u,this.rank=[{name:1,value:1},{name:2,value:2},{name:3,value:3},{name:4,value:4},{name:5,value:5},{name:6,value:6},{name:7,value:7},{name:8,value:8},{name:9,value:9}],this.dropDownOption=[{name:"SELF",value:8}],this.payorsForm=this.fb.group({id:[0],rank:[1],patientId:[""],payorId:[""],payorName:["",[et.required]],policy:[""]})}ngOnInit(){this.getPatientId=Number(this.route.url.split("/")[3]),this.payorsForm.get("patientId").setValue(this.getPatientId),this.store.select(Pi.selectPayors).pipe(zt(1),h(this)).subscribe(e=>{let i=e.map(t=>t.rank).filter(t=>t!==9);this.rank=this.rank.filter(t=>!i.includes(t.value)||t.value===9),this.rank.length>0&&this.payorsForm.get("rank").setValue(this.rank[0].value)})}close(){this._matDialogRef.close()}save(){if(this.payorsForm.invalid)return;let e=this.payorsForm.value;e=this.auxUtilService.transFormValuesToUpperCase(e,["policy"]),delete e.payorName,this.store.dispatch(gi.AddPatientPayors({payors:e})),this._matDialogRef.close()}openPayorList(){let e={icon:"mat_outline:edit_note",title:"Select Payor for patient:"+this.getPatientId,cancelButtonText:"Cancel",saveButtonText:"Select Payor",dynamicComponent:La,dynamicComponentData:null,submitFunction:"selectRow",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.payorsForm.get("payorName").setValue(t.name),this.payorsForm.get("payorId").setValue(t.id))})}static{this.\u0275fac=function(i){return new(i||hr)(p(bt),p(Be),p(z),p(O),p(F),p(ke))}}static{this.\u0275cmp=A({type:hr,selectors:[["app-patient-payors-add"]],decls:13,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-y-auto","p-6","sm:p-8",3,"formGroup"],[3,"className","label","selectOption","controlName","matForm"],[1,"align-center","flex"],[1,"w-11/12","pr-2"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","cursor-pointer","sm:flex",3,"click","svgIcon"],["matInput","",1,"uppercase",3,"formControlName"]],template:function(i,t){i&1&&(n(0,"form",0),c(1,"aux-select-dropdown",1),n(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),l(5,"Payor"),a(),c(6,"input",4),R(7,dp,2,0,"mat-error"),a(),n(8,"mat-icon",5),v("click",function(){return t.openPayorList()}),a()(),n(9,"mat-form-field")(10,"mat-label"),l(11,"Policy"),a(),c(12,"input",6),a()()),i&2&&(r("formGroup",t.payorsForm),o(),r("className","w-full pr-2")("label","Rank")("selectOption",t.rank)("controlName","rank")("matForm",t.payorsForm),o(5),r("readonly",!0)("formControlName","payorName"),o(),B(t.payorsForm.get("payorName").hasError("required")?7:-1),o(),r("svgIcon","heroicons_solid:download"),o(4),r("formControlName","policy"))},dependencies:[fe,Oe,De,he,_e,we,Ne,Ft,Ee,Ie,Fe,Dt,ye,Re],styles:[".align-center[_ngcontent-%COMP%]{align-items:baseline}"],changeDetection:0})}};$n=N([k()],$n);var Bn=class fr{constructor(e,i,t,s,m,u){this.data=e,this.fb=i,this.store=t,this._matDialogRef=s,this.auxUtilService=m,this.route=u,this.rank=[{name:1,value:1},{name:2,value:2},{name:3,value:3},{name:4,value:4},{name:5,value:5},{name:6,value:6},{name:7,value:7},{name:8,value:8},{name:9,value:9}],this.payorData=e.dynamicComponentData,this.payorForm=this.fb.group({id:[""],rank:[1],policy:[""],payorId:[""],patientId:[""]})}ngOnInit(){this.payorData&&(this.payorForm.patchValue(this.payorData),this.payorForm.get("patientId").setValue(Number(this.route.url.split("/")[3])),this.store.select(Pi.selectPayors).pipe(zt(1),h(this)).subscribe(e=>{let i=e.filter(t=>t.id!==this.payorData.id).map(t=>t.rank).filter(t=>t!==9);this.rank=this.rank.filter(t=>!i.includes(t.value)||t.value===9)}))}close(){this._matDialogRef.close(),this.payorForm.patchValue(this.payorData)}update(){if(this.payorForm.invalid)return;let e=this.payorForm.value;e=this.auxUtilService.transFormValuesToUpperCase(e,["policy"]),this.store.dispatch(gi.AddPatientPayors({payors:e})),this.close()}static{this.\u0275fac=function(i){return new(i||fr)(p(nt,8),p(bt),p(F),p(Be),p(ke),p(O))}}static{this.\u0275cmp=A({type:fr,selectors:[["app-patient-payors-edit"]],decls:8,vars:7,consts:[[1,"relative","flex","flex-auto","flex-col","items-center"],[1,"w-full"],[1,"flex","flex-auto","flex-col","overflow-y-auto","p-6",3,"formGroup"],[3,"className","label","selectOption","controlName","matForm"],["matInput","",1,"uppercase",3,"formControlName"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"form",2),c(3,"aux-select-dropdown",3),n(4,"mat-form-field")(5,"mat-label"),l(6,"Policy"),a(),c(7,"input",4),a()()()()),i&2&&(o(2),r("formGroup",t.payorForm),o(),r("className","w-full pr-2")("label","Rank")("selectOption",t.rank)("controlName","rank")("matForm",t.payorForm),o(4),r("formControlName","policy"))},dependencies:[fe,Oe,De,he,_e,we,Ne,Ft,Ee,Ie,Fe],encapsulation:2})}};Bn=N([k()],Bn);var Vn=class gr{constructor(e,i,t,s,m,u,C,D,f){this._fuseConfirmationService=e,this.router=i,this.route=t,this.store=s,this.actions$=m,this._matDialog=u,this.currancy=C,this.phonenumber=D,this.titleService=f,this.isAction=!1,this.data$=this.store.select(Pi.selectPayors),this.loading$=this.store.select(Pi.selectLoading),this.visibleColumns=["rank","id","payorId","billTo","name","policy","deductibleAmount","copayAmount","phone","city","state","actions"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.rowData=[],this.options={gridOptions:{rowDragManaged:!1,rowDragEntireRow:!0,rowDragMultiRow:!0,rowSelection:"multiple"},defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"Rank",cellRenderer:"agGroupCellRenderer",cellClass:"custom",cellStyle:y=>y.data.rank==9?{"pointer-events":"none",opacity:"0.4"}:null,cellRendererParams:{innerRenderer:function(y){return`<div class="flex items-start"><span class="mr-1"><i class="material-icons">drag_handle</i></span>${y.value}</div>`}},minWidth:70,field:"rank",sortIndex:2,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"Id",minWidth:70,field:"id",filter:"agMultiColumnFilter",sortIndex:1,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"Payor Id",minWidth:85,field:"payorId",filter:"agMultiColumnFilter",sortIndex:1,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"Payor",minWidth:130,field:"billTo",filter:"agMultiColumnFilter",sortIndex:3,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"Name",minWidth:275,field:"name",filter:"agTextColumnFilter",sortIndex:4,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"Policy",minWidth:135,field:"policy",filter:"agTextColumnFilter",cellClass:y=>{if(y.data.policy==="")return"bg-red-400"},sortIndex:5,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"Deductible",minWidth:95,field:"deductibleAmount",valueFormatter:y=>this.currancy.transform(y.data.deductibleAmount,"USD","symbol"),filter:"agMultiColumnFilter",sortIndex:6,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"Copay",minWidth:90,field:"copayAmount",valueFormatter:y=>this.currancy.transform(y.data.copayAmount,"USD","symbol"),filter:"agMultiColumnFilter",sortIndex:7,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"Phone",minWidth:150,field:"phone",cellRenderer:hi,cellRendererParams:{field:"phone"},valueFormatter:y=>this.phonenumber.transform(y.data.phone),filter:"agMultiColumnFilter",sortIndex:8,hide:!1},{headerName:"Address",minWidth:160,field:"address",filter:"agTextColumnFilter",sortIndex:9,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"City",minWidth:115,field:"city",filter:"agTextColumnFilter",sortIndex:10,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"State",minWidth:70,field:"state",filter:"agTextColumnFilter",sortIndex:11,hide:!1,onCellClicked:y=>this.openPayors(y)},{headerName:"Actions",minWidth:80,field:"actions",cellRenderer:Lt,cellRendererParams:{menuItems:[{name:"Remove Payor",action:this.delete.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},sortIndex:1,hide:!1}],this.toolbarData=[{title:"Assign Payor",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.assignPayor()}},{title:"View Contact Notes",type:"basic",icon:"mat_outline:speaker_notes",function:()=>{this.viewPatientNotes()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.patientId=Number(this.router.url.split("/")[3]),this.store.dispatch(gi.LoadPatientPayors({id:this.patientId})),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e}),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(([e])=>{this.store.dispatch(gi.LoadPatientPayors({id:+e.get("id")}))}),this.actions$.pipe(b(gi.Refresh),h(this)).subscribe(e=>{this.refresh.next(e)})}ngAfterViewInit(){}assignPayor(){let e={icon:"mat_outline:edit_note",title:"Add Payor for patient # "+this.patientId,cancelButtonText:"Cancel",saveButtonText:"Add Payor",dynamicComponent:$n,dynamicComponentData:null,submitFunction:"save",enterKeyEnabled:!0},i=this._matDialog.open(E,{width:"700px",height:"auto",data:e})}delete(e){this.deletePayors(e.data)}deletePayors(e){this._fuseConfirmationService.open({title:"Remove Payor",message:"Are you sure you want to Remove this Payor? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{t==="confirmed"&&this.store.dispatch(gi.DeletePatientPayor({dto:e}))})}openPayors(e){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"UPDATE PAYOR DETAIL",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Bn,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"update",enterKeyEnabled:!0};this._matDialog.open(E,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(h(this)).subscribe(t=>{this.refresh.next(null),e.api.clearFocusedCell()})}navigatePayorDetails(e){this.router.navigateByUrl(`/centers/payor-center/${e.data.payorId}/demographics`)}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this._matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}onRowDragEnd(e){if(this.rowUpdateRankData=[],(e?.nodes.map(s=>s.data))[0].rank===9)return;let t=e?.node?.parent?.childrenAfterFilter;this.rowUpdateRankData=t.map(s=>s.data),this.updatePayorsRank()}onGridReady(e){this.gridApi=e.api}updatePayorsRank(){let e=this.rowUpdateRankData.map(i=>({patientId:this.patientId,payorId:i.payorId,rank:i.rank,id:i.id}));this.store.dispatch(gi.UpdatePatientPayors({payors:{payorRanks:e}})),this.rowUpdateRankData=[]}static{this.\u0275fac=function(i){return new(i||gr)(p(ge),p(O),p(K),p(F),p(L),p(z),p(ci),p(Wt),p(le))}}static{this.\u0275cmp=A({type:gr,selectors:[["app-patient-payors-table"]],decls:6,vars:12,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"gridReady","RowDragEndEvent","gridOptions","rowData","component","columnDefs","agGridHeight","paginatorOption","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("gridReady",function(m){return t.onGridReady(m)})("RowDragEndEvent",function(m){return t.onRowDragEnd(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("component","patientPayorTable")("columnDefs",t.columnDefs)("agGridHeight","calc(100vh - 379px)")("paginatorOption",t.paginationOptions)("visibleColumns",t.visibleColumns)("loading",I(5,10,t.loading$)))},dependencies:[Z,se,G],styles:[".custom .ag-cell-wrapper .ag-cell-value .ag-row-group-leaf-indent{margin-left:0!important}"]})}};Vn=N([k()],Vn);var pp=d=>({"min-h-80":d}),Ln=class Cr{constructor(e,i,t,s,m){this.store=e,this.cdr=i,this._matDialog=t,this.searchService=s,this.phoneNumberPipe=m,this.rowData=[],this.paginationOption={pageSize:20,pageSizeOptions:[5,10,20,50]},this.data$=this.store.select(Xt.selectPhysiciansList),this.loading$=this.store.select(Xt.selectLoading),this.columnDefs=[{headerName:"Id",width:105,field:"id",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Phy Key",width:125,field:"phykey",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"NPI",width:125,field:"npi",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Last Name",width:200,field:"lastname",sort:"desc",filter:"agMultiColumnFilter",sortIndex:2,hide:!1},{headerName:"First Name",width:200,field:"firstname",sort:"desc",filter:"agMultiColumnFilter",sortIndex:2,hide:!1},{headerName:"Phone",cellRenderer:hi,cellRendererParams:{field:"phone"},valueFormatter:u=>this.phoneNumberPipe.transform(u.data.phone),width:150,field:"phone",sort:"desc",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"Taxonomy",width:190,field:"taxonomy",sort:"desc",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"UPIN",width:190,field:"upin",sort:"desc",filter:"agMultiColumnFilter",sortIndex:6,hide:!1}],this.displayedColumns=["id","phykey","npi","lastname","firstname","phone","address1","phone","taxonomy","upin"]}ngOnInit(){Promise.resolve().then(()=>{this.store.dispatch(Ut.LoadPatientPhysiciansList()),this.data$.pipe(h(this)).subscribe(e=>{e&&(this.rowData=e,this.cdr.detectChanges())})})}selectRow(e){this._matDialog.close(e),this.clearFilter()}ngAfterViewInit(){}onSelectionChanged(e){this.selectRow(e.api.getSelectedRows()[0])}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(i){return new(i||Cr)(p(F),p(ce),p(Be),p(be),p(Wt))}}static{this.\u0275cmp=A({type:Cr,selectors:[["app-patient-physician-list"]],features:[re([Wt])],decls:5,vars:13,consts:[[1,"relative","rounded","bg-white","shadow"],[1,"relative","bg-white",3,"ngClass"],[3,"rowSelectionChange","rowData","paginatorOption","component","columnDefs","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),w(2,"async"),n(3,"aux-ag-grid",2),w(4,"async"),v("rowSelectionChange",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(),r("ngClass",We(11,pp,I(2,7,t.loading$))),o(2),r("rowData",t.rowData)("paginatorOption",t.paginationOption)("component","patientPhysicanList")("columnDefs",t.columnDefs)("visibleColumns",t.displayedColumns)("loading",I(4,9,t.loading$)))},dependencies:[Rt,se,G],encapsulation:2})}};Ln=N([k()],Ln);function cp(d,e){d&1&&(n(0,"mat-error"),l(1,"Physician Filed Is Required "),a())}var Wn=class vr{constructor(e,i,t,s,m,u,C){this.store=e,this.fb=i,this.matDialog=t,this.auxUtilService=s,this._matDialogRef=m,this.searchService=u,this.route=C,this.orderList=[{name:1,value:1},{name:2,value:2},{name:3,value:3},{name:4,value:4},{name:5,value:5},{name:6,value:6},{name:7,value:7},{name:8,value:8},{name:9,value:9},{name:10,value:10}],this.typeList=[{name:"RENDERING",value:"RENDERING"},{name:"REFERRING",value:"REFERRING"},{name:"BOTH",value:"BOTH"}],this.physicianForm=this.fb.group({physicianame:["",[et.required]],patientId:[""],doctorId:[""],id:[0],order:[1],type:[""],addUserId:[""]})}ngOnInit(){this.getPatientId=Number(this.route.url.split("/")[3]),this.physicianForm.get("patientId").setValue(this.getPatientId),this.store.select(Xt.selectPhysicians).pipe(zt(1),h(this)).subscribe(e=>{let i=e.map(t=>t.order);this.orderList=this.orderList.filter(t=>!i.includes(t.value)),this.orderList.length>0&&this.physicianForm.get("order").setValue(this.orderList[0].value)})}openPhysicianList(){let e={icon:"mat_outline:edit_note",title:"Select Physician",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Ln,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"70%",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.physicianForm.get("doctorId").setValue(t.id),this.physicianForm.get("physicianame").setValue(t.firstname))})}save(){if(this.physicianForm.invalid)return;let e=this.physicianForm.value;e=this.auxUtilService.transFormValuesToUpperCase(e,["type"]),delete e.physicianame,this.store.dispatch(Ut.AddPatientPhysicians({physicians:e})),this._matDialogRef.close()}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(i){return new(i||vr)(p(F),p(bt),p(z),p(ke),p(Be),p(be),p(O))}}static{this.\u0275cmp=A({type:vr,selectors:[["app-patient-physician-add"]],decls:10,vars:15,consts:[[1,"flex","flex-auto","flex-col","p-6","sm:p-8",3,"formGroup"],[3,"className","label","selectOption","controlName","matForm"],[1,"align-center","flex","items-baseline"],[1,"w-11/12","pr-2"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","cursor-pointer","sm:flex",3,"click","svgIcon"]],template:function(i,t){i&1&&(n(0,"form",0),c(1,"aux-select-dropdown",1),n(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),l(5,"Physician"),a(),c(6,"input",4),R(7,cp,2,0,"mat-error"),a(),n(8,"mat-icon",5),v("click",function(){return t.openPhysicianList()}),a()(),c(9,"aux-select-dropdown",1),a()),i&2&&(r("formGroup",t.physicianForm),o(),r("className","w-full pr-2")("label","Order")("selectOption",t.orderList)("controlName","order")("matForm",t.physicianForm),o(5),r("readonly",!0)("formControlName","physicianame"),o(),B(t.physicianForm.get("physicianame").hasError("required")?7:-1),o(),r("svgIcon","heroicons_solid:download"),o(),r("className","w-full pr-2")("label","Type")("selectOption",t.typeList)("controlName","type")("matForm",t.physicianForm))},dependencies:[fe,Oe,De,he,_e,we,Ne,Ft,Ee,Ie,Fe,Dt,ye,Re],encapsulation:2})}};Wn=N([k()],Wn);var Gn=class yr{constructor(e,i,t,s,m,u,C,D,f){this.store=e,this.router=i,this.titleService=t,this._fuseConfirmationService=s,this._matDialog=m,this.route=u,this.auxUtilService=C,this.actions$=D,this.phoneNumberPipe=f,this.rowData=[],this.options={gridOptions:{rowDragManaged:!0,rowDragEntireRow:!0,rowDragMultiRow:!0,rowSelection:"multiple"},defaultColDef:{flex:1,filter:!0,sortable:!0}},this.columnDefs=[{headerName:"Id",minWidth:60,field:"id",sortIndex:1,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"Dr Id",cellRenderer:"agGroupCellRenderer",cellClass:"custom",cellRendererParams:{innerRenderer:function(y){return`<div class="flex items-start"><span class="mr-1"><i class="material-icons">drag_handle</i></span>${y.value}</div>`}},rowDrag:!0,minWidth:80,field:"doctorId",sortIndex:2,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"Order",minWidth:70,field:"order",sortIndex:6,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"Phy Key",minWidth:100,field:"phykey",filter:"agMultiColumnFilter",sortIndex:2,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"First Name",minWidth:150,field:"firstName",filter:"agMultiColumnFilter",sortIndex:4,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"Last Name",minWidth:150,field:"lastName",filter:"agMultiColumnFilter",sortIndex:5,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"NPI",minWidth:150,field:"npi",filter:"agMultiColumnFilter",sortIndex:5,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"Phone",minWidth:150,field:"phone",cellRenderer:hi,cellRendererParams:{field:"phone"},valueFormatter:y=>this.phoneNumberPipe.transform(y.data.phone),filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Fax",minWidth:150,field:"fax",valueFormatter:y=>this.phoneNumberPipe.transform(y.data.fax),filter:"agMultiColumnFilter",sortIndex:1,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"Pecos",minWidth:70,field:"pecos",filter:"agMultiColumnFilter",sortIndex:8,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"State",minWidth:70,field:"state",filter:"agMultiColumnFilter",sortIndex:8,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"Zip",minWidth:75,field:"zip",filter:"agMultiColumnFilter",sortIndex:9,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"Is Active",minWidth:100,field:"isActive",sortIndex:1,hide:!1,onCellClicked:y=>this.openPhysicians(y)},{headerName:"Actions",minWidth:150,field:"actions",cellRenderer:Lt,cellRendererParams:{menuItems:[{name:"Edit Physician",action:this.navigatePhysicianDetails.bind(this),icon:"mat_outline:edit_note",color:"text-green-500"},{name:"Remove Physician",action:this.delete.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},sortIndex:1,hide:!1}],this.data$=this.store.select(Xt.selectPhysicians),this.loading$=this.store.select(Xt.selectLoading),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.visibleColumns=["doctorId","firstName","lastName","npi","phone","fax","pecos","state","zip","order","actions"],this.paginationOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.toolbarData=[{title:"Assign Physician",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.save()}},{title:"View Contact Notes",type:"basic",icon:"mat_outline:speaker_notes",function:()=>{this.viewPatientNotes()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title);let e=Number(this.router.url.split("/")[3]);this.store.dispatch(Ut.LoadPatientPhysicians({id:e})),this.data$.pipe(h(this)).subscribe(i=>{this.rowData=i}),te([this.route.parent.paramMap,this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(([i])=>{this.store.dispatch(Ut.LoadPatientPhysicians({id:+i.get("id")}))}),this.actions$.pipe(b(Ut.Refresh),h(this)).subscribe(i=>{this.refresh.next(i)})}delete(e){this.deletePayors(e.data)}navigatePhysicianDetails(e){this.router.navigateByUrl(`/centers/physician-center/${e.data.doctorId}/demographics`)}deletePayors(e){this._fuseConfirmationService.open({title:"Remove Physician",message:"Are you sure you want to Remove this physician? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{if(t==="confirmed"){let s={id:e.id};this.store.dispatch(Ut.DeletePatientPhysicians({dto:s}))}})}openPhysicians(e){}save(){let i={icon:"mat_outline:edit_note",title:"Add Physician:"+this.router.url.split("/")[3],cancelButtonText:"Cancel",saveButtonText:"Add Physician",dynamicComponent:Wn,dynamicComponentData:null,submitFunction:"save",enterKeyEnabled:!0},t=this._matDialog.open(E,{width:"700px",height:"auto",data:i})}onRowDragEnd(e){let s=(e?.node?.parent?.childrenAfterFilter).map(m=>m.data).map((m,u)=>{let C=ai(Je({},m),{order:u+1,addUserId:""});return this.auxUtilService.transFormValuesToUpperCase(C,["type"])});this.store.dispatch(Ut.UpdatePatientPhysicians({physicians:s}))}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this._matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this._matDialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||yr)(p(F),p(O),p(le),p(ge),p(z),p(K),p(ke),p(L),p(Wt))}}static{this.\u0275cmp=A({type:yr,selectors:[["app-patient-physicians-table"]],features:[re([xe,Wt])],decls:6,vars:12,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],["rowDragMultiRow","true,",3,"RowDragEndEvent","gridOptions","rowData","columnDefs","component","agGridHeight","paginatorOption","visibleColumns","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),n(3,"div",3)(4,"aux-ag-grid",4),w(5,"async"),v("RowDragEndEvent",function(m){return t.onRowDragEnd(m)}),a()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(2),r("gridOptions",t.options)("rowData",t.rowData)("columnDefs",t.columnDefs)("component","PatientPhysicanTable")("agGridHeight","calc(100vh - 379px)")("paginatorOption",t.paginationOptions)("visibleColumns",t.visibleColumns)("loading",I(5,10,t.loading$)))},dependencies:[Z,se,G],styles:[".custom .ag-cell-wrapper .ag-cell-value .ag-row-group-leaf-indent{margin-left:0!important}"]})}};Gn=N([k()],Gn);var up=["dateInput"];function hp(d,e){if(d&1&&(n(0,"div",74)(1,"div",6)(2,"label",75),l(3),a()()()),d&2){let i=U();o(3),$(i.errorMessage)}}function fp(d,e){d&1&&(n(0,"div",76),c(1,"img",77),a())}var Un=class br{constructor(e,i,t,s){this.fb=e,this.store=i,this.route=t,this.auxUtilService=s,this.showError=!1,this.errorMessage="",this.patientSWODetails$=this.store.select(ys.selectPatientSWOInfo),this.route.parent.paramMap.pipe(h(this)).subscribe(m=>{this.patientId=Number(m.get("id")),this.store.dispatch(xi.LoadPatientSWO({patientId:this.patientId}))})}ngOnInit(){this.swoForm=this.createForm(),this.patientSWODetails$.pipe(h(this)).subscribe(e=>{if(e){let i={sendToName:`${e.phY_FIRSTNAME} ${e.phY_LASTNAME}`,sendToFax:e.fax||"",patientName:`${e.paT_FIRSTNAME} ${e.paT_LASTNAME}`,dob:this.formatDate(e.dob),patientPhone:"",primaryInsurance:e.primarY_INSURANCE,primaryId:e.policy,secondaryInsurance:"",secondaryId:"",physicianName:`${e.phY_FIRSTNAME} ${e.phY_LASTNAME}`,npi:e.npi,physicianAddress:`${e.phY_ADDRESS1} ${e?.phY_ADDRESS2} ${e?.phY_CITY} ${e?.phY_STATE} ${e?.phY_ZIP}`,physicianPhone:e.phone||"",physicianFax:e.fax||"",officeContact:""};this.swoForm.patchValue(i)}})}createForm(){return this.fb.group({sendToName:[""],sendToFax:[""],patientName:[""],dob:["",et.required],patientPhone:[""],primaryInsurance:[""],primaryId:[""],secondaryInsurance:[""],secondaryId:[""],physicianName:[""],npi:[""],physicianAddress:[""],physicianPhone:[""],physicianFax:[""],officeContact:[""],freestyleLibre3System:[!1,et.required],dexcomG7System:[!1,et.required]})}openDatePicker(e){this.dateInput.nativeElement.showPicker()}formatDate(e){return e?new Date(e).toISOString().split("T")[0]:""}onSave(){if(this.swoForm.invalid)return;let e=this.swoForm.get("dob")?.value||"",i="";if(e){let s=new Date(e+"T00:00:00Z");s.setUTCHours(11),s.setUTCMinutes(41),s.setUTCSeconds(31),s.setUTCMilliseconds(681),i=s.toISOString()}let t={patientId:this.patientId,sendToName:this.swoForm.get("sendToName")?.value||"",sendToFax:this.swoForm.get("sendToFax")?.value.toString()||"",patientName:this.swoForm.get("patientName")?.value||"",dob:i,patientPhone:this.swoForm.get("patientPhone")?.value?.toString()||"",primaryInsurance:this.swoForm.get("primaryInsurance")?.value||"",primaryId:this.swoForm.get("primaryId")?.value||"",secondaryInsurance:this.swoForm.get("secondaryInsurance")?.value||"",secondaryId:this.swoForm.get("secondaryId")?.value||"",physicianName:this.swoForm.get("physicianName")?.value||"",npi:this.swoForm.get("npi")?.value||"",physicianAddress:this.swoForm.get("physicianAddress")?.value||"",physicianPhone:this.swoForm.get("physicianPhone")?.value||"",physicianFax:this.swoForm.get("physicianFax")?.value||"",officeContact:this.swoForm.get("officeContact")?.value||"",freeStyle3:this.swoForm.get("freestyleLibre3System")?.value,dexcomG7:this.swoForm.get("dexcomG7System")?.value};if(t.freeStyle3==!1&&t.dexcomG7==!1)this.showError=!0,this.errorMessage="You must choose a system";else{this.showError=!1;let s=this.auxUtilService.convertObjToUppercase(t);this.store.dispatch(xi.UpdatePatientSWO({patientSWODetails:s}))}}static{this.\u0275fac=function(i){return new(i||br)(p(bt),p(F),p(K),p(ke))}}static{this.\u0275cmp=A({type:br,selectors:[["app-patient-prefilled-editable-swo"]],viewQuery:function(i,t){if(i&1&&ut(up,5),i&2){let s;ht(s=ft())&&(t.dateInput=s.first)}},decls:214,vars:41,consts:[["contentToConvert",""],["dateInput",""],[1,"center","w-full"],[3,"ngSubmit","formGroup"],[1,"flex","items-center","justify-between","gap-3","bg-white","pb-6","dark:bg-transparent"],[1,"ml-8","space-y-4"],[1,"flex","items-center"],["for","swoTo",1,"mr-4","w-32","text-left"],["type","text","id","swoTo","formControlName","sendToName",1,"w-64","rounded","border","border-gray-300","px-2","py-1"],["for","sendToFax",1,"mr-4","w-32","text-left"],["type","text","id","sendToFax","mask","(000) 000-0000","formControlName","sendToFax",1,"w-64","rounded","border","border-gray-300","px-2","py-1",3,"showMaskTyped"],[1,"mr-auto"],[1,"rounded-full","bg-purple-600","px-6","py-2","font-bold","text-white","transition","duration-300","hover:bg-purple-700"],["class","ml-10 mt-4 space-y-4",4,"ngIf"],[1,"bg-white-100","p-8"],[1,"max-w-4xl","border","border-gray-300","bg-white","p-8","dark:bg-transparent"],[1,"mb-8","text-center"],["src","images/logo/acentus_logo.png","alt","Acentus Logo",1,"mx-auto","mb-6","w-60"],[1,"text-2xl","font-bold"],[1,"w-full","border-collapse","border","border-gray-500"],[1,"w-1/3","border","border-gray-500","pl-3","font-semibold"],[1,"border","border-gray-500"],["type","text uppercase","formControlName","patientName","name","patientName"],["type","date","formControlName","dob","name","patientDOB",3,"click"],["type","text","mask","(000) 000-0000","formControlName","patientPhone","name","patientPhone",3,"showMaskTyped"],[1,"my-4","text-center","font-semibold"],[1,"mb-4","w-full","border-collapse","border","border-gray-500"],[1,"w-1/3","border","border-gray-500","p-1","pl-3","font-semibold"],["type","text","formControlName","primaryInsurance","name","primaryInsurance",1,"w-full","p-1","uppercase"],["type","text","formControlName","primaryId","name","primaryId",1,"w-full","p-1","uppercase"],["type","text","formControlName","secondaryInsurance","name","secondaryInsurance",1,"w-full","p-1","uppercase"],["type","text","formControlName","secondaryId","name","secondaryInsuranceIdNumber",1,"w-full","p-1","uppercase"],["colspan","3",1,"border","border-gray-500"],["type","text","formControlName","physicianName","name","physicianName"],["type","text","formControlName","npi","name","npi"],["type","text","formControlName","physicianAddress"],["type","text","formControlName","physicianPhone","mask","(000) 000-0000","name","phone",3,"showMaskTyped"],["type","text","formControlName","physicianFax","mask","(000) 000-0000","name","fax",3,"showMaskTyped"],["type","text","formControlName","officeContact","name","officeContact"],[1,"mt-4","w-full","border-collapse","border","border-gray-500"],[1,"w-1/4","border","border-gray-500","px-4","py-2","text-left"],[1,"w-1/3","border","border-gray-500","px-4","py-2","text-left"],[1,"w-1/2","border","border-gray-500","px-4","py-2","text-left"],[1,"border-gray-500","px-2"],[1,"container","flex","items-center"],["type","checkbox","formControlName","freestyleLibre3System",1,"mr-2","uppercase"],[1,"text-sm","font-semibold"],[1,"block","text-xs","font-normal"],[1,"border-gray-500","px-2","py-1","text-xs","font-semibold"],[1,"border-gray-500","px-2","py-1","text-xs"],[1,"font-semibold"],[1,"border-gray-500","px-2","py-1","text-sm","font-semibold"],["type","checkbox","formControlName","dexcomG7System",1,"mr-2","uppercase"],[1,"border-gray-500","px-2","py-1","text-xs","font-bold"],["colspan","2",1,"w-1/3","border","border-gray-500","pl-3","font-semibold"],["colspan","2",1,"border","border-gray-500","text-sm"],["type","text",1,"w-full","p-1","uppercase"],[1,"border","border-gray-500","px-4","py-2",3,"vAlign"],[1,"px-4","py-2",3,"vAlign"],[1,"border","border-gray-500","p-4","text-center","font-semibold"],[1,"border-gray-500"],[1,"mb-1","border-gray-500","text-center","font-semibold"],[1,"mt-4","w-full","border-collapse"],[1,"border-0"],[1,"mt-4"],[1,"text-xs"],["align","center",1,"border-0","text-2xl","font-semibold","text-red-600"],["align","center",1,"border-0","font-semibold","text-red-600"],[1,"underline"],["align","center",1,"border-0","text-sm"],["href","mailto:Service@Acentus365.com",1,"text-black"],[1,"text-sm"],[1,"w-1/3","border","border-gray-500","p-1"],["type","text","placeholder","",1,"w-full","rounded","px-2","py-1","uppercase","outline-none"],[1,"ml-10","mt-4","space-y-4"],[1,"text-left","text-lg","font-bold","text-red-600"],[1,"relative","h-24","w-full","overflow-hidden","bg-gray-100"],["alt","Order Date Signature",1,"h-full","w-full","object-contain"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",2)(1,"form",3),v("ngSubmit",function(){return P(s),_(t.onSave())}),n(2,"div",4)(3,"div",5)(4,"div",6)(5,"label",7),l(6,"Send SWO To:"),a(),c(7,"input",8),a(),n(8,"div",6)(9,"label",9),l(10,"Fax Number:"),a(),c(11,"input",10),a()(),n(12,"div",11)(13,"button",12),l(14," Send "),a()()(),R(15,hp,4,1,"div",13),n(16,"div",14)(17,"div",15,0)(19,"div",16),c(20,"img",17),n(21,"h1",18),l(22,"Standard Written Order for Continuous Glucose Monitoring"),a()(),n(23,"table",19)(24,"tbody")(25,"tr")(26,"td",20),l(27,"Patient's Name"),a(),n(28,"td",21),c(29,"input",22),a()(),n(30,"tr")(31,"td",20),l(32,"Patient's Date of Birth"),a(),n(33,"td",21)(34,"input",23,1),v("click",function(u){return P(s),_(t.openDatePicker(u))}),a()()(),n(36,"tr")(37,"td",20),l(38,"Patient's Phone Number"),a(),n(39,"td",21),c(40,"input",24),a()()()(),n(41,"div",25),l(42," Send patient demographic sheet or complete the following "),a(),n(43,"table",26)(44,"tbody")(45,"tr")(46,"td",27),l(47,"Primary Insurance"),a(),n(48,"td",21),c(49,"input",28),a()(),n(50,"tr")(51,"td",20),l(52,"Insurance ID Number"),a(),n(53,"td",21),c(54,"input",29),a()(),n(55,"tr")(56,"td",20),l(57,"Secondary Insurance"),a(),n(58,"td",21),c(59,"input",30),a()(),n(60,"tr")(61,"td",20),l(62,"Insurance ID Number"),a(),n(63,"td",21),c(64,"input",31),a()()()(),n(65,"table",19)(66,"tbody")(67,"tr")(68,"td",20),l(69,"Physician's Name"),a(),n(70,"td",32),c(71,"input",33),a()(),n(72,"tr")(73,"td",20),l(74,"NPI"),a(),n(75,"td",32),c(76,"input",34),a()(),n(77,"tr")(78,"td",20),l(79,"Address, City, State, ZIP"),a(),n(80,"td",32),c(81,"input",35),a()(),n(82,"tr")(83,"td",20),l(84,"Phone"),a(),n(85,"td",32),c(86,"input",36),a()(),n(87,"tr")(88,"td",20),l(89,"Fax"),a(),n(90,"td",32),c(91,"input",37),a()(),n(92,"tr")(93,"td",20),l(94,"Office Contact"),a(),n(95,"td",32),c(96,"input",38),a()()()(),n(97,"table",39)(98,"thead")(99,"tr")(100,"th",40),l(101,"Choose System"),a(),n(102,"th",41),l(103,"Quantity"),a(),n(104,"th",40),l(105,"Directions for use"),a(),n(106,"th",42),l(107,"HCPCS"),a()()(),n(108,"tbody")(109,"tr")(110,"td",43)(111,"label",44),c(112,"input",45)(113,"span"),n(114,"p",46),l(115," Freestyle Libre 3 System "),n(116,"span",47),l(117,"(May Substitute Libre 2)"),a()()()(),n(118,"td",48)(119,"p"),l(120,"1 Reader/Monitor"),a(),n(121,"p"),l(122,"1 Unit/30 Days - Sensor(1 unit=1 mo sensors)"),a()(),n(123,"td",49)(124,"span",50),l(125,"Use to scan Libre 3 Sensor"),a(),l(126,"/Change Every 14 Days "),a(),n(127,"td",51),l(128,"E2103 & A4239"),a()(),n(129,"tr")(130,"td",43)(131,"label",44),c(132,"input",52)(133,"span"),n(134,"p",46),l(135,"Dexcom G7 System"),a()()(),n(136,"td",48)(137,"p"),l(138,"1 Unit/30 Days - Sensor(1 unit=1 mo sensors)"),a(),n(139,"p"),l(140,"1 Reader/Monitor"),a()(),n(141,"td",53),l(142," Use to view automatic sensor readings. Change every 10 days. "),a(),n(143,"td",51),l(144,"E2103 & A4239"),a()(),n(145,"tr")(146,"td",54),l(147," Length of need \u2013 99 (Lifetime) unless otherwise noted "),a(),n(148,"td",55),c(149,"input",56),a()()()(),n(150,"table",39)(151,"thead")(152,"th",57),l(153,"Physician\u2019s Signature"),a(),n(154,"th",58),l(155,"Signature/Order Date"),a()(),n(156,"tbody")(157,"tr"),c(158,"td",59),n(159,"td",59),R(160,fp,2,0,"ng-template"),a()(),n(161,"tr")(162,"td",60)(163,"p",61),l(164," Signature stamps are not acceptable "),a()(),n(165,"td")(166,"p",61),l(167," Date Stamps are not acceptable "),a()()()()(),n(168,"table",62)(169,"tr")(170,"td",63)(171,"div",64)(172,"p",65),l(173," I certify that I am the physician identified on this form. I have reviewed the Standard Written Order. I certify medical necessity information is true, accurate and complete to the best of my knowledge. I certify that the patient / caregiver is capable and has successfully completed training or will be trained on the proper use of the products prescribed on this order. The patient's medical record contains supporting documentation that substantiates the utilization and medical necessity of the items listed and supporting documentation will be provided to Acentus upon request. "),a()()()()(),n(174,"table",62)(175,"tr")(176,"td",66),l(177," Fax to: "),n(178,"span"),l(179,"866-695-2183"),a()()(),n(180,"tr")(181,"td",67),l(182," IMPORTANT!!\xA0\xA0\xA0\xA0Referral "),n(183,"span",68),l(184,"MUST"),a(),l(185," include "),n(186,"span",68),l(187,"demographics"),a(),l(188," & "),n(189,"span",68),l(190,"most recent chart notes"),a()()(),n(191,"tr")(192,"td",69),l(193," For questions, please contact us at "),n(194,"b"),l(195,"866-684-2507"),a(),l(196,". You can also email us at "),n(197,"a",70)(198,"b"),l(199,"Service@Acentus365.com"),a()()()()(),n(200,"table",62)(201,"tr")(202,"td",63)(203,"span",71),l(204,"Form: AMS-SWO-021324"),a()(),n(205,"td",72)(206,"div",6)(207,"span"),l(208,"Rep:"),a(),c(209,"input",73),a(),n(210,"div",6)(211,"span"),l(212,"Cell:"),a(),c(213,"input",73),a()()()()()()()()}i&2&&(o(),r("formGroup",t.swoForm),o(10),r("showMaskTyped",!0),o(4),r("ngIf",t.showError),o(14),di("w-full p-1 uppercase ",t.swoForm.get("patientName").invalid&&t.swoForm.get("patientName").touched?"border border-red-500":"",""),o(5),di("w-full p-1 uppercase ",t.swoForm.get("dob").invalid&&t.swoForm.get("dob").touched?"border border-red-500":"",""),o(6),di("w-full p-1 uppercase ",t.swoForm.get("patientPhone").invalid&&t.swoForm.get("patientPhone").touched?"border border-red-500":"",""),r("showMaskTyped",!0),o(31),di("w-full p-1 uppercase ",t.swoForm.get("physicianName").invalid&&t.swoForm.get("physicianName").touched?"border border-red-500":"",""),o(5),di("w-full p-1 uppercase ",t.swoForm.get("npi").invalid&&t.swoForm.get("npi").touched?"border border-red-500":"",""),o(5),di("w-full p-1 uppercase ",t.swoForm.get("physicianAddress").invalid&&t.swoForm.get("physicianAddress").touched?"border border-red-500":"",""),o(5),di("w-full p-1 uppercase ",t.swoForm.get("physicianPhone").invalid&&t.swoForm.get("physicianPhone").touched?"border border-red-500":"",""),r("showMaskTyped",!0),o(5),di("w-full p-1 uppercase ",t.swoForm.get("physicianFax").invalid&&t.swoForm.get("physicianFax").touched?"border border-red-500":"",""),r("showMaskTyped",!0),o(5),di("w-full p-1 uppercase ",t.swoForm.get("officeContact").invalid&&t.swoForm.get("officeContact").touched?"border border-red-500":"",""),o(17),di("checkmark ",t.swoForm.get("freestyleLibre3System").invalid&&t.swoForm.get("freestyleLibre3System").touched?"checkmark-error":"",""),o(20),di("checkmark ",t.swoForm.get("dexcomG7System").invalid&&t.swoForm.get("dexcomG7System").touched?"checkmark-error":"",""),o(19),r("vAlign","top"),o(2),r("vAlign","top"))},dependencies:[fe,Oe,De,Hr,he,_e,we,Ne,ui,Lr],styles:['.default[_ngcontent-%COMP%]{cursor:default}.purple[_ngcontent-%COMP%]{color:#6b46c1}td[_ngcontent-%COMP%]{border-right:1px solid #ccc}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:none}.container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;height:25px;width:25px;border:2px solid #000;transform:translateY(-50%)}.checkmark-error[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;height:25px;width:25px;border:2px solid red;transform:translateY(-50%)}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#2196f3}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:7px;top:3px;width:7px;height:13px;border:solid white;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none}input[type=date][_ngcontent-%COMP%]::-moz-focus-inner{border:none;padding:0}input[type=date][_ngcontent-%COMP%]{position:relative;padding-right:0}']})}};Un=N([k()],Un);var gp=["shadowElem"],Hn=class Dr{constructor(e,i,t){this.store=e,this.router=i,this.titleService=t,this.loading$=this.store.select(ro.selectLoading),this.data$=this.store.select(ro.selectSensor),this.toolbarData=[{title:"Send to Patient",type:"basic",icon:"mat_outline:save",function:()=>{this.send()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.patientId=this.router.url.split("/")[3],this.titleService.setValue(this.title),this.store.dispatch(ta.LoadPatientSensor({id:this.patientId}))}ngAfterViewInit(){let e=this.shadowElem.nativeElement.attachShadow({mode:"open"}),i=document.createElement("div");e.appendChild(i),this.data$.pipe(h(this)).subscribe(t=>{i.innerHTML=t.html})}send(){}static{this.\u0275fac=function(i){return new(i||Dr)(p(F),p(O),p(le))}}static{this.\u0275cmp=A({type:Dr,selectors:[["ac-patient-sensor"]],viewQuery:function(i,t){if(i&1&&ut(gp,5),i&2){let s;ht(s=ft())&&(t.shadowElem=s.first)}},decls:8,vars:5,consts:[["shadowElem",""],[1,"flex","w-full","flex-col",2,"height","695px","overflow-y","scroll"],[1,"flex","w-full","bg-white","p-1","shadow","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","rounded","bg-white","shadow","dark:bg-transparent"],[3,"show"]],template:function(i,t){i&1&&(n(0,"div",1)(1,"div",2),c(2,"fuse-horizontal-navigation",3),a(),n(3,"div",4),c(4,"span",null,0),a(),c(6,"ac-loading-overlay",5),w(7,"async"),a()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(4),r("show",I(7,3,t.loading$)))},dependencies:[Z,Yt,G],encapsulation:2})}};Hn=N([k()],Hn);var xr=(()=>{class d{static{this.\u0275fac=function(t){return new(t||d)}}static{this.\u0275cmp=A({type:d,selectors:[["app-add-edit-patient-workorder"]],decls:1,vars:0,consts:[[1,"w-full"]],template:function(t,s){t&1&&c(0,"aux-work-order-add",0)},dependencies:[qs],encapsulation:2})}}return d})();var qn=class Sr{constructor(e,i,t,s){this.store=e,this.dateFormatePipe=i,this._matDialog=t,this.searchService=s,this.loading$=this.store.select(go.selectLoading),this.data$=this.store.select(go.selectShortcuts),this.columnDefs=[{headerName:"ID",minWidth:100,field:"id",filter:"agMultiColumnFilter",hide:!1},{headerName:"title",minWidth:150,field:"title",filter:"agMultiColumnFilter",hide:!1},{headerName:"description",minWidth:260,field:"description",filter:"agMultiColumnFilter",hide:!1},{headerName:"category",minWidth:223,field:"category",filter:"agMultiColumnFilter",hide:!1},{headerName:"itemId1",minWidth:203,field:"itemId1",filter:"agMultiColumnFilter",hide:!1},{headerName:"billType1",minWidth:223,field:"billType1",filter:"agMultiColumnFilter",hide:!1},{headerName:"quantity1",minWidth:123,field:"quantity1",filter:"agMultiColumnFilter",hide:!1},{headerName:"addedBy",minWidth:223,field:"addedBy",filter:"agMultiColumnFilter",hide:!1},{headerName:"addedDate",minWidth:160,field:"addedDate",filter:"agDateColumnFilter",valueFormatter:m=>this.dateFormatePipe.transform(m.data.addedDate),hide:!1,filterParams:J}],this.shortcutListData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.visibleColumns=["id","title","description","category","addedBy","addedDate"]}ngOnInit(){this.store.dispatch(zs.LoadShortcut()),this.data$.pipe(h(this)).subscribe(e=>{this.shortcutListData=e})}saveSelectedShortcut(){this._matDialog.close(this.selectedRow),this.clearFilter(),this.selectedRow=null}selectionChange(e){this.selectedRow=e.api.getSelectedRows()[0]}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(i){return new(i||Sr)(p(F),p(q),p(Be),p(be))}}static{this.\u0275cmp=A({type:Sr,selectors:[["app-shortcute-list-component"]],features:[re([q])],decls:3,vars:9,consts:[[3,"rowSelectionChange","gridOptions","component","rowData","columnDefs","visibleColumns","agGridHeight","loading"]],template:function(i,t){i&1&&(n(0,"div")(1,"aux-ag-grid",0),w(2,"async"),v("rowSelectionChange",function(m){return t.selectionChange(m)}),a()()),i&2&&(o(),r("gridOptions",t.options)("component","shortcutcenter")("rowData",t.shortcutListData)("columnDefs",t.columnDefs)("visibleColumns",t.visibleColumns)("agGridHeight","calc(100vh - 312px)")("loading",I(2,7,t.loading$)))},dependencies:[se,G],encapsulation:2})}};qn=N([k()],qn);var Wi=d=>({"mb-2":d});function Cp(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function vp(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function yp(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function bp(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function Dp(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function xp(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function Sp(d,e){if(d&1&&(n(0,"mat-option",33),l(1),a()),d&2){let i=e.$implicit;r("value",i.name),o(),$(i.name)}}function Pp(d,e){d&1&&(n(0,"mat-error"),l(1,"Please enter valid date!! It should be MM/DD/YYYY."),a())}function _p(d,e){d&1&&(n(0,"mat-error"),l(1,"Physician Filed Is Required "),a())}var Ca=class Pr{constructor(e,i,t,s,m,u,C,D){this.fb=e,this.data=i,this.auxUtilService=t,this.store=s,this.matDialog=m,this.route=u,this.router=C,this.dialogRef=D,this.isLinear=!1,this.filteredOptions=[{name:"E"},{name:"F"}],this.confirmOptions=[{name:"Yes"},{name:"No"}];let f=Number(this.router.url.split("/")[3]);this.patientGroupData=i.dynamicComponentData,this.patientGroupEditForm=this.fb.group({patientid:[f],svcdate:[],todate:[],nextbill:[],cmnexpire:[],notesexpiredate:[],shipdate:[],authdate:[],shipstatus:[],invoiceno:[],authno:[],narrative:[],mod1:[],mod2:[],mod3:[],mod4:[],physicianFullName:[""],patientdoctorid1:[0],doctorId:[""],PrimaryPayorsName:[""],Payor1:[0],Payor2:[0],patientpayorid1:[0],patientpayorid2:[0],CoPayorsName:[""],isSvsdateClear:[!1],isTodateClear:[!1],isNextbillClear:[!1],isCmnexpireClear:[!1],isNotesexpiredateClear:[!1],isShipdateClear:[!1],isAuthdateClear:[!1],isShipstatusClear:[!1],isInvoicenoClear:[!1],isAuthnoClear:[!1],isNarrativeClear:[!1],isMode1Clear:[!1],isMode2Clear:[!1],isMode3Clear:[!1],isMode4Clear:[!1],IsPayor1Clear:[!1],IsPayor2Clear:[!1]})}onDateChange(e,i){this.patientGroupEditForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.patientGroupEditForm,i)}submit(){let e=this.patientGroupEditForm.value;e.numbers=this.patientGroupData,this.store.dispatch(dt.EditGroupWorkEdit({patientData:e})),this.dialogRef.close(!0)}openPayorsList(e){let i={icon:"mat_outline:edit_note",title:"Select Assigned Payors",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Zt,dynamicComponentData:this.patientGroupEditForm.get("patientid").value,submitFunction:"selectRow",enterKeyEnabled:!0};this.matDialog.open(E,{width:"50%",height:"auto",data:i}).afterClosed().pipe(h(this)).subscribe(s=>{s&&(e=="Primary"?(this.patientGroupEditForm.get("PrimaryPayorsName").setValue(s.billTo),this.patientGroupEditForm.get("patientpayorid1").setValue(s.id),this.patientGroupEditForm.get("Payor1").setValue(s.payorId)):e=="Co-Pay"&&(this.patientGroupEditForm.get("CoPayorsName").setValue(s.billTo),this.patientGroupEditForm.get("patientpayorid2").setValue(s.id),this.patientGroupEditForm.get("Payor2").setValue(s.payorId)))})}openPhysicianList(){let e={icon:"mat_outline:edit_note",title:"Select Assigned Physician",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:li,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(E,{width:"auto",height:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t&&(this.patientGroupEditForm.get("physicianFullName").setValue(t.firstName+" "+t.lastName),this.patientGroupEditForm.get("patientdoctorid1").setValue(t.id))})}static{this.\u0275fac=function(i){return new(i||Pr)(p(bt),p(nt,8),p(ke),p(F),p(z),p(K),p(O),p(Be))}}static{this.\u0275cmp=A({type:Pr,selectors:[["app-patient-group-edit-work-order"]],features:[re([{provide:ni,useValue:{appearance:"outline"}}])],decls:174,vars:84,consts:[["stepper",""],["svcdate","matDatepicker"],["todate","matDatepicker"],["nextbill","matDatepicker"],["shipdate","matDatepicker"],["cmnExpireDate","matDatepicker"],["expireDate","matDatepicker"],["auto","matAutocomplete"],["authdate","matDatepicker"],[3,"linear"],["label","General",3,"stepControl"],[3,"formGroup"],[1,"group-edit-order","flex","max-h-screen","flex-col"],[1,"relative","h-full",3,"ngSubmit","formGroup"],[1,"w-full","md:flex"],[1,"mt-4","flex","w-full","flex-col","md:w-1/2"],[1,"mb-2","flex","w-full","items-center"],[1,"w-1/2","pr-1",3,"ngClass"],["matInput","","formControlName","svcdate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","isSvsdateClear",1,"mr-2",3,"color"],["matInput","","formControlName","todate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isTodateClear",1,"mr-2",3,"color"],["matInput","","formControlName","nextbill","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isNextbillClear",1,"mr-2",3,"color"],["matInput","","formControlName","shipdate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isShipdateClear",1,"mr-2",3,"color"],["matInput","","formControlName","cmnexpire","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isCmnexpireClear",1,"mr-2",3,"color"],["matInput","","formControlName","notesexpiredate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isNotesexpiredateClear",1,"mr-2","mt-1","items-center",3,"color"],[1,"w-1/2","pr-1",3,"subscriptSizing"],["matInput","","type","text","formControlName","shipstatus",1,"uppercase",3,"placeholder","matAutocomplete"],[3,"value"],["formControlName","isShipstatusClear",1,"mr-2",3,"color"],[1,"w-1/2","pr-1"],["matInput","","formControlName","invoiceno",1,"uppercase"],["formControlName","isInvoicenoClear",1,"mr-2",3,"color"],["matInput","","formControlName","authdate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isAuthdateClear",1,"mr-2",3,"color"],["matInput","","formControlName","authno",1,"uppercase"],["formControlName","isAuthnoClear",1,"mr-2",3,"color"],["label","Billing",3,"stepControl"],["matInput","","type","text","formControlName","mod1",1,"uppercase",3,"placeholder"],["formControlName","isMode1Clear",1,"mr-2",3,"color"],["matInput","","type","text","formControlName","mod2",1,"uppercase",3,"placeholder"],["formControlName","isMode2Clear",1,"mr-2",3,"color"],["matInput","","type","text","formControlName","mod3",1,"uppercase",3,"placeholder"],["formControlName","isMode3Clear",1,"mr-2",3,"color"],["matInput","","type","text","formControlName","mod4",1,"uppercase",3,"placeholder"],["formControlName","isMode4Clear",1,"mr-2",3,"color"],[1,"w-1/3","pr-0"],["matInput","",1,"uppercase",3,"formControlName"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],["formControlName","IsPayor1Clear",1,"mr-2",3,"color"],["formControlName","IsPayor2Clear",1,"mr-2",3,"color"],[1,"w-9/12","pr-1"],["matInput","","formControlName","narrative","placeholder","Narrative",1,"uppercase"],["formControlName","isNarrativeClear",1,"mr-2",3,"color"],[1,"align-center","mb-2","flex","items-baseline"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","cursor-pointer","sm:flex",3,"click","svgIcon"]],template:function(i,t){if(i&1){let s=Se();n(0,"mat-stepper",9,0)(2,"mat-step",10)(3,"form",11)(4,"div",12)(5,"form",13),v("ngSubmit",function(){return P(s),_(t.submit())}),n(6,"div",14)(7,"div",15)(8,"div",16)(9,"mat-form-field",17)(10,"mat-label"),l(11,"Service Date"),a(),n(12,"input",18),v("change",function(u){return P(s),_(t.onDateChange(u,"svcdate"))}),a(),c(13,"mat-datepicker-toggle",19)(14,"mat-datepicker",null,1),R(16,Cp,2,0,"mat-error"),a(),n(17,"mat-checkbox",20),l(18,"Clear Data"),a()(),n(19,"div",16)(20,"mat-form-field",17)(21,"mat-label"),l(22,"To Date"),a(),n(23,"input",21),v("change",function(u){return P(s),_(t.onDateChange(u,"todate"))}),a(),c(24,"mat-datepicker-toggle",19)(25,"mat-datepicker",null,2),R(27,vp,2,0,"mat-error"),a(),n(28,"mat-checkbox",22),l(29,"Clear Data"),a()(),n(30,"div",16)(31,"mat-form-field",17)(32,"mat-label"),l(33,"Next Bill Date"),a(),n(34,"input",23),v("change",function(u){return P(s),_(t.onDateChange(u,"nextbill"))}),a(),c(35,"mat-datepicker-toggle",19)(36,"mat-datepicker",null,3),R(38,yp,2,0,"mat-error"),a(),n(39,"mat-checkbox",24),l(40,"Clear Data"),a()(),n(41,"div",16)(42,"mat-form-field",17)(43,"mat-label"),l(44,"Ship Date"),a(),n(45,"input",25),v("change",function(u){return P(s),_(t.onDateChange(u,"shipdate"))}),a(),c(46,"mat-datepicker-toggle",19)(47,"mat-datepicker",null,4),R(49,bp,2,0,"mat-error"),a(),n(50,"mat-checkbox",26),l(51,"Clear Data"),a()(),n(52,"div",16)(53,"mat-form-field",17)(54,"mat-label"),l(55,"CMN Expire Date"),a(),n(56,"input",27),v("change",function(u){return P(s),_(t.onDateChange(u,"cmnexpire"))}),a(),c(57,"mat-datepicker-toggle",19)(58,"mat-datepicker",null,5),R(60,Dp,2,0,"mat-error"),a(),n(61,"mat-checkbox",28),l(62,"Clear Data"),a()(),n(63,"div",16)(64,"mat-form-field",17)(65,"mat-label"),l(66,"Notes Expire Date"),a(),n(67,"input",29),v("change",function(u){return P(s),_(t.onDateChange(u,"notesexpiredate"))}),a(),c(68,"mat-datepicker-toggle",19)(69,"mat-datepicker",null,6),R(71,xp,2,0,"mat-error"),a(),n(72,"mat-checkbox",30),l(73,"Clear Data"),a()()(),n(74,"div",15)(75,"div",16)(76,"mat-form-field",31)(77,"mat-label"),l(78,"Ship Status"),a(),c(79,"input",32),n(80,"mat-autocomplete",null,7),ae(82,Sp,2,2,"mat-option",33,de),a()(),n(84,"mat-checkbox",34),l(85,"Clear Data"),a()(),n(86,"div",16)(87,"mat-form-field",35)(88,"mat-label"),l(89,"Invoice#"),a(),c(90,"input",36),a(),n(91,"mat-checkbox",37),l(92,"Clear Data"),a()(),n(93,"div",16)(94,"mat-form-field",17)(95,"mat-label"),l(96,"Auth Date"),a(),n(97,"input",38),v("change",function(u){return P(s),_(t.onDateChange(u,"authdate"))}),a(),c(98,"mat-datepicker-toggle",19)(99,"mat-datepicker",null,8),R(101,Pp,2,0,"mat-error"),a(),n(102,"mat-checkbox",39),l(103,"Clear Data"),a()(),n(104,"div",16)(105,"mat-form-field",35)(106,"mat-label"),l(107,"Authorization #"),a(),c(108,"input",40),a(),n(109,"mat-checkbox",41),l(110,"Clear Data"),a()()()()()()()(),n(111,"mat-step",42)(112,"form",11)(113,"div",14)(114,"div",15)(115,"div",16)(116,"mat-form-field",31)(117,"mat-label"),l(118,"Mode1"),a(),c(119,"input",43),a(),n(120,"mat-checkbox",44),l(121,"Clear Data"),a()(),n(122,"div",16)(123,"mat-form-field",31)(124,"mat-label"),l(125,"Mode2"),a(),c(126,"input",45),a(),n(127,"mat-checkbox",46),l(128,"Clear Data"),a()(),n(129,"div",16)(130,"mat-form-field",31)(131,"mat-label"),l(132,"Mode3"),a(),c(133,"input",47),a(),n(134,"mat-checkbox",48),l(135,"Clear Data"),a()(),n(136,"div",16)(137,"mat-form-field",31)(138,"mat-label"),l(139,"Mode4"),a(),c(140,"input",49),a(),n(141,"mat-checkbox",50),l(142,"Clear Data"),a()()(),n(143,"div",15)(144,"div",16)(145,"mat-form-field",51)(146,"mat-label"),l(147,"Primary"),a(),c(148,"input",52),a(),n(149,"mat-icon",53),v("click",function(){return P(s),_(t.openPayorsList("Primary"))}),a(),n(150,"mat-checkbox",54),l(151,"Clear Data"),a()(),n(152,"div",16)(153,"mat-form-field",51)(154,"mat-label"),l(155,"Co-Pay"),a(),c(156,"input",52),a(),n(157,"mat-icon",53),v("click",function(){return P(s),_(t.openPayorsList("Co-Pay"))}),a(),n(158,"mat-checkbox",55),l(159,"Clear Data"),a()()()(),n(160,"div",16)(161,"mat-form-field",56)(162,"mat-label"),l(163,"Narrative"),a(),c(164,"input",57),a(),n(165,"mat-checkbox",58),l(166,"Clear Data"),a()(),n(167,"div",59)(168,"mat-form-field",56)(169,"mat-label"),l(170,"Physician"),a(),c(171,"input",60),R(172,_p,2,0,"mat-error"),a(),n(173,"mat-icon",61),v("click",function(){return P(s),_(t.openPhysicianList())}),a()()()()()}if(i&2){let s=Y(15),m=Y(26),u=Y(37),C=Y(48),D=Y(59),f=Y(70),y=Y(81),g=Y(100);r("linear",t.isLinear),o(2),r("stepControl",t.patientGroupEditForm),o(),r("formGroup",t.patientGroupEditForm),o(2),r("formGroup",t.patientGroupEditForm),o(4),r("ngClass",We(70,Wi,t.patientGroupEditForm.get("svcdate").hasError("notValidDate"))),o(3),r("matDatepicker",s),o(),r("for",s),o(3),B(t.patientGroupEditForm.get("svcdate").hasError("notValidDate")?16:-1),o(),r("color","primary"),o(3),r("ngClass",We(72,Wi,t.patientGroupEditForm.get("todate").hasError("notValidDate"))),o(3),r("matDatepicker",m),o(),r("for",m),o(3),B(t.patientGroupEditForm.get("todate").hasError("notValidDate")?27:-1),o(),r("color","primary"),o(3),r("ngClass",We(74,Wi,t.patientGroupEditForm.get("nextbill").hasError("notValidDate"))),o(3),r("matDatepicker",u),o(),r("for",u),o(3),B(t.patientGroupEditForm.get("nextbill").hasError("notValidDate")?38:-1),o(),r("color","primary"),o(3),r("ngClass",We(76,Wi,t.patientGroupEditForm.get("shipdate").hasError("notValidDate"))),o(3),r("matDatepicker",C),o(),r("for",C),o(3),B(t.patientGroupEditForm.get("shipdate").hasError("notValidDate")?49:-1),o(),r("color","primary"),o(3),r("ngClass",We(78,Wi,t.patientGroupEditForm.get("cmnexpire").hasError("notValidDate"))),o(3),r("matDatepicker",D),o(),r("for",D),o(3),B(t.patientGroupEditForm.get("cmnexpire").hasError("notValidDate")?60:-1),o(),r("color","primary"),o(3),r("ngClass",We(80,Wi,t.patientGroupEditForm.get("notesexpiredate").hasError("notValidDate"))),o(3),r("matDatepicker",f),o(),r("for",f),o(3),B(t.patientGroupEditForm.get("notesexpiredate").hasError("notValidDate")?71:-1),o(),r("color","primary"),o(4),r("subscriptSizing","dynamic"),o(3),r("placeholder","Ship Status")("matAutocomplete",y),o(3),ne(t.filteredOptions),o(2),r("color","primary"),o(7),r("color","primary"),o(3),r("ngClass",We(82,Wi,t.patientGroupEditForm.get("authdate").hasError("notValidDate"))),o(3),r("matDatepicker",g),o(),r("for",g),o(3),B(t.patientGroupEditForm.get("authdate").hasError("notValidDate")?101:-1),o(),r("color","primary"),o(7),r("color","primary"),o(2),r("stepControl",t.patientGroupEditForm),o(),r("formGroup",t.patientGroupEditForm),o(4),r("subscriptSizing","dynamic"),o(3),r("placeholder","Mod 1"),o(),r("color","primary"),o(3),r("subscriptSizing","dynamic"),o(3),r("placeholder","Mod 2"),o(),r("color","primary"),o(3),r("subscriptSizing","dynamic"),o(3),r("placeholder","Mod 3"),o(),r("color","primary"),o(3),r("subscriptSizing","dynamic"),o(3),r("placeholder","Mod 4"),o(),r("color","primary"),o(7),r("formControlName","PrimaryPayorsName"),o(),r("svgIcon","heroicons_solid:download"),o(),r("color","primary"),o(6),r("formControlName","CoPayorsName"),o(),r("svgIcon","heroicons_solid:download"),o(),r("color","primary"),o(7),r("color","primary"),o(6),r("readonly",!0)("formControlName","physicianFullName"),o(),B(t.patientGroupEditForm.get("physicianFullName").hasError("required")?172:-1),o(),r("svgIcon","heroicons_solid:download")}},dependencies:[$a,Ra,fe,Oe,De,he,_e,we,Ne,Ee,Rt,Ie,Fe,St,Pt,mt,xt,Dt,_t,Ze,Et,lt,ye,Re],styles:["app-patient-group-edit-work-order .mat-mdc-form-field-bottom-align:before{content:none}.group-edit-order[_ngcontent-%COMP%]{height:-webkit-fill-available}  app-patient-group-edit-work-order .group-edit-body .mat-mdc-tab-body-content{padding-top:0;padding-bottom:0}  app-patient-group-edit-work-order .mat-mdc-tab-body-wrapper{height:calc(100vh - 353px)}"],data:{animation:Bt}})}};Ca=N([k()],Ca);var _r=d=>({"bg-red-500 text-white":d}),hl=(d,e)=>({"bg-red-500 text-white":d,"bg-green-500 text-white":e});function wp(d,e){if(d&1&&(n(0,"div")(1,"fuse-alert",13)(2,"span",14),l(3,"Warn alert"),a(),l(4),a()()),d&2){let i=U();o(),r("type","warn"),o(3),W(" ",i.alert.message," ")}}var zn=class wr{constructor(e,i,t,s,m,u,C,D,f,y,g){this.store=e,this.route=i,this.dateTimeFormatePipe=t,this.dateFormatePipe=s,this.actions$=m,this.router=u,this.cdr=C,this.dialog=D,this._fuseConfirmationService=f,this.titleService=y,this.decimalPipe=g,this.columnDefs=[{headerName:"Id",field:"id",hide:!1,filter:"agMultiColumnFilter",minWidth:50,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Inv#",sort:"desc",field:"invoiceno",hide:!1,filter:"agMultiColumnFilter",minWidth:90,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Svc Date",field:"svcdate",hide:!1,filter:"agDateColumnFilter",valueFormatter:S=>this.dateFormatePipe.transform(S.data.svcdate),minWidth:100,filterParams:J,onCellClicked:S=>this.openWorkOrderDetails(S),sortable:!0,cellClass:S=>S.data.svcdate!==S.data.todate?"bg-red-400":""},{headerName:"Item id",field:"itemid",hide:!1,filter:"agMultiColumnFilter",minWidth:75,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Item Code",field:"itemcode",hide:!1,filter:"agMultiColumnFilter",minWidth:110,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"T",filter:!1,field:"billType",hide:!1,minWidth:45,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"C",filter:!1,field:"confirm",hide:!1,minWidth:45,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Qty",field:"quantity",hide:!1,minWidth:60,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Ship S",filter:!1,field:"shipstatus",hide:!1,minWidth:75,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Shipped On",field:"shipdate",hide:!1,filter:"agDateColumnFilter",valueFormatter:S=>this.dateFormatePipe.transform(S.data.shipdate),minWidth:100,filterParams:J,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Description",field:"description",hide:!1,filter:"agMultiColumnFilter",minWidth:170,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Next Bill",field:"lastdatebilled",hide:!1,filter:"agDateColumnFilter",valueFormatter:S=>this.dateFormatePipe.transform(S.data.lastdatebilled),minWidth:100,filterParams:J,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"CMN Expire",field:"cmnexpire",hide:!1,filter:"agDateColumnFilter",valueFormatter:S=>this.dateFormatePipe.transform(S.data.cmnexpire),minWidth:100,filterParams:J,onCellClicked:S=>this.openWorkOrderDetails(S),cellClass:S=>S.data.cmnexpire==="1900-01-01T00:00:00"||S.data.cmnexpire===""||S.data.cmnexpire<S.data.lastdatebilled?"bg-red-400":""},{headerName:"Notes Expire",field:"notesexpiredate",hide:!1,filter:"agDateColumnFilter",valueFormatter:S=>this.dateFormatePipe.transform(S.data.notesexpiredate),minWidth:110,filterParams:J,onCellClicked:S=>this.openWorkOrderDetails(S),cellClass:S=>S.data.notesexpiredate==="1900-01-01T00:00:00"||S.data.notesexpiredate===""||S.data.notesexpiredate<S.data.lastdatebilled?"bg-red-400":""},{headerName:"Auth Date",field:"authDate",hide:!1,filter:"agDateColumnFilter",cellClass:S=>{if(S.data.authDate==="1900-01-01T00:00:00")return"bg-red-400";if(S.data.authDate==="")return"bg-red-400"},valueFormatter:S=>this.dateFormatePipe.transform(S.data.authDate),minWidth:100,filterParams:J,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Payer",field:"primarypayer",hide:!1,filter:"agMultiColumnFilter",minWidth:150,onCellClicked:S=>this.openWorkOrderDetails(S)},{headerName:"Actions",field:"actions",cellRenderer:Lt,filter:!1,cellRendererParams:{menuItems:[{name:"Delete Permanently",action:this.deleteRow.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},hide:!1,minWidth:80}],this.rowData=[],this.options={gridOptions:{rowSelection:{mode:"multiRow",checkboxes:!0,headerCheckbox:!0,selectAll:"filtered",checkboxColumn:{field:"checkedField",width:35,maxWidth:35,pinned:"left",resizable:!1,suppressMovable:!0,sortable:!1,filter:!1,lockPosition:"left",headerName:""}},rowMultiSelectWithClick:!0,headerHeight:30,rowHeight:36},defaultColDef:{flex:1}},this.visibleColumns=["checkedField","invoiceno","svcdate","billType","confirm","quantity","itemcode","shipstatus","shipdate","description","lastdatebilled","cmnexpire","notesexpiredate","authDate","primarypayer"],this.data$=this.store.select(sa.selectworkorderByFilter),this.selectedFilter$=this.store.select(sa.selectworkorderFilter),this.loading$=this.store.select(sa.selectLoading),this.workOrderFilterTypes=fs.billedItems,this.shipWorkOrder$=this.store.select(sa.selectShipWorkOrder),this.showAlert=!1,this.workOrderTotalObj={dueprimary:0,duesecondary:0,total:0},this.invoiceTotalObj={invoice_number:null,profit:0,margin:0},this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.selection=new Kt(!0,[]),this.toolbarData=[{title:"Shortcuts",type:"basic",icon:"heroicons_outline:bookmark",function:()=>{this.shortcutAction()}},{title:"Monthly Marker",type:"basic",icon:"heroicons_outline:calendar",function:()=>{this.toolbarAction()}},{title:"View Contact Notes",type:"basic",icon:"heroicons_outline:document-text",function:()=>{this.viewPatientNotes()}},{title:"View Payors",type:"basic",icon:"mat_outline:money",function:()=>{this.viewPayors()}}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.route.parent.paramMap.pipe(h(this)).subscribe(e=>{this.patientId=e.get("id"),this.store.dispatch(dt.LoadWorkOrder({patientId:+e.get("id")}))}),te([this.refresh$.pipe(Q(null))]).pipe(h(this)).subscribe(()=>{this.store.dispatch(dt.LoadWorkOrder({patientId:this.patientId}))}),this.actions$.pipe(b(Aa.Refresh),h(this)).subscribe(e=>this.refresh.next(e)),this.selectedFilter$.pipe(h(this)).subscribe(e=>{this.toolbarData[1].title=e===this.workOrderFilterTypes?"Monthly Marker":"Billed Items"}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e,this.rowData.length&&this.getCalculation()}),this.shipWorkOrder$.pipe(h(this)).subscribe(e=>{e.flag==="ELIGIBLE"?this.store.dispatch(dt.LoadWorkOrder({patientId:this.patientId})):(this.showAlert&&this.store.dispatch(dt.LoadWorkOrder({patientId:this.patientId})),this.alert={type:"error",message:e.response},setTimeout(()=>{this.alert=null,this.showAlert=!1,this.cdr.markForCheck()},7e3))})}getCalculation(){this.resetCount();for(let e of this.rowData)Object.keys(this.workOrderTotalObj).map(i=>{this.workOrderTotalObj[i]+=e[i]||0});this.workOrderTotalObj.total=this.workOrderTotalObj.dueprimary+this.workOrderTotalObj.duesecondary,this.workOrderTotalObj=this.transformObjectToDecimal(this.workOrderTotalObj)}transformObjectToDecimal(e,i="1.2-2"){let t={};for(let s in e)typeof e[s]=="number"?t[s]=this.decimalPipe.transform(e[s],i):t[s]=e[s];return t}resetCount(){this.workOrderTotalObj={dueprimary:0,duesecondary:0,total:0}}openWorkOrderDetails(e){this.columnParams=e;let i=this.toolbarData.findIndex(t=>t.title==="Edit");i!==-1&&this.updateToolBarData(i),this.toolbarData=[...this.toolbarData,{title:"Edit",type:"basic",icon:"mat_outline:edit",function:()=>{this.redirectToEdit(e)}}],this.calculateInvoiceTotal(e.data),this.cdr.detectChanges()}calculateInvoiceTotal(e){this.invoiceTotalObj.invoice_number=e.invoiceno?e.invoiceno:"";let i=this.rowData.filter(C=>C.invoiceno===e.invoiceno),t=0,s=0;for(let C of i)t+=C.allowed,s+=C.contractprice*C.shippingquantity;let m=t-s,u=(t-s)/t*100;this.invoiceTotalObj={invoice_number:e.invoiceno?e.invoiceno:"",profit:m,margin:m!==0?u:0},this.invoiceTotalObj=this.transformObjectToDecimal(this.invoiceTotalObj)}redirectToEdit(e){this.router.navigate([`/centers/patient-center/${this.patientId}/work-order/add`,e.data.id])}onSelectionChanged(e){this.columnParams=e,this.selection.setSelection(...e.api.getSelectedRows()),this.toolbarData=this.toolbarData.filter(i=>i.title!=="Group Edit"&&i.title!=="Ship"&&!i.title.endsWith("items selected")&&i.title!=="Edit"),e.api.getSelectedRows().length>0?this.toolbarData=[...this.toolbarData,{title:"Group Edit",type:"basic",icon:"mat_outline:edit_note",function:()=>{this.openGroupEdit(e)}},{title:"Ship",type:"basic",icon:"mat_outline:local_shipping",function:()=>{this.shipWorkOrder(e)}},{title:this.selection.selected.length+" items selected",type:"basic",icon:"mat_outline:delete",function:()=>{this.deleteWordOrderInBulk(e)}}]:this.selection.clear()}ngAfterViewInit(){}toolbarAction(){if(this.store.dispatch(dt.ToggleWorkOrderFilter()),this.columnParams){this.columnParams.api.clearFocusedCell(),this.columnParams.api.deselectAll();let e=this.toolbarData.findIndex(i=>i.title==="Edit");e!==-1&&this.updateToolBarData(e)}}shortcutAction(){let e={icon:"mat_outline:edit_note",title:"Select Shortcut",cancelButtonText:"Cancel",saveButtonText:"Ok",dynamicComponent:qn,dynamicComponentData:null,submitFunction:"saveSelectedShortcut",enterKeyEnabled:!0};this.dialog.open(E,{width:"70%",minHeight:"auto",data:e}).afterClosed().pipe(h(this)).subscribe(t=>{t.id!=null&&this.store.dispatch(dt.SaveSelectedProcessShortcut({id:t.id,patientId:this.patientId}))})}deleteRow(e){this.deleteRecord(e.data)}deleteRecord(e){this._fuseConfirmationService.open({title:"Delete Record",message:"Are you sure you want to delete this Record? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{t==="confirmed"&&this.store.dispatch(Aa.DeleteWorkRep({dto:e}))})}updateToolBarData(e){this.toolbarData=[...this.toolbarData.slice(0,e),...this.toolbarData.slice(e+1)]}deleteWordOrderInBulk(e){let i=e.api.getSelectedRows().map(s=>s.id);this._fuseConfirmationService.open({title:"Delete Work Orders",message:"Are you sure you want to delete these work orders? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(s=>{s==="confirmed"&&(this.store.dispatch(Aa.DeleteMultipleWorkRep({ids:i})),e.api.deselectAll())})}openGroupEdit(e){let i={icon:"mat_outline:edit_note",title:"Work Order Group Edit",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Ca,dynamicComponentData:this.columnParams.api.getSelectedRows().map(s=>s.id),submitFunction:"submit",enterKeyEnabled:!0};this.dialog.open(E,{width:"800px",height:"auto",data:i}).afterClosed().pipe(h(this)).subscribe(s=>{e.api.clearFocusedCell(),e.api.deselectAll();let m=this.toolbarData.findIndex(u=>u.title==="Edit");m!==-1&&this.updateToolBarData(m)})}shipWorkOrder(e){this._fuseConfirmationService.open({title:"Ship Work Order",message:"Are you sure you want to SHIP this work order? This action cannot be undone!",actions:{confirm:{label:"Ship"}}}).afterClosed().pipe(h(this)).subscribe(t=>{if(t==="confirmed"){this.showAlert=!0;let s={patientid:parseInt(this.patientId,10),flag:"",response:""};this.alert="",this.store.dispatch(dt.ShipWorkOrder({patientData:s})),e.api.clearFocusedCell(),e.api.deselectAll();let m=this.toolbarData.findIndex(u=>u.title==="Edit");m!==-1&&this.updateToolBarData(m)}})}openWorkOrder(){this.router.navigateByUrl(`/centers/patient-center/${this.patientId}/work-order/add`)}deliveryTicket(){}narrative(){}recurringOrder(){}collectionNotes(){}ngOnDestroy(){this.toolbarData[0].title==="Monthly Marker"&&this.toolbarAction(),this.columnParams=null}viewPatientNotes(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"CONTACT NOTES",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:kt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}viewPayors(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Payors",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Mt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(E,{width:"650px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(h(this)).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||wr)(p(F),p(K),p(xe),p(q),p(L),p(O),p(ce),p(z),p(ge),p(le),p(ki))}}static{this.\u0275cmp=A({type:wr,selectors:[["ac-patient-work-order"]],viewQuery:function(i,t){if(i&1&&ut(Ca,5),i&2){let s;ht(s=ft())&&(t.moduleItems=s.first)}},features:[re([xe,q,ki])],decls:51,vars:34,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","dark:bg-transparent"],[3,"rowSelectionChange","gridOptions","rowData","agGridHeight","columnDefs","visibleColumns","loading"],[1,"lg:flex"],[1,"ml-2","mr-2","w-full","border-t-2","bg-white","pl-2","pr-2","pt-2","dark:bg-transparent","lg:w-1/2"],[1,"flex","w-full","items-baseline"],[1,"whitespace-nowrap","pr-2"],[1,"w-6/12","pr-2"],["matPrefix","",1,"text-black"],["matInput","","readonly","",1,"uppercase",3,"ngModelChange","ngClass","ngModel"],["matInput","","readonly","",1,"uppercase",3,"ngModelChange","ngModel"],[3,"type"],["fuseAlertTitle",""]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),c(2,"fuse-horizontal-navigation",2),a(),R(3,wp,5,2,"div"),n(4,"div",3)(5,"div",3)(6,"aux-ag-grid",4),w(7,"async"),v("rowSelectionChange",function(m){return t.onSelectionChanged(m)}),a()(),n(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),l(12,"Work Order Total"),a(),n(13,"mat-form-field",9)(14,"mat-label"),l(15,"Primary"),a(),n(16,"span",10),l(17,"$\xA0"),a(),n(18,"input",11),ii("ngModelChange",function(m){return ti(t.workOrderTotalObj.dueprimary,m)||(t.workOrderTotalObj.dueprimary=m),m}),a()(),n(19,"mat-form-field",9)(20,"mat-label"),l(21,"Co-pay"),a(),n(22,"span",10),l(23,"$\xA0"),a(),n(24,"input",11),ii("ngModelChange",function(m){return ti(t.workOrderTotalObj.duesecondary,m)||(t.workOrderTotalObj.duesecondary=m),m}),a()(),n(25,"mat-form-field",9)(26,"mat-label"),l(27,"Total"),a(),n(28,"span",10),l(29,"$\xA0"),a(),n(30,"input",11),ii("ngModelChange",function(m){return ti(t.workOrderTotalObj.total,m)||(t.workOrderTotalObj.total=m),m}),a()()()(),n(31,"div",6)(32,"div",7)(33,"div",8),l(34,"Invoice Total"),a(),n(35,"mat-form-field",9)(36,"mat-label"),l(37,"Invoice#"),a(),n(38,"input",12),ii("ngModelChange",function(m){return ti(t.invoiceTotalObj.invoice_number,m)||(t.invoiceTotalObj.invoice_number=m),m}),a()(),n(39,"mat-form-field",9)(40,"mat-label"),l(41,"Profit/Loss$"),a(),n(42,"span",10),l(43,"$\xA0"),a(),n(44,"input",11),ii("ngModelChange",function(m){return ti(t.invoiceTotalObj.profit,m)||(t.invoiceTotalObj.profit=m),m}),a()(),n(45,"mat-form-field",9)(46,"mat-label"),l(47,"Margin%"),a(),n(48,"span",10),l(49,"$\xA0"),a(),n(50,"input",11),ii("ngModelChange",function(m){return ti(t.invoiceTotalObj.margin,m)||(t.invoiceTotalObj.margin=m),m}),a()()()()()()()),i&2&&(o(2),r("navigation",t.toolbarData)("name","patient-toolbar"),o(),B(t.showAlert&&t.alert.message?3:-1),o(3),r("gridOptions",t.options)("rowData",t.rowData)("agGridHeight","calc(100vh - 471px)")("columnDefs",t.columnDefs)("visibleColumns",t.visibleColumns)("loading",I(7,20,t.loading$)),o(12),r("ngClass",We(22,_r,t.workOrderTotalObj.dueprimary<0)),ei("ngModel",t.workOrderTotalObj.dueprimary),o(6),r("ngClass",We(24,_r,t.workOrderTotalObj.duesecondary<0)),ei("ngModel",t.workOrderTotalObj.duesecondary),o(6),r("ngClass",We(26,_r,t.workOrderTotalObj.total<0)),ei("ngModel",t.workOrderTotalObj.total),o(8),ei("ngModel",t.invoiceTotalObj.invoice_number),o(6),r("ngClass",Ii(28,hl,t.invoiceTotalObj.profit<0,t.invoiceTotalObj.profit>0)),ei("ngModel",t.invoiceTotalObj.profit),o(6),r("ngClass",Ii(31,hl,t.invoiceTotalObj.profit<0,t.invoiceTotalObj.profit>0)),ei("ngModel",t.invoiceTotalObj.margin))},dependencies:[Z,oi,se,Ee,Ie,Fe,Re,fe,De,he,Rt,Yi,zi,G],encapsulation:2,data:{animation:Bt},changeDetection:0})}};zn=N([k()],zn);function Ip(d,e){if(d&1&&(n(0,"span"),l(1),a()),d&2){let i=U(2).$implicit;o(),$(i.address1)}}function Ep(d,e){if(d&1&&(n(0,"span"),l(1),a()),d&2){let i=U(2).$implicit;o(),$(i.address2)}}function Fp(d,e){if(d&1&&(n(0,"a",14)(1,"div",16),c(2,"mat-icon",17),a(),n(3,"div")(4,"p",18),l(5),w(6,"phonenumber"),a(),n(7,"p",19),l(8,"Phone"),a()()()),d&2){let i=U(2).$implicit;eo("href","tel:",i.phone,"",Jn),o(2),r("svgIcon","mat_outline:phone"),o(3),$(I(6,4,i.phone))}}function Ap(d,e){if(d&1&&(n(0,"a",15)(1,"div",20),c(2,"mat-icon",21),a(),n(3,"div")(4,"p",18),l(5),w(6,"phonenumber"),a(),n(7,"p",19),l(8,"Fax"),a()()()),d&2){let i=U(2).$implicit;eo("href","tel:",i.fax,"",Jn),o(2),r("svgIcon","mat_outline:print"),o(3),$(I(6,4,i.fax))}}function Tp(d,e){if(d&1&&(n(0,"div",12)(1,"div",12)(2,"span",13),l(3),a(),R(4,Ip,2,1,"span")(5,Ep,2,1,"span"),n(6,"span"),l(7),a()(),n(8,"div",12),R(9,Fp,9,6,"a",14)(10,Ap,9,6,"a",15),a()()),d&2){let i=U().$implicit;o(3),xa("",i.firstName," ",i.lastName,""),o(),B(i.address1?4:-1),o(),B(i.address2?5:-1),o(2),Rr("",i.city," ",i.state," ",i.zip,""),o(2),B(i.phone?9:-1),o(),B(i.fax?10:-1)}}function Np(d,e){d&1&&(n(0,"div"),l(1,"N/A"),a())}function kp(d,e){if(d&1&&(n(0,"div",9)(1,"div",10)(2,"div",11),l(3," DOCTOR "),a(),n(4,"mat-list"),R(5,Tp,11,9,"div",12)(6,Np,2,0,"div"),a()()()),d&2){let i=e.$implicit;o(5),B(i?5:-1),o(),B(i?-1:6)}}function Mp(d,e){if(d&1){let i=Se();n(0,"mat-expansion-panel")(1,"mat-expansion-panel-header",22)(2,"mat-panel-title",23),l(3),a()(),n(4,"mat-form-field",24)(5,"textarea",25),ii("ngModelChange",function(s){let m=P(i).$implicit;return ti(m.defaultText,s)||(m.defaultText=s),_(s)}),a()(),n(6,"div",26)(7,"button",27),w(8,"async"),v("click",function(){let s=P(i).$implicit,m=U();return _(m.sendFaxMessage(s.title,s.defaultText))}),l(9," Send "),a()()()}if(d&2){let i=e.$implicit,t=U();o(),r("collapsedHeight","56px"),o(2),$(i.title),o(2),ei("ngModel",i.defaultText),o(2),r("disabled",I(8,4,t.loading$))}}var Yn=class Ir{constructor(e,i,t){this.store=e,this.dateFormatPipe=i,this.router=t,this.patient$=this.store.select($e.selectPatientDetails),this.doctorDetails$=this.store.select(so.selectDoctorDetails),this.loading$=this.store.select(so.selectLoading)}ngOnInit(){this.patientId=Number(this.router.url.split("/")[3]),this.store.dispatch(Si.getDoctorDetails({patientId:this.patientId})),te([this.patient$,this.doctorDetails$]).pipe(h(this)).subscribe(([e,i])=>{this.patientId=e?.id,this.patientEmail=e?.email;let t=e?.dob,s=e?.firstname+" "+e?.lastname,m=i?.firstName||i?.lastName?i?.firstName+" "+i?.lastName:null;this.quickFaxData=[{title:"VISIT NOTES DO NOT INDICATE PATIENT IS USING THE CGM AS PRESCRIBED",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. The patient\u2019s last visit notes we received do not contain Medicare\u2019s required 6-month continuation of medical need documentation stating the PATIENT IS USING THE CGM AS PRESCRIBED. If deemed appropriate, please update the visit notes with a continuation of medical need comment and forward via Acentus fax 866-695-2183, Parachute or drag & drop into your Acentus ANSWERS portal to prevent a supply disruption. Please contact us at service@acentus365.com with any questions. Thank you!`},{title:"PATIENT DOES NOT WANT TO USE A CGM",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. After contacting the patient, they have decided not to move forward with CGM at this time. Patient indicated they will address the reasons with the doctor. We will cancel this request, however if the patient decides otherwise, they were advised to contact us for service onboarding. Please contact us at service@acentus365.com with any questions. Thank you!`},{title:"PATIENT DOES NOT QUALIFY FOR CGM",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. Unfortunately, the visit notes received do not contain the required documentation to meet the Medicare CGM DME benefit as outlined in the most recent Medicare CGM LCD. This order has been cancelled as we are unable to supply the patient at this time. If the patient\u2019s medical condition changes, please forward visit notes via Acentus fax 866-695-2183, Parachute or drag & drop into your Acentus ANSWERS portal and we will reopen this patient referral. Please contact us at service@acentus365.com with any questions. Thank you!`},{title:"PATIENT BEING INACTIVATED DUE TO NO CONTACT",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. We have made numerous attempts to contact the patient for CGM reorders to no avail. We have also tried all contact sources listed on the demographic and visit notes and they are not returning our messages. We are inactivating service with this patient; however we will reopen the request if the patient contacts us. Please contact us at service@acentus365.com with any questions. Thank you!`},{title:"MISSING VISIT NOTES REQUEST",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. Unfortunately, visit notes were not included when the patient referral was initially sent to us. As required by Medicare, please provide visit notes no older than 6 months via Acentus fax: 866-695-2183, Parachute or drag & drop into your Acentus ANSWERS portal. Please contact us at service@acentus365.com with any questions. Thank you!`},{title:"CANNOT REACH PATIENT",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. We have made numerous attempts to contact the patient to no avail. We have tried all contact sources listed on the demographic and visit notes and they are not returning our messages. This order has been cancelled; however, we will reopen the request if the patient contacts us.`},{title:"ACENTUS IS OUT OF NETWORK WITH PATIENT\u2019S INSURANCE",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. Unfortunately, Acentus is out of network with this patient\u2019s insurance. Please forward this patient referral to a supplier who is in-network. Please contact us at service@acentus365.com with any questions. Thank you!`},{title:"MISSING DEMOGRAPHICS REQUEST",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. Unfortunately, the DEMOGRAPHIC sheet was not included when the patient referral was initially sent to us. For us to proceed with the onboarding process, please send us the patient\u2019s demographic sheet showing their current insurance plans via Acentus fax 866-695-2183, Parachute or drag & drop into your Acentus ANSWERS portal. Please contact us at service@acentus365.com with any questions. Thank you!`},{title:"PATIENT SWITCHING SUPPLIERS TO ACENTUS-NEED ORIGINAL VISIT NOTES",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. During our insurance verification process, we found a different CGM supplier has qualified this patient for a CGM and Medicare was billed for a CGM reader in the past 5 years. Medicare requires us to maintain the original visit notes that show the patient qualified for a CGM. Please forward those original visit notes via Acentus fax 866-695-2183, Parachute or drag & drop into your Acentus ANSWERS portal so we can continue with the patient onboarding process. Please contact us at service@acentus365.com with any questions. Thank you!`},{title:"PATIENT DOES NOT WANT TO SWITCH CGM SUPPLIERS",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. After communicating with this patient, they indicated they are currently set up and receiving CGM supplies from another DME company and do not want to switch to Acentus at this time. We advised patient to contact us if that changes as we are happy to assist. Please contact us at service@acentus365.com with any questions. Thank you!`},{title:"MISSING SWO REQUEST WITH COMPLETED SWO",defaultText:`Thank you for the CGM patient referral for ${s} with DOB ${this.dateFormatPipe.transform(t)}. Unfortunately, a completed/signed/dated Standard Written Order (SWO) was not included when the patient referral was initially sent to us. As required by Medicare, please have the following SWO signed & dated by ${m!==null?m:"XXXXXX XXXXXXXXX"} and forwarded via Acentus fax 866-695-2183, Parachute or drag & drop into your Acentus ANSWERS portal. Please contact us at service@acentus365.com with any questions. Thank you!`}]})}sendFaxMessage(e,i){this.store.dispatch(Si.sendFaxMessage({patientId:this.patientId,title:e,message:i}))}static{this.\u0275fac=function(i){return new(i||Ir)(p(F),p(q),p(O))}}static{this.\u0275cmp=A({type:Ir,selectors:[["ac-quick-fax-tool"]],features:[re([q])],decls:12,vars:1,consts:[[1,"flex","min-w-0","flex-auto","flex-col",2,"height","695px","overflow-y","scroll"],[1,"flex","flex-col","items-center","pt-0"],[1,"flex","h-full","w-full","flex-col"],[1,"flex","flex-col","md:flex-row"],[1,"w-full","flex-none","bg-white","p-4","dark:bg-transparent","md:max-w-sm"],["class","flex w-full flex-col",4,"ngrxLet"],[1,"flex","flex-1","flex-col","p-4","pl-12"],[1,"my-auto","truncate","text-2xl","font-extrabold","leading-7","sm:leading-10","md:text-3xl"],[1,"mat-accordion","mt-8","max-w-4xl"],[1,"flex","w-full","flex-col"],[1,"flex","flex-col","bg-white","p-4","dark:bg-transparent"],[1,"flex","w-full","justify-center","bg-gray-100","pb-4","pt-4","text-center","font-bold","uppercase","text-primary","shadow"],[1,"flex","flex-col"],[1,"font-bold"],["matRipple","",1,"relative","flex","items-center","rounded-full","px-2","py-3","transition","duration-200","ease-in-out","hover:bg-blue-100",3,"href"],["matRipple","",1,"relative","flex","items-center","rounded-full","px-2","py-3","transition","duration-200","ease-in-out","hover:bg-green-100",3,"href"],[1,"mr-3","flex","h-12","w-12","items-center","justify-center","rounded-full","bg-blue-100","text-blue-500"],[1,"text-blue-500",3,"svgIcon"],[1,"m-0","font-bold"],[1,"text-secondary","m-0"],[1,"mr-3","flex","h-12","w-12","items-center","justify-center","rounded-full","bg-green-100","text-green-500"],[1,"text-green-500",3,"svgIcon"],[3,"collapsedHeight"],[1,"font-medium","leading-tight"],["appearance","outline",1,"w-full"],["matInput","","rows","8","placeholder","Your fax message",1,"text-lg","text-black","dark:text-white",3,"ngModelChange","ngModel"],[1,"mt-2","flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"mat-primary",3,"click","disabled"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),R(5,kp,7,2,"div",5),a(),n(6,"div",6)(7,"div",7),l(8," Choose Your Fax Message "),a(),n(9,"mat-accordion",8),ae(10,Mp,10,6,"mat-expansion-panel",null,de),a()()()()()()),i&2&&(o(5),r("ngrxLet",t.doctorDetails$),o(5),ne(t.quickFaxData))},dependencies:[Zs,Va,zr,ye,Xs,Ys,Ks,Qs,Ee,Fe,fe,De,he,Yi,zi,Fa,G,Wt],styles:["textarea[_ngcontent-%COMP%]{resize:none}"]})}};Yn=N([k()],Yn);var Op=d=>({"mb-5":d});function jp(d,e){if(d&1&&(n(0,"mat-error"),l(1),a()),d&2){let i=U();o(),W("Please enter a valid date! It should be ",i.dateFormat,".")}}var Kn=class Er{constructor(e,i,t,s,m){this.matDialogRef=e,this._formBuilder=i,this.router=t,this.auxUtilService=s,this.store=m,this.dropDownOption=na,this.newPatientId$=this.store.select(Ei.selectPatient),this.dateFormat=ot.DATE_FORMAT}ngOnInit(){this.addForm=this._formBuilder.group({id:[0],firstname:["",[et.required]],lastname:["",[et.required]],sex:["",[et.required]],dob:["",[et.required]],phone:[""]}),this.newPatientId$.pipe(h(this)).subscribe(e=>{this.patientId=e})}savePatient(){if(!this.addForm.invalid&&this.addForm.value.id==0){this.addForm.value.addDate=new Date;let e=this.addForm.value;e.firstname=e.firstname?e.firstname.toUpperCase():"",e.lastname=e.lastname?e.lastname.toUpperCase():"",this.store.dispatch(Xe.AddPatientQuickSave({patient:e})),this.matDialogRef.close()}}closeDocument(){this.matDialogRef.close()}onDateChange(e,i){this.addForm=this.auxUtilService.manuallyCheckDateValid(e.target.value,this.addForm,i)}static{this.\u0275fac=function(i){return new(i||Er)(p(Be),p(st),p(O),p(ke),p(F))}}static{this.\u0275cmp=A({type:Er,selectors:[["patient-quick-save-form"]],decls:27,vars:33,consts:[["datepicker","matDatepicker"],[1,"flex","flex-auto","flex-col","overflow-y-auto","p-6","sm:p-6","sm:pb-0",3,"formGroup"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","","tabindex","1",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[1,"mt-4","w-full",3,"subscriptSizing"],["matInput","","tabindex","2",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[3,"className","tabindex","label","selectOption","controlName","matForm"],[1,"custom-datepicker-toggle","w-full",3,"ngClass"],[1,"input-container"],["matSuffix","",3,"for"],["matInput","","tabindex","4",3,"change","formControlName","matDatepicker","placeholder"],[1,"mb-4","w-full",3,"subscriptSizing"],["matInput","","mask","(000) 000-0000","numbers","","tabindex","5",3,"formControlName","value","showMaskTyped","placeholder"]],template:function(i,t){if(i&1){let s=Se();n(0,"form",1)(1,"mat-form-field",2)(2,"mat-label"),l(3,"First Name"),a(),c(4,"mat-icon",3)(5,"input",4),a(),n(6,"mat-form-field",5)(7,"mat-label"),l(8,"Last Name"),a(),c(9,"mat-icon",3)(10,"input",6),a(),c(11,"aux-select-dropdown",7),n(12,"mat-form-field",8)(13,"mat-label"),l(14,"Date of Birth"),a(),n(15,"div",9),c(16,"mat-datepicker-toggle",10),n(17,"input",11),v("change",function(u){return P(s),_(t.onDateChange(u,"dob"))}),a()(),c(18,"mat-datepicker",null,0),R(20,jp,2,1,"mat-error"),a(),n(21,"mat-form-field",12)(22,"mat-label"),l(23,"Phone"),a(),c(24,"mat-icon",3)(25,"input",13),w(26,"phone"),a()()}if(i&2){let s=Y(19);r("formGroup",t.addForm),o(),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","firstname")("placeholder","First Name")("spellcheck",!1),o(),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:user-circle"),o(),r("formControlName","lastname")("placeholder","Last Name")("spellcheck",!1),o(),r("className","w-full mt-4")("tabindex",3)("label","Sex")("selectOption",t.dropDownOption.sex)("controlName","sex")("matForm",t.addForm),o(),r("ngClass",We(31,Op,t.addForm.get("dob").hasError("notValidDate"))),o(4),r("for",s),o(),r("formControlName","dob")("matDatepicker",s)("placeholder",t.dateFormat),o(3),B(t.addForm.get("dob").hasError("notValidDate")?20:-1),o(),r("subscriptSizing","dynamic"),o(3),r("svgIcon","heroicons_solid:phone"),o(),r("formControlName","phone")("value",I(26,29,""))("showMaskTyped",!0)("placeholder","Phone")}},dependencies:[fe,Oe,De,he,_e,we,Ne,Ee,Ie,ye,Re,Fe,Ft,Rt,Pt,mt,St,xt,Dt,ui,oa,Ji],encapsulation:2})}};Kn=N([k()],Kn);var Qn=class Fr{constructor(e,i,t,s,m){this._fuseMediaWatcherService=e,this.searchService=i,this._matDialog=t,this.route=s,this.breakpointObserver=m,this.toggleMenu=!1,this.drawerMode="side",this.drawerOpened=!0,this.categories=Zi,this.menuData=[{title:"Actions",subtitle:"Add Patient",type:"group",children:[{title:"Search Patient",type:"basic",icon:"mat_outline:search",function:()=>{this.openSearchModal()}},{title:"Add Patient",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}},{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()}}]},{title:"Filters",type:"group",children:[{title:"None",type:"basic",icon:"mat_outline:cancel_presentation",link:"./none"}]}],this.searchCtrl=new Me,this.isHandset$=this.breakpointObserver.observe([io.Tablet,io.Handset]).pipe(x(u=>u.matches),Mr())}ngOnInit(){this.searchCtrl.valueChanges.pipe(h(this)).subscribe(e=>this.searchService.search.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(h(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}openCreate(){let e={icon:"mat_outline:edit_note",title:"Add New Patient",cancelButtonText:"Cancel",saveButtonText:"Ok",dynamicComponent:Kn,dynamicComponentData:null,submitFunction:"savePatient",enterKeyEnabled:!0},i=this._matDialog.open(E,{width:"700px",height:"auto",data:e})}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}openSearchModal(){let e={icon:"mat_outline:edit_note",title:"Patient Search",cancelButtonText:"Cancel",saveButtonText:"Ok",dynamicComponent:Jr,dynamicComponentData:null,submitFunction:"searchPatient",enterKeyEnabled:!0},i=this._matDialog.open(E,{width:"700px",height:"auto",data:e})}static{this.\u0275fac=function(i){return new(i||Fr)(p(Ki),p(be),p(z),p(K),p(Ur))}}static{this.\u0275cmp=A({type:Fr,selectors:[["ac-patient-center"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),l(5," PatientCenter "),a()()(),n(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),c(10,"mat-icon",9)(11,"input",10),a()()()(),n(12,"div",11)(13,"button",12),v("click",function(){P(s);let u=Y(17);return _(u.toggle())}),c(14,"mat-icon",13),a()()(),n(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),c(18,"aux-sidebar",16),a(),n(19,"mat-drawer-content",17)(20,"div",18),c(21,"router-outlet"),a()()()()}i&2&&(o(10),r("svgIcon","mat_outline:search"),o(),r("formControl",t.searchCtrl),o(3),r("svgIcon","heroicons_outline:menu"),o(2),r("autoFocus",!1)("mode",t.drawerMode)("opened",t.drawerOpened),o(2),r("menuData",t.menuData)("showTitle",!1)("title","PatientCenter Actions"))},dependencies:[ye,fe,De,he,$t,Ea,Ma,ka,os,Na,_a],encapsulation:2,data:{animation:[is,ns,ts,as]}})}};Qn=N([k()],Qn);function Rp(d,e){d&1&&(n(0,"div",1),l(1," CASH "),a())}function $p(d,e){d&1&&(n(0,"div",2),l(1," CGM "),a())}function Bp(d,e){d&1&&(n(0,"div",3),l(1," ENTERAL "),a())}function Vp(d,e){d&1&&(n(0,"div",4),l(1," INCONTINENCE "),a())}function Lp(d,e){d&1&&(n(0,"div",2),l(1," OSTOMY "),a())}function Wp(d,e){d&1&&(n(0,"div",1),l(1," OTHER "),a())}function Gp(d,e){d&1&&(n(0,"div",5),l(1," UROLOGY "),a())}function Up(d,e){d&1&&(n(0,"div",6),l(1," WOUND "),a())}var fl=(()=>{class d{static{this.\u0275fac=function(t){return new(t||d)}}static{this.\u0275cmp=A({type:d,selectors:[["ac-patient-category"]],inputs:{category:"category"},decls:9,vars:1,consts:[[1,"flex"],[1,"category","flex","flex-none","items-center","rounded-full","bg-gray-100","px-2","text-xs","font-bold","text-gray-500"],[1,"category","flex","flex-none","items-center","rounded-full","bg-purple-100","px-2","text-xs","font-bold","text-purple-500"],[1,"category","flex","flex-none","items-center","rounded-full","bg-blue-100","px-2","text-xs","font-bold","text-blue-500"],[1,"category","flex","flex-none","items-center","rounded-full","bg-orange-100","px-2","text-xs","font-bold","text-orange-500"],[1,"category","flex","flex-none","items-center","rounded-full","bg-pink-100","px-2","text-xs","font-bold","text-pink-500"],[1,"category","flex","flex-none","items-center","rounded-full","bg-yellow-100","px-2","text-xs","font-bold","text-yellow-500"]],template:function(t,s){if(t&1&&(n(0,"div",0),R(1,Rp,2,0,"div",1)(2,$p,2,0,"div",2)(3,Bp,2,0,"div",3)(4,Vp,2,0,"div",4)(5,Lp,2,0,"div",2)(6,Wp,2,0,"div",1)(7,Gp,2,0,"div",5)(8,Up,2,0,"div",6),a()),t&2){let m;o(),B((m=s.category)==="CASH"?1:m==="CGM"?2:m==="ENTERAL"?3:m==="INCONTINENCE"?4:m==="OSTOMY"?5:m==="OTHER"?6:m==="UROLOGY"?7:m==="WOUND"?8:-1)}},styles:[".category[_ngcontent-%COMP%]{max-height:24px}"]})}}return d})();var Hp=()=>["/centers/patient-center/"],qp=d=>[d],va=(d,e)=>({"text-green-500":d,"text-red-500":e});function zp(d,e){if(d&1&&(n(0,"div",41),l(1),a()),d&2){let i=U(2);o(),W(" STATE: ",i.patientDetails.state," ")}}function Yp(d,e){if(d&1&&(n(0,"div",23),c(1,"ngx-avatars",33),n(2,"div",34)(3,"div",35)(4,"h2",36),l(5),n(6,"span",37),l(7),w(8,"date"),a()()(),n(9,"div",24)(10,"div",38),l(11),a(),n(12,"div",30),c(13,"ac-patient-status",39),a(),n(14,"div",30),c(15,"ac-patient-category",40),a(),n(16,"div",24),R(17,zp,2,1,"div",41),a(),n(18,"div",42),c(19,"mat-icon",21),a()()()()),d&2){let i=U();o(),r("name",(i.patientDetails==null?null:i.patientDetails.firstName)+" "+(i.patientDetails==null?null:i.patientDetails.lastName)),o(4),W(" ",i.patientDetails.firstName+" "+i.patientDetails.lastName," "),o(2),W(" (",Br(8,8,i.patientDetails.dob,"MM/dd/yyyy"),") "),o(4),W(" ",i.patientId," "),o(2),r("status",i.patientDetails==null?null:i.patientDetails.patientstatus),o(2),r("category",i.patientDetails==null?null:i.patientDetails.patientcategory),o(2),B(i.patientDetails!=null&&i.patientDetails.state?17:-1),o(2),r("svgIcon",i.countryFlag)}}var ya=class Ar{constructor(e,i,t,s,m,u,C,D){this._fuseMediaWatcherService=e,this.store=i,this.route=t,this.cdr=s,this.router=m,this.actions$=u,this._fuseConfigService=C,this.titleService=D,this.countryFlag="US",this.drawerMode="side",this.drawerOpened=!0,this.gaugeOptions=ai(Je({},Mi),{series:[0]}),this.loading$=this.store.select($e.selectLoading).pipe(kr(500)),this.data$=this.route.paramMap.pipe(j(f=>this.store.select($e.selectPatientDetails))),this.patientValidation$=this.store.select($e.selectPatientValidation),this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.menuData=[{title:"Tools",subtitle:"",classes:{title:"uppercase font-bold "+Ve.red.text},type:"collapsable",children:[{title:"Quick Fax Tool",type:"basic",icon:"mat_outline:print",link:"./quickfaxtool",classes:{wrapper:"padding-style",icon:Ve.yellow.text+" aux-icon-size"}},{title:"Insurance Verification",type:"basic",icon:"mat_outline:verified",link:"./efirst",classes:{wrapper:"padding-style",icon:Ve.purple.text+" aux-icon-size"}},{title:"Emails & Texts Sent",type:"basic",icon:"mat_outline:mark_email_read",link:"./automated-emails-sent",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Prefilled/Editable SWO",type:"basic",icon:"feather:edit",link:"./prefilled-editable-swo",classes:{wrapper:"padding-style",icon:Ve.pink.text+" aux-icon-size"}}]},{title:"Servicing Actions",type:"group",children:[{title:"Demographics",type:"basic",icon:"heroicons_outline:clipboard-document-list",link:"./demographics",classes:{wrapper:"padding-style",icon:Ve.red.text+" aux-icon-size"}},{title:"Physicians",type:"basic",icon:"heroicons_outline:users",link:"./physicians",classes:{wrapper:"padding-style",icon:Ve.lime.text+" aux-icon-size"}},{title:"Checklists",type:"basic",icon:"mat_outline:checklist",link:"./checklists",classes:{wrapper:"padding-style",icon:Ve.yellow.text+" aux-icon-size"}},{title:"Payors",type:"basic",icon:"heroicons_outline:cash",link:"./payors",classes:{wrapper:"padding-style",icon:Ve.sky.text+" aux-icon-size"}},{title:"Diagnosis Codes",type:"basic",icon:"mat_outline:document_scanner",link:"./diagnosis-codes",classes:{wrapper:"padding-style",icon:Ve.purple.text+" aux-icon-size"}},{title:"Alternate Addresses",type:"basic",icon:"heroicons_outline:home",link:"./alternate-addresses",classes:{wrapper:"padding-style",icon:Ve.teal.text+" aux-icon-size"}},{title:"Documents",type:"basic",icon:"heroicons_outline:document-duplicate",link:"./documents",classes:{wrapper:"padding-style",icon:Ve.green.text+" aux-icon-size"}},{title:"Order History",type:"basic",icon:"heroicons_outline:shopping-bag",link:"./order-history",classes:{wrapper:"padding-style",icon:Ve.rose.text+" aux-icon-size"}},{title:"Contact Notes",type:"basic",icon:"heroicons_outline:annotation",link:"./contact-notes",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Work Order",type:"basic",icon:"mat_outline:inventory",link:"./work-order",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Additional Contacts",type:"basic",icon:"mat_outline:health_and_safety",link:"./additional-contacts",classes:{wrapper:"padding-style",icon:"aux-icon-size"}},{title:"Compliance",type:"basic",icon:"heroicons_outline:exclamation-triangle",link:"./compliance",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Care Management",type:"basic",icon:"heroicons_outline:heart",link:"./caremanagement",classes:{wrapper:"padding-style",icon:Ve.purple.text+" aux-icon-size"}}]},{title:"Billing Actions",subtitle:"",type:"group",classes:{title:"uppercase font-bold "+Ve.green.text},children:[{title:"Charges",type:"basic",icon:"heroicons_outline:clipboard-document-list",link:"./charges",classes:{wrapper:"padding-style",icon:Ve.green.text+" aux-icon-size"}},{title:"AR History",type:"basic",icon:"heroicons_outline:clipboard-document-list",link:"./ar-history",classes:{wrapper:"padding-style",icon:Ve.green.text+" aux-icon-size"}},{title:"Inquiry/Changes",type:"basic",icon:"heroicons_outline:clipboard-document-list",link:"./inquiry-changes",classes:{wrapper:"padding-style",icon:Ve.green.text+" aux-icon-size"}},{title:"Payments & Adjustments",type:"basic",icon:"heroicons_outline:clipboard-document-list",link:"./payments-adjustments",classes:{wrapper:"padding-style",icon:Ve.green.text+" aux-icon-size"}},{title:"Collection Notes",type:"basic",icon:"heroicons_outline:clipboard-document-list",link:"./collection-notes",classes:{wrapper:"padding-style",icon:Ve.green.text+" aux-icon-size"}},{title:"Audit Event",type:"basic",icon:"heroicons_outline:clipboard-document-list",link:"./audit-event",classes:{wrapper:"padding-style",icon:Ve.green.text+" aux-icon-size"}}]},{title:"Billing Events",subtitle:"",type:"group",classes:{title:"uppercase font-bold "+Ve.blue.text},children:[{title:"Primary",type:"basic",icon:"mat_outline:receipt_long",link:"./primary",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Secondary",type:"basic",icon:"mat_outline:receipt_long",link:"./secondary",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Insurance Refunds",type:"basic",icon:"mat_outline:receipt_long",link:"./insurancerefunds",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Patient Refunds",type:"basic",icon:"mat_outline:receipt_long",link:"./patientrefunds",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Insurance Paid",type:"basic",icon:"mat_outline:receipt_long",link:"./insurancepaid",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Returns",type:"basic",icon:"mat_outline:receipt_long",link:"./returns",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Patient Calls",type:"basic",icon:"mat_outline:receipt_long",link:"./patientcalls",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Claim Calls",type:"basic",icon:"mat_outline:receipt_long",link:"./claimcalls",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Appeals",type:"basic",icon:"mat_outline:receipt_long",link:"./appeals",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Open AR Report",type:"basic",icon:"mat_outline:receipt_long",link:"./openarreport",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}},{title:"Financial Assistance",type:"basic",icon:"mat_outline:receipt_long",link:"./financialassistance",classes:{wrapper:"padding-style",icon:Ve.blue.text+" aux-icon-size"}}]}]}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.titleService.value$.pipe(h(this)).subscribe(e=>{setTimeout(()=>{this.title=e})}),te([this.route.paramMap]).pipe(h(this)).subscribe(()=>{this.patientId=Number(this.route.snapshot.paramMap.get("id")),this.store.dispatch(qe.LoadPatientValidation({id:this.patientId})),this.store.dispatch(qe.LoadPatientDetails({id:this.patientId}))}),this.patientValidation$.pipe(h(this)).subscribe(e=>{e&&(this.patientValidationResp=e,this.updateGaugeOptions(),this.cdr.markForCheck())}),this.data$.pipe(h(this)).subscribe(e=>{e&&(this.patientDetails=e,this.patientDetails&&this.getIcon(this.patientDetails.language))}),this.actions$.pipe(b(qe.Refresh),h(this)).subscribe(e=>this.refresh.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(h(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}updateGaugeOptions(){let e="#000000";this._fuseConfigService.config$.pipe(h(this)).subscribe(t=>{t.scheme==="dark"&&(e="#FFFFFF")});let i=this.patientValidationResp?.percent||0;this.gaugeOptions=ai(Je({},Mi),{chart:ai(Je({},Mi.chart),{height:150,offsetY:-8}),plotOptions:ai(Je({},Mi.plotOptions),{radialBar:ai(Je({},Mi.plotOptions.radialBar),{dataLabels:ai(Je({},Mi.plotOptions.radialBar.dataLabels),{value:ai(Je({},Mi.plotOptions.radialBar.dataLabels.value),{fontSize:"1.2rem",color:e})})})}),fill:{colors:[this.getGaugeColor(i)]}})}getGaugeColor(e){return e===100?"#22c55e":e>=50&&e<=99?"#FFA500":"#FF0000"}getIcon(e){e=="ENGLISH"?this.countryFlag="US":e=="SPANISH"?this.countryFlag="ES":this.countryFlag="US"}ngOnDestroy(){}static{this.\u0275fac=function(i){return new(i||Ar)(p(Ki),p(F),p(K),p(ce),p(O),p(L),p(Yr),p(le))}}static{this.\u0275cmp=A({type:Ar,selectors:[["patient-details"]],decls:76,vars:68,consts:[["matDrawer",""],[1,"flex","min-w-0","flex-auto","flex-col"],[1,"flex-auto"],[3,"show"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[1,"mx-6","mt-6","text-2xl","font-bold"],[3,"appearance","navigation","inner","mode","name","opened"],[1,"flex","flex-col"],[1,"bg-card","flex","flex-0","flex-col","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:pb-0","sm:pt-2"],[1,"min-w-0","flex-1"],[1,"hidden","w-full","flex-wrap","items-center","font-medium","sm:flex"],[1,"whitespace-nowrap","text-sm","font-bold","uppercase","tracking-wider","text-primary-500"],[1,"ml-1","flex","items-center","whitespace-nowrap"],[1,"text-secondary","icon-size-5",3,"svgIcon"],[1,"ml-1","whitespace-nowrap","text-sm","font-bold","uppercase","tracking-wider","text-primary-500",3,"routerLink"],[1,"text-secondary","ml-1","whitespace-nowrap","text-sm","font-bold","uppercase","tracking-wider"],[1,"flex","pl-4","pt-4","sm:hidden"],[1,"text-secondary","-ml-1.5","inline-flex","items-center","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-6","flex","shrink-0","items-center","sm:mt-0"],["mat-icon-button",""],[3,"svgIcon"],[1,"bg-card","flex","flex-0","flex-col","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:pb-4","sm:pt-0"],[1,"flex"],[1,"flex","items-center"],[1,"flex","h-full","flex-1","items-center"],[3,"options","series"],[1,"flex","h-full","flex-1","flex-col","justify-center"],[1,"flex","flex-col","leading-[8px]"],[1,"mb-2","flex","items-center","text-xs",3,"ngClass"],[1,"mr-2"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],["size","75",1,"mr-4","mt-1",3,"name"],[1,"items-left","my-auto"],[1,"grid"],[1,"my-auto","truncate","text-2xl","font-extrabold","leading-7","sm:leading-10","md:text-3xl"],[1,"text-md","text-gray-500"],[1,"mr-2","flex","flex-none","items-center","rounded","bg-yellow-300","px-2","text-xs","font-medium","text-black"],[3,"status"],[3,"category"],[1,"mr-2","flex","flex-none","items-center","rounded","bg-cyan-200","px-2","text-xs","font-medium","text-black"],[1,"mt-1"]],template:function(i,t){if(i&1){let s=Se();n(0,"div",1)(1,"mat-drawer-container",2),c(2,"ac-loading-overlay",3),w(3,"async"),n(4,"mat-drawer",4,0)(6,"div",5),l(7,"Patient Details"),a(),c(8,"fuse-vertical-navigation",6),a(),n(9,"mat-drawer-content",7)(10,"div",8)(11,"div",9)(12,"div")(13,"div",10)(14,"div")(15,"a",11),l(16,"Home"),a()(),n(17,"div",12),c(18,"mat-icon",13),n(19,"a",14),l(20,"Patient Center"),a()(),n(21,"div",12),c(22,"mat-icon",13),n(23,"span",15),l(24),a()()(),n(25,"div",16)(26,"a",17),c(27,"mat-icon",13),n(28,"span",18),l(29,"Back"),a()()()()(),n(30,"div",19)(31,"button",20),c(32,"mat-icon",21),a(),n(33,"button",20),c(34,"mat-icon",21),a(),n(35,"button",20),c(36,"mat-icon",21),a(),n(37,"button",20),c(38,"mat-icon",21),a(),n(39,"button",20),c(40,"mat-icon",21),a()()(),n(41,"div",22)(42,"div",9),R(43,Yp,20,11,"div",23),a(),n(44,"div",24)(45,"div",25),c(46,"aux-chart",26),a(),n(47,"div",27)(48,"div",28)(49,"div",29)(50,"span",30),l(51),a(),l(52," PHYSICIAN "),a(),n(53,"div",29)(54,"span",30),l(55),a(),l(56," PAYOR "),a(),n(57,"div",29)(58,"span",30),l(59),a(),l(60," DIAGNOSIS CODE "),a(),n(61,"div",29)(62,"span",30),l(63),a(),l(64," EXPIRED DOCS "),a(),n(65,"div",29)(66,"span",30),l(67),a(),l(68," PATIENT CATEGORY "),a()()()(),n(69,"div",31)(70,"button",32),v("click",function(){P(s);let u=Y(5);return _(u.toggle())}),c(71,"mat-icon",21),a()()(),n(72,"div",2),c(73,"ac-loading-overlay",3),w(74,"async"),c(75,"router-outlet"),a()()()()}i&2&&(o(2),r("show",I(3,46,t.loading$)),o(2),r("autoFocus",!1)("mode",t.drawerMode)("opened",t.drawerOpened),o(4),r("appearance","default")("navigation",t.menuData)("inner",!0)("mode","side")("name","patient-details-navigation")("opened",!0),o(10),r("svgIcon","heroicons_solid:chevron-right"),o(),r("routerLink",$r(50,Hp)),o(3),r("svgIcon","heroicons_solid:chevron-right"),o(2),$(t.title),o(2),r("routerLink","./.."),o(),r("svgIcon","heroicons_solid:chevron-left"),o(5),r("svgIcon","mat_outline:star_outline"),o(2),r("svgIcon","mat_outline:star_outline"),o(2),r("svgIcon","mat_outline:star_outline"),o(2),r("svgIcon","mat_outline:star_outline"),o(2),r("svgIcon","mat_outline:star_outline"),o(3),B(t.patientDetails?43:-1),o(3),r("options",t.gaugeOptions)("series",We(51,qp,(t.patientValidationResp==null?null:t.patientValidationResp.percent)||0)),o(3),r("ngClass",Ii(53,va,t.patientValidationResp==null?null:t.patientValidationResp.physicianIsValid,!(t.patientValidationResp!=null&&t.patientValidationResp.physicianIsValid))),o(),Ui("color",t.patientValidationResp!=null&&t.patientValidationResp.physicianIsValid?"green":"red"),o(),$(t.patientValidationResp!=null&&t.patientValidationResp.physicianIsValid?"\u2714\uFE0F":"\u274C"),o(2),r("ngClass",Ii(56,va,t.patientValidationResp==null?null:t.patientValidationResp.payorIsValid,!(t.patientValidationResp!=null&&t.patientValidationResp.payorIsValid))),o(),Ui("color",t.patientValidationResp!=null&&t.patientValidationResp.payorIsValid?"green":"red"),o(),$(t.patientValidationResp!=null&&t.patientValidationResp.payorIsValid?"\u2714\uFE0F":"\u274C"),o(2),r("ngClass",Ii(59,va,t.patientValidationResp==null?null:t.patientValidationResp.diagnosisCodeIsValid,!(t.patientValidationResp!=null&&t.patientValidationResp.diagnosisCodeIsValid))),o(),Ui("color",t.patientValidationResp!=null&&t.patientValidationResp.diagnosisCodeIsValid?"green":"red"),o(),$(t.patientValidationResp!=null&&t.patientValidationResp.diagnosisCodeIsValid?"\u2714\uFE0F":"\u274C"),o(2),r("ngClass",Ii(62,va,t.patientValidationResp==null?null:t.patientValidationResp.docsAreValid,!(t.patientValidationResp!=null&&t.patientValidationResp.docsAreValid))),o(),Ui("color",t.patientValidationResp!=null&&t.patientValidationResp.docsAreValid?"green":"red"),o(),$(t.patientValidationResp!=null&&t.patientValidationResp.docsAreValid?"\u2714\uFE0F":"\u274C"),o(2),r("ngClass",Ii(65,va,t.patientValidationResp==null?null:t.patientValidationResp.categoryIsValid,!(t.patientValidationResp!=null&&t.patientValidationResp.categoryIsValid))),o(),Ui("color",t.patientValidationResp!=null&&t.patientValidationResp.categoryIsValid?"green":"red"),o(),$(t.patientValidationResp!=null&&t.patientValidationResp.categoryIsValid?"\u2714\uFE0F":"\u274C"),o(4),r("svgIcon","heroicons_outline:menu"),o(2),r("show",I(74,48,t.loading$)))},dependencies:[Ma,Yt,ka,Qr,Na,ye,Gr,Ea,hs,us,Wa,fl,es,Rt,_a,G,Wr],encapsulation:2,changeDetection:0})}};ya=N([k()],ya);var Xn=class Tr{constructor(e,i,t,s,m,u,C,D){switch(this.store=e,this.route=i,this.dateTimeFormatPipe=t,this.dateFormatPipe=s,this.phoneNumberPipe=m,this.actions$=u,this.router=C,this._fuseConfirmationService=D,this.columnDefs=[{headerName:"ID",minWidth:75,field:"id",sort:"desc",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Last Name",minWidth:125,field:"lastName",sort:"desc",cellStyle:{"font-weight":700},filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"First Name",minWidth:125,field:"firstName",sort:"desc",filter:"agMultiColumnFilter",sortIndex:4,hide:!1},{headerName:"State",minWidth:80,field:"state",sort:"desc",filter:"agMultiColumnFilter",sortIndex:5,hide:!1},{headerName:"Zip",minWidth:75,field:"zip",sort:"desc",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"Cell Phone",minWidth:125,field:"cell",cellRenderer:hi,cellRendererParams:{field:"cell"},valueFormatter:f=>this.phoneNumberPipe.transform(f.data.cell),sort:"desc",filter:"agMultiColumnFilter",sortIndex:7,hide:!1},{headerName:"Phone",minWidth:125,field:"phone",cellRenderer:hi,cellRendererParams:{field:"phone"},valueFormatter:f=>this.phoneNumberPipe.transform(f.data.phone),sort:"desc",filter:"agMultiColumnFilter",sortIndex:9,hide:!1},{headerName:"Email",minWidth:250,field:"email",sort:"desc",filter:"agMultiColumnFilter",sortIndex:9,hide:!1},{headerName:"DOB",minWidth:125,field:"dob",valueFormatter:f=>this.dateFormatPipe.transform(f.data.dob),sort:"desc",filter:"agDateColumnFilter",filterParams:J,sortIndex:10,hide:!1},{headerName:"County",minWidth:125,field:"county",sort:"desc",filter:"agMultiColumnFilter",sortIndex:11,hide:!1},{headerName:"City",minWidth:150,field:"city",sort:"desc",filter:"agMultiColumnFilter",sortIndex:12,hide:!1},{headerName:"Status",minWidth:125,field:"patientStatus",cellRenderer:Wa,sort:"desc",filter:"agMultiColumnFilter",sortIndex:13,hide:!1,cellStyle:{display:"flex",alignItems:"center"}},{headerName:"Category",minWidth:150,field:"patientCategory",cellRenderer:no,sort:"desc",cellRendererParams:f=>({category:f.data.patientCategory}),sortIndex:14,filter:"agMultiColumnFilter",filterParams:{filters:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter",filterParams:{cellRenderer:no}}]},hide:!1},{headerName:"Entry Date",minWidth:175,field:"entryDate",valueFormatter:f=>this.dateTimeFormatPipe.transform(f.data.entryDate),sort:"desc",filter:"agDateColumnFilter",filterParams:J,sortIndex:15,hide:!1},{headerName:"Actions",width:101,field:"actions",cellRenderer:Lt,cellRendererParams:{menuItems:[{name:"Delete Permanently",action:this.deleteRow.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},filter:!1,sortIndex:16,hide:!1,sortable:!1}],this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.visibleColumns=["id","lastName","firstName","state","cell","email","dob","patientStatus","patientCategory","actions"],this.loading$=this.store.select(Ei.selectLoading),this.data$=this.route.paramMap.pipe(j(f=>this.store.select(Ei.selectPatients))),this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.refresh=new ee,this.refresh$=this.refresh.asObservable(),this.selectedRowIndex=-1,this.selection=new Kt(!0,[]),this.route.routeConfig.path){case"active":this.visibleColumns=["id","lastName","firstName","cell","email","county","dob","patientCategory"];break;case"all":this.visibleColumns=["id","lastName","firstName","cell","email","dob","patientStatus","patientCategory"];break;default:this.visibleColumns=["id","lastName","firstName","state","cell","email","dob","patientStatus","patientCategory"];break}}ngOnInit(){this.store.select($e.selectPatientCenterDetailsState).pipe(zt(1),h(this)).subscribe(e=>{}),te([this.route.paramMap,this.refresh$.pipe(Q(null)),this.store.select(Ei.selectPatientSearchShortcut)]).pipe(h(this)).subscribe(([e,i,t])=>{if(!t){let s=this.route.snapshot.routeConfig.path;this.store.dispatch(Xe.LoadPatients({filter:s}))}}),this.data$.pipe(h(this)).subscribe(e=>{this.rowData=e}),this.actions$.pipe(b(Xe.Refresh),h(this)).subscribe(e=>this.refresh.next(e))}onSelectionChanged(e){["actions","phone"].includes(e.column.colId)||this.openItem(e.api.getSelectedRows()[0])}deleteRow(e){}ngOnDestroy(){this.store.dispatch(Xe.ResetState()),this.store.dispatch(Ge.ResetState())}ngAfterViewInit(){}openItem(e){this.router.navigateByUrl(`/centers/patient-center/${e.id}`)}deletePatient(e){this._fuseConfirmationService.open({title:"Delete Patient",message:"Are you sure you want to delete this Patient? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(h(this)).subscribe(t=>{t==="confirmed"&&this.store.dispatch(Xe.DeletePatient({dto:e}))})}static{this.\u0275fac=function(i){return new(i||Tr)(p(F),p(K),p(xe),p(q),p(Wt),p(L),p(O),p(ge))}}static{this.\u0275cmp=A({type:Tr,selectors:[["ac-patient-center-table"]],features:[re([xe,q,Wt])],decls:4,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"cellClicked","gridOptions","component","rowData","columnDefs","visibleColumns","isCsvExport","agGridHeight","loading"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"aux-ag-grid",2),w(3,"async"),v("cellClicked",function(m){return t.onSelectionChanged(m)}),a()()()),i&2&&(o(2),r("gridOptions",t.options)("component","patientcenter")("rowData",t.rowData)("columnDefs",t.columnDefs)("visibleColumns",t.visibleColumns)("isCsvExport",!1)("agGridHeight","calc(100vh - 292px)")("loading",I(3,8,t.loading$)))},dependencies:[se,G],styles:[".ag-cell-wrapper[_ngcontent-%COMP%]{height:100%}.ag-cell-value[_ngcontent-%COMP%]{height:100%!important}"],changeDetection:0})}};Xn=N([k()],Xn);var gl=(()=>{class d{constructor(i,t,s){this.actions$=i,this.store=t,this.apiService=s,this.loadPatientOtherAddress$=T(()=>this.actions$.pipe(b(wt.LoadAlternateAddress),j(m=>this.apiService.getPatientOtherAddress(m.patientId).pipe(x(u=>wt.LoadAlternateAddressSuccess({address:u})),V(u=>M(wt.LoadAlternateAddressFailure({error:u.error}))))))),this.patientOtherAddressSave$=T(()=>this.actions$.pipe(b(wt.AddAlternateAddress),j(m=>this.apiService.patientOtherAddressSave(m.address).pipe(x(u=>wt.AddAlternateAddressSuccess({address:u})),V(u=>M(wt.AddAlternateAddressFailure({error:u.error}))))))),this.deleteOtherAddress$=T(()=>this.actions$.pipe(b(wt.DeleteAlternateAddress),j(m=>this.apiService.deleteAlternateAddress(m.address).pipe(x(u=>wt.DeleteAlternateAddressSuccess()),V(u=>M(wt.DeleteAlternateAddressFailure({error:u.error}))))))),this.LoadCityAndStateDropDown$=T(()=>this.actions$.pipe(b(wt.LoadCityAndStateDropDown),j(m=>this.apiService.getStateCityBasedOnZipCode(m.zipCode).pipe(x(u=>wt.LoadCityAndStateDropDownSuccess({zipCodeLookup:u})),V(u=>M(wt.LoadCityAndStateDropDownFailure({error:u.error}))))))),this.refresh$=T(()=>this.actions$.pipe(b(wt.AddAlternateAddressSuccess,wt.DeleteAlternateAddressSuccess),x(()=>wt.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(F),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Cl=(()=>{class d{constructor(i,t,s){this.actions$=i,this.store=t,this.apiService=s,this.loadPatientArHistory$=T(()=>this.actions$.pipe(b(je.LoadArHistory),j(m=>this.apiService.getPatientArHistory(m.patientId).pipe(x(u=>je.LoadArHistorySuccess({data:u})),V(u=>M(je.LoadArHistoryFailure({error:u.error}))))))),this.loadPatientArHistoryById$=T(()=>this.actions$.pipe(b(je.LoadHistoryById),j(m=>this.apiService.getPatientArHistoryById(m.arHistoryId).pipe(x(u=>je.LoadHistoryByIdSuccess({historyData:u})),V(u=>M(je.LoadHistoryByIdFailure({error:u.error}))))))),this.saveArHistoryById$=T(()=>this.actions$.pipe(b(je.saveArHistory),j(m=>this.apiService.savePatientArHistoryById(m.arHistory).pipe(x(u=>(ue.ADD_SUCCESS(),je.saveArHistorySuccess())),V(u=>(ue.ADD_FAILURE(),M(je.saveArHistoryFailure({error:u.error})))))))),this.redirectPatientArHistory$=T(()=>this.actions$.pipe(b(je.saveArHistorySuccess),x(m=>je.Navigate({commands:[window.history.back()]})))),this.loadBillTypeDropdown$=T(()=>this.actions$.pipe(b(je.BillTypeDropdown),j(m=>this.apiService.getARBillTypeDropdown().pipe(x(u=>je.BillTypeDropdownSuccess({billType:u})),V(u=>M(je.BillTypeDropdownFailure({error:u.error}))))))),this.LoadBranches$=T(()=>this.actions$.pipe(b(je.LoadBranchDropDown),j(m=>this.apiService.getBranchList().pipe(x(u=>je.LoadBranchDropDownSuccess({branch:u})),V(u=>M(je.LoadBranchDropDownFailure({error:u.error}))))))),this.AmtAdjustedCodeDropdown$=T(()=>this.actions$.pipe(b(je.AmtAdjustedCodeDropdown),j(m=>this.apiService.getAmtAdjustedCode().pipe(x(u=>je.AmtAdjustedCodeDropdownSuccess({amtAdjustedCode:u})),V(u=>M(je.AmtAdjustedCodeDropdownFailure({error:u.error}))))))),this.deleteRecord$=T(()=>this.actions$.pipe(b(je.DeleteArHistory),j(m=>this.apiService.deletePatientArHistory(m.arHistory).pipe(x(()=>(ue.DELETE_SUCCESS(),je.DeleteArHistorySuccess())),V(u=>(ue.DELETE_FAILURE(),M(je.DeleteArHistoryFailure({error:u.error})))))))),this.refresh$=T(()=>this.actions$.pipe(b(je.DeleteArHistorySuccess),x(()=>je.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(F),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var vl=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadAudits$=T(()=>this.actions$.pipe(b(rt.loadAudit),j(s=>this.apiService.getPatientAudit(s.patientId).pipe(x(m=>rt.loadAuditSuccess({audits:m})),V(m=>M(rt.loadAuditFailure({error:m.error}))))))),this.addAudit$=T(()=>this.actions$.pipe(b(rt.addAudit),j(s=>this.apiService.savePatientAudit(s.audit).pipe(x(()=>(ue.ADD_SUCCESS(),rt.addAuditSuccess({audit:[s.audit]}))),V(m=>(ue.ADD_FAILURE(),M(rt.addAuditFailure({error:m.error})))))))),this.updateAudit$=T(()=>this.actions$.pipe(b(rt.updateAudit),j(s=>this.apiService.savePatientAudit(s.audit).pipe(x(()=>(ue.EDIT_SUCCESS(),rt.updateAuditSuccess({audit:[s.audit]}))),V(m=>(ue.EDIT_FAILURE(),M(rt.updateAuditFailure({error:m.error})))))))),this.loadAuditContactNotes$=T(()=>this.actions$.pipe(b(rt.LoadContactNotes),j(({patientId:s,refId:m})=>this.apiService.getPatientAuditContactNotes(s,m).pipe(x(u=>rt.LoadContactNotesSuccess({notes:u})),V(u=>M(rt.LoadContactNotesFailure({error:u.error}))))))),this.addContactNote$=T(()=>this.actions$.pipe(b(rt.AddContactNote),j(s=>this.apiService.addAuditNote(s.note).pipe(x(m=>rt.AddContactNoteSuccess({note:s.note})),V(m=>M(rt.AddContactNoteFailure({error:m.error}))))))),this.addContactNoteSuccess$=T(()=>this.actions$.pipe(b(rt.AddContactNoteSuccess),Jt(()=>{ue.ADD_SUCCESS()}),x(({note:s})=>rt.LoadContactNotes({patientId:s.entityID,refId:s.refId})))),this.addContactNoteFailure$=T(()=>this.actions$.pipe(b(rt.AddContactNoteFailure),Jt(()=>{ue.ADD_FAILURE()}),x(()=>rt.refresh()))),this.refresh$=T(()=>this.actions$.pipe(b(rt.addAuditSuccess,rt.DeleteAuditSuccess),x(()=>rt.refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var yl=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadPatientEmergencyContacts$=T(()=>this.actions$.pipe(b(ea.LoadAutomatedEmails),j(s=>this.apiService.getAutomatedEmails(s.patientId).pipe(x(m=>ea.LoadAutomatedEmailsSuccess({automatedEmails:m})),V(m=>M(ea.LoadAutomatedEmailsFailure({error:m.error})))))))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var bl=(()=>{class d{constructor(i,t,s){this.actions$=i,this.store=t,this.apiService=s,this.loadOwners$=T(()=>this.actions$.pipe(b(He.LoadOwners),j(m=>this.apiService.getOwners().pipe(x(u=>He.LoadOwnersSuccess({owners:u})),V(u=>M(He.LoadOwnersFailure({error:u.error}))))))),this.loadRecords$=T(()=>this.actions$.pipe(b(He.LoadPatientCareManagement),j(m=>this.apiService.getPatientCareManagementRecords(m.patientId).pipe(x(u=>He.LoadPatientCareManagementSuccess({records:u})),V(u=>M(He.LoadPatientCareManagementFailure({error:u.error}))))))),this.addRecord$=T(()=>this.actions$.pipe(b(He.AddPatientCareManagement),j(m=>this.apiService.addPatientCareManagementRecord(m.record).pipe(x(u=>(ue.ADD_SUCCESS(),He.AddPatientCareManagementSuccess({record:u}))),V(u=>(ue.ADD_FAILURE(),M(He.AddPatientCareManagementFailure({error:u.error})))))))),this.deleteRecord$=T(()=>this.actions$.pipe(b(He.DeletePatientCareManagement),j(m=>this.apiService.deletePatientCareManagementRecord(m.record).pipe(x(()=>(ue.DELETE_SUCCESS(),He.DeletePatientCareManagementSuccess())),V(u=>(ue.DELETE_FAILURE(),M(He.DeletePatientCareManagementFailure({error:u.error})))))))),this.loadPatientCareManagementContactNotes$=T(()=>this.actions$.pipe(b(He.LoadContactNotes),j(({patientId:m,refId:u})=>this.apiService.getCareManagementContactNotes(m,u).pipe(x(C=>He.LoadContactNotesSuccess({notes:C})),V(C=>M(He.LoadContactNotesFailure({error:C.error}))))))),this.addContactNote$=T(()=>this.actions$.pipe(b(He.AddContactNote),j(m=>this.apiService.addCareManagementNote(m.note).pipe(x(u=>He.AddContactNoteSuccess({note:m.note})),V(u=>M(He.AddContactNoteFailure({error:u.error}))))))),this.addContactNoteSuccess$=T(()=>this.actions$.pipe(b(He.AddContactNoteSuccess),Jt(()=>{ue.ADD_SUCCESS()}),x(({note:m})=>He.LoadContactNotes({patientId:m.entityID,refId:m.refId})))),this.addContactNoteFailure$=T(()=>this.actions$.pipe(b(He.AddContactNoteFailure),Jt(()=>{ue.ADD_FAILURE()}),x(()=>He.Refresh()))),this.refresh$=T(()=>this.actions$.pipe(b(He.AddPatientCareManagementSuccess,He.DeletePatientCareManagementSuccess),x(()=>He.Refresh()))),this.loadPayorRank1$=T(()=>this.actions$.pipe(b(He.LoadPayorRank1),j(m=>this.apiService.getPatientPayorRank1(m.patientId).pipe(x(u=>He.LoadPayorRank1Success({payorRank1:u})),V(u=>M(He.LoadPayorRank1Failure({error:u.error})))))))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(F),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Dl=(()=>{class d{constructor(i,t,s){this.actions$=i,this.store=t,this.apiService=s,this.loadPatients$=T(()=>this.actions$.pipe(b(ta.LoadPatientSensor),j(m=>this.apiService.getpatientSensor(m.id).pipe(x(u=>ta.LoadPatientSensorSuccess({sensor:u})),V(u=>M(ta.LoadPatientSensorFailure({error:u.error})))))))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(F),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var xl=(()=>{class d{constructor(i,t,s){this.actions$=i,this.store=t,this.apiService=s,this.loadPatients$=T(()=>this.actions$.pipe(b(Xe.LoadPatients),j(m=>this.apiService.getPatients(m.filter).pipe(x(u=>Xe.LoadPatientsSuccess({patient:u})),V(u=>M(Xe.LoadPatientsFailure({error:u.error}))))))),this.addPatient$=T(()=>this.actions$.pipe(b(Xe.AddPatientQuickSave),j(m=>this.apiService.patientQuickSave(m.patient).pipe(ba(u=>[Xe.AddPatientQuickSaveSuccess({id:u}),Xe.RedirectPatientCenter()]),V(u=>M(Xe.AddPatientQuickSaveFailure({error:u.error}))))))),this.searchPatient$=T(()=>this.actions$.pipe(b(Xe.PatientSearch),j(m=>this.apiService.patientSearch(m.patientSearch).pipe(x(u=>Xe.PatientSearchSuccess({patient:u})),V(u=>M(Xe.PatientSearchFailure({error:u.error}))))))),this.deletePatient$=T(()=>this.actions$.pipe(b(Xe.DeletePatient),j(m=>this.apiService.deletePatient(m.dto).pipe(x(u=>Xe.DeletePatientSuccess()),V(u=>M(Xe.DeletePatientFailure({error:u.error}))))))),this.redirectPatientCenter$=T(()=>this.actions$.pipe(b(Xe.AddPatientQuickSaveSuccess),x(m=>Xe.Navigate({commands:[`/centers/patient-center/${m.id.toString()}/demographics`]})))),this.loadPatientBalance$=T(()=>this.actions$.pipe(b(Xe.LoadPatientBalance),j(m=>this.apiService.getPatientBalance(m.id).pipe(x(u=>Xe.LoadPatientBalanceSuccess({patientBalances:u})),V(u=>M(Xe.LoadPatientBalanceFailure({error:u.error}))))))),this.refresh$=T(()=>this.actions$.pipe(b(Xe.AddPatientQuickSaveSuccess,Xe.DeletePatientSuccess),x(()=>Xe.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(F),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Sl=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadPatientCharges$=T(()=>this.actions$.pipe(b(Ct.LoadCharges),j(s=>this.apiService.getPatientCharges(s.patientId).pipe(x(m=>Ct.LoadChargesSuccess({data:m})),V(m=>M(Ct.LoadChargesFailure({error:m.error}))))))),this.loadPatientChargesById$=T(()=>this.actions$.pipe(b(Ct.LoadChargesById),j(s=>this.apiService.getPatientChargesById(s.chargeId).pipe(x(m=>Ct.LoadChargesByIdSuccess({chargesData:m})),V(m=>M(Ct.LoadChargesByIdFailure({error:m.error}))))))),this.saveChargesById$=T(()=>this.actions$.pipe(b(Ct.AddCharges),j(s=>this.apiService.savePatientChargesById(s.charges).pipe(x(m=>(ue.ADD_SUCCESS(),Ct.AddChargesSuccess({charges:m}))),V(m=>(ue.ADD_FAILURE(),M(Ct.AddChargesFailure({error:m.error})))))))),this.redirectPatientCharges$=T(()=>this.actions$.pipe(b(Ct.AddChargesSuccess),x(s=>Ct.Navigate({commands:[window.history.back()]})))),this.groupEditCharges$=T(()=>this.actions$.pipe(b(Ct.EditGroupCharges),j(s=>this.apiService.groupEditCharges(s.chargesData).pipe(x(m=>(ue.EDIT_SUCCESS(),Ct.EditGroupChargesSuccess())),V(m=>M(Ct.EditGroupChargesFailure({error:m.error}))))))),this.refresh$=T(()=>this.actions$.pipe(b(Ct.EditGroupChargesSuccess),x(()=>Ct.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Pl=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadPatientChecklist$=T(()=>this.actions$.pipe(b(ji.AddPatientChecklist),j(s=>this.apiService.addPatientchecklist(s.patient).pipe(x(m=>(ue.ADD_SUCCESS(),ji.AddPatientChecklistSuccess({checklist:m}))),V(m=>(ue.ADD_FAILURE(),M(ji.AddPatientChecklistFailure({error:m.error})))))))),this.refresh$=T(()=>this.actions$.pipe(b(ji.AddPatientChecklistSuccess),x(()=>ji.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var _l=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadPatientNotes$=T(()=>this.actions$.pipe(b(Ht.LoadPatientCollectionNotes),j(s=>this.apiService.getPatientCollectionDocuments(s.patientId).pipe(x(m=>Ht.LoadPatientCollectionNotesSuccess({notes:m})),V(m=>M(Ht.LoadPatientCollectionNotesFailure({error:m.error}))))))),this.loadContactList$=T(()=>this.actions$.pipe(b(Ht.LoadContactList),j(s=>this.apiService.getContactList().pipe(x(m=>Ht.LoadContactListSuccess({contactList:m})),V(m=>M(Ht.LoadContactListFailure({error:m.error}))))))),this.addPatientNote$=T(()=>this.actions$.pipe(b(Ht.AddPatientCollectionNote),j(s=>this.apiService.patientCollectionNoteSave(s.note).pipe(x(m=>Ht.AddPatientCollectionNoteSuccess({note:m})),V(m=>M(Ht.AddPatientCollectionNoteFailure({error:m.error}))))))),this.refresh$=T(()=>this.actions$.pipe(b(Ht.AddPatientCollectionNoteSuccess),x(()=>Ht.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var wl=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadCompliances$=T(()=>this.actions$.pipe(b(Ye.loadCompliance),j(s=>this.apiService.getPatientCompliance(s.patientId).pipe(x(m=>Ye.loadComplianceSuccess({compliances:m})),V(m=>M(Ye.loadComplianceFailure({error:m.error}))))))),this.addCompliance$=T(()=>this.actions$.pipe(b(Ye.addCompliance),j(s=>this.apiService.savePatientCompliance(s.compliance).pipe(x(()=>(ue.ADD_SUCCESS(),Ye.addComplianceSuccess({compliance:[s.compliance]}))),V(m=>(ue.ADD_FAILURE(),M(Ye.addComplianceFailure({error:m.error})))))))),this.updateCompliance$=T(()=>this.actions$.pipe(b(Ye.updateCompliance),j(s=>this.apiService.savePatientCompliance(s.compliance).pipe(x(()=>(ue.EDIT_SUCCESS(),Ye.updateComplianceSuccess({compliance:[s.compliance]}))),V(m=>(ue.EDIT_FAILURE(),M(Ye.updateComplianceFailure({error:m.error})))))))),this.deleteCompliance$=T(()=>this.actions$.pipe(b(Ye.DeleteCompliance),j(s=>this.apiService.deletePatientCompliance(s.compliance).pipe(x(()=>(ue.DELETE_SUCCESS(),Ye.DeleteComplianceSuccess())),V(m=>(ue.DELETE_FAILURE(),M(Ye.DeleteComplianceFailure({error:m.error})))))))),this.refresh$=T(()=>this.actions$.pipe(b(Ye.addComplianceSuccess,Ye.DeleteComplianceSuccess),x(()=>Ye.refresh()))),this.loadComplianceContactNotes$=T(()=>this.actions$.pipe(b(Ye.LoadContactNotes),j(({patientId:s,refId:m})=>this.apiService.getComplianceContactNotes(s,m).pipe(x(u=>Ye.LoadContactNotesSuccess({notes:u})),V(u=>M(Ye.LoadContactNotesFailure({error:u.error}))))))),this.addContactNote$=T(()=>this.actions$.pipe(b(Ye.AddContactNote),j(s=>this.apiService.addComplianceNote(s.note).pipe(x(m=>Ye.AddContactNoteSuccess({note:s.note})),V(m=>M(Ye.AddContactNoteFailure({error:m.error}))))))),this.addContactNoteSuccess$=T(()=>this.actions$.pipe(b(Ye.AddContactNoteSuccess),Jt(()=>{ue.ADD_SUCCESS()}),x(({note:s})=>Ye.LoadContactNotes({patientId:s.entityID,refId:s.refId})))),this.addContactNoteFailure$=T(()=>this.actions$.pipe(b(Ye.AddContactNoteFailure),Jt(()=>{ue.ADD_FAILURE()}),x(()=>Ye.refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Il=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadPatientDemographics$=T(()=>this.actions$.pipe(b(Ge.AddPatientDemographics),j(s=>this.apiService.addPatientDemographics(s.patient).pipe(x(m=>(ue.ADD_SUCCESS(),Ge.AddPatientDemographicsSuccess({demographics:m}))),V(m=>(ue.ADD_FAILURE(),M(Ge.AddPatientDemographicsFailure({error:m.error})))))))),this.getReferCode$=T(()=>this.actions$.pipe(b(Ge.getReferCode),j(s=>this.apiService.getReferCode(s.id).pipe(x(m=>Ge.getReferCodeSuccess({referCode:m})),V(m=>M(Ge.getReferCodeFailure({error:m}))))))),this.loadPatientsOnUpdatePatientDemographics$=T(()=>this.actions$.pipe(b(Ge.AddPatientDemographicsSuccess),j(s=>this.apiService.getPatientDetails(s.demographics).pipe(x(m=>qe.LoadPatientDetails(m)),V(m=>M(qe.LoadPatientDetailsFailure({error:m.error}))))))),this.LoadBranches$=T(()=>this.actions$.pipe(b(Ge.LoadBranchDropDown),j(s=>this.apiService.getBranchList().pipe(x(m=>Ge.LoadBranchDropDownSuccess({branch:m})),V(m=>M(Ge.LoadBranchDropDownFailure({error:m.error}))))))),this.LoadAuthorizePrism$=T(()=>this.actions$.pipe(b(Ge.LoadPrismAuthorization),j(s=>this.apiService.getAuthorizePrism(s.id).pipe(x(m=>Ge.LoadPrismAuthorizationSuccess({authPrism:m})),V(m=>M(Ge.LoadPrismAuthorizationFailure({error:m.error}))))))),this.prismAuthorization$=T(()=>this.actions$.pipe(b(Ge.prismAuthorization),j(s=>this.apiService.authorizePrism(s.id).pipe(x(m=>(ue.CUSTOM_SUCCESS("prismAuthorizationSuccess"),Ge.prismAuthorizationSuccess({id:s.id}))),V(m=>(ue.CUSTOM_FAILURE("prismAuthorizationFailure"),M(Ge.prismAuthorizationFailure({error:m})))))))),this.loadPatientDataAfterAuthorization$=T(()=>this.actions$.pipe(b(Ge.prismAuthorizationSuccess),x(s=>Ge.LoadPrismAuthorization({id:s.id})))),this.refresh$=T(()=>this.actions$.pipe(b(Ge.AddPatientDemographicsSuccess,qe.LoadPatientDetailsSuccess),x(()=>Ge.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var El=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadDocuments$=T(()=>this.actions$.pipe(b(Ue.LoadDocuments),j(s=>this.apiService.getPatientDocuments(s.patientId).pipe(x(m=>Ue.LoadDocumentsSuccess({documents:m})),V(m=>M(Ue.LoadDocumentsFailure({error:m.error}))))))),this.loadDocument$=T(()=>this.actions$.pipe(b(Ue.LoadDocument),j(s=>this.apiService.viewPatientDocument(s.id).pipe(x(m=>Ue.LoadDocumentSuccess({document:m})),V(m=>M(Ue.LoadDocumentFailure({error:m.error}))))))),this.previewdocument$=T(()=>this.actions$.pipe(b(Ue.SetPreviewUrl),j(s=>this.apiService.viewPatientDocument(s.id).pipe(x(m=>Ue.SetPreviewUrlSuccess({document:m})),V(m=>M(Ue.SetPreviewUrlFailure({error:m.error}))))))),this.DocumentUpload$=T(()=>this.actions$.pipe(b(Ue.AddDocument),j(s=>this.apiService.patientUploadDocument(s.document).pipe(x(m=>Ue.AddDocumentSuccess({document:m})),V(m=>M(Ue.AddDocumentFailure({error:m.error}))))))),this.DocumentSave$=T(()=>this.actions$.pipe(b(Ue.DocumentSave),j(s=>this.apiService.patientUpdateDocument(s.document).pipe(x(m=>Ue.DocumentSaveSuccess({document:m})),V(m=>M(Ue.DocumentSaveFailure({error:m.error}))))))),this.openDocumentInTab$=T(()=>this.actions$.pipe(b(Ue.LoadDocumentSuccess),Jt(s=>{let m=ha(s.document[0].fileBlob),u=new Blob([m],{type:"application/pdf"}),C=URL?.createObjectURL(u),D=document.createElement("a");D.href=C,D.target="_blank",D.click()})),{dispatch:!1}),this.openDocument$=T(()=>this.actions$.pipe(b(Ue.SetPreviewUrlSuccess),Jt(s=>{let m=ha(s.document[0].fileBlob),u=new Blob([m],{type:"application/pdf"}),C=URL?.createObjectURL(u),D=document.createElement("a");D.href=C,D.target="_blank"})),{dispatch:!1}),this.deleteDocument$=T(()=>this.actions$.pipe(b(Ue.DeletePatientDocument),j(s=>this.apiService.deletePatientDocument(s.id).pipe(x(m=>Ue.DeletePatientDocumentSuccess()),V(m=>M(Ue.DeletePatientDocumentFailure({error:m.error}))))))),this.refresh$=T(()=>this.actions$.pipe(b(Ue.AddDocumentSuccess,Ue.DocumentSaveSuccess,Ue.DeletePatientDocumentSuccess),x(()=>Ue.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Fl=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadPatientEFirst$=T(()=>this.actions$.pipe(b(Bi.LoadEFirst),j(s=>this.apiService.getEFirst(s.patientId).pipe(x(m=>Bi.LoadEFirstSuccess({efirsts:m})),V(m=>M(Bi.LoadEFirstFailure({error:m.error})))))))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Al=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadPatientEmergencyContacts$=T(()=>this.actions$.pipe(b(vt.LoadEmergencyContacts),j(s=>this.apiService.getEmergencyContacts(s.patientId).pipe(x(m=>vt.LoadEmergencyContactsSuccess({emergencyContacts:m})),V(m=>M(vt.LoadEmergencyContactsFailure({error:m.error}))))))),this.addEmergencyContact$=T(()=>this.actions$.pipe(b(vt.AddEmergencyContact),j(s=>this.apiService.addEmergencyContact(s.emergencyContact).pipe(x(m=>vt.AddEmergencyContactSuccess()),V(m=>M(vt.AddEmergencyContactFailure({error:m.error}))))))),this.deleteEmergencyContact$=T(()=>this.actions$.pipe(b(vt.DeleteEmergencyContact),j(s=>this.apiService.deleteEmergencyContact(s.emergencyContact).pipe(x(m=>vt.DeleteEmergencyContactSuccess()),V(m=>M(vt.DeleteEmergencyContactFailure({error:m.error}))))))),this.LoadCityAndStateDropDown$=T(()=>this.actions$.pipe(b(vt.LoadCityAndStateDropDown),j(s=>this.apiService.getStateCityBasedOnZipCode(s.zipCode).pipe(x(m=>vt.LoadCityAndStateDropDownSuccess({zipCodeLookup:m})),V(m=>M(vt.LoadCityAndStateDropDownFailure({error:m.error}))))))),this.refresh$=T(()=>this.actions$.pipe(b(vt.AddEmergencyContactSuccess,vt.DeleteEmergencyContactSuccess),x(()=>vt.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Tl=(()=>{class d{constructor(i,t,s){this.actions$=i,this.store=t,this.apiService=s,this.loadRecords$=T(()=>this.actions$.pipe(b(oe.LoadPatientBillingEvents),j(m=>this.apiService.getPatientEventsBillingRecords(m.patientId,m.eventType).pipe(x(u=>oe.LoadPatientBillingEventsSuccess({BillingEvents:u})),V(u=>M(oe.LoadPatientBillingEventsFailure({error:u.error}))))))),this.loadPatientBillingContactNotes$=T(()=>this.actions$.pipe(b(oe.LoadContactNotes),j(({patientId:m,refId:u})=>this.apiService.getBillingEventContactNotes(m,u).pipe(x(C=>oe.LoadContactNotesSuccess({notes:C})),V(C=>M(oe.LoadContactNotesFailure({error:C.error}))))))),this.addContactNote$=T(()=>this.actions$.pipe(b(oe.AddContactNote),j(m=>this.apiService.addEventBillingNote(m.note).pipe(x(u=>oe.AddContactNoteSuccess({note:m.note})),V(u=>M(oe.AddContactNoteFailure({error:u.error}))))))),this.addContactNoteSuccess$=T(()=>this.actions$.pipe(b(oe.AddContactNoteSuccess),Jt(()=>{ue.ADD_SUCCESS()}),x(({note:m})=>oe.LoadContactNotes({patientId:m.entityID,refId:m.refId})))),this.addContactNoteFailure$=T(()=>this.actions$.pipe(b(oe.AddContactNoteFailure),Jt(()=>{ue.ADD_FAILURE()}),x(()=>oe.Refresh()))),this.refresh$=T(()=>this.actions$.pipe(b(),x(()=>oe.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(F),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Nl=(()=>{class d{constructor(i,t,s){this.actions$=i,this.sanitizer=t,this.apiService=s,this.loadPatientNotes$=T(()=>this.actions$.pipe(b(jt.LoadPatientNotes),j(m=>this.apiService.getPatientContactNotes(m.patientId).pipe(x(u=>jt.LoadPatientNotesSuccess({notes:u})),V(u=>M(jt.LoadPatientNotesFailure({error:u.error}))))))),this.loadContactList$=T(()=>this.actions$.pipe(b(jt.LoadContactList),j(m=>this.apiService.getContactList().pipe(x(u=>jt.LoadContactListSuccess({contactList:u})),V(u=>M(jt.LoadContactListFailure({error:u.error}))))))),this.addPatientNote$=T(()=>this.actions$.pipe(b(jt.AddPatientNote),j(m=>this.apiService.patientContactNoteSave(m.note).pipe(x(u=>(ue.ADD_SUCCESS(),jt.AddPatientNoteSuccess({note:u}))),V(u=>M(jt.AddPatientNoteFailure({error:u.error}))))))),this.refresh$=T(()=>this.actions$.pipe(b(jt.AddPatientNoteSuccess),x(()=>jt.Refresh())))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Pa),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var kl=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadOrders$=T(()=>this.actions$.pipe(b(ia.loadOrder),j(s=>this.apiService.getPatientOrderHistory(s.patientId).pipe(x(m=>ia.loadOrdersSuccess({orders:m})),V(m=>M(ia.loadOrdersFailure({error:m.error})))))))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Ml=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadPatientPaymentsAdjustments$=T(()=>this.actions$.pipe(b(Ke.LoadPaymentAdjustments),j(s=>this.apiService.getPatientPaymentsAdjustments(s.patientId).pipe(x(m=>Ke.LoadPaymentAdjustmentsSuccess({data:m})),V(m=>M(Ke.LoadPaymentAdjustmentsFailure({error:m.error}))))))),this.addPaymentAdjustment$=T(()=>this.actions$.pipe(b(Ke.AddPaymentAdjustment),j(s=>this.apiService.savePaymentAdjustment(s.paymentAdjustment).pipe(x(m=>(ue.ADD_SUCCESS(),Ke.AddPaymentAdjustmentSuccess({paymentAdjustment:m}))),V(m=>M(Ke.AddPaymentAdjustmentFailure({error:m.error}))))))),this.redirectPatientPaymentsAdjustments$=T(()=>this.actions$.pipe(b(Ke.AddPaymentAdjustmentSuccess),x(s=>Ke.Navigate({commands:[window.history.back()]})))),this.loadPatientPaymentsAdjustmentsById$=T(()=>this.actions$.pipe(b(Ke.LoadPaymentAdjustmentsId),j(s=>this.apiService.getPatientPaymentsAdjustmentsById(s.PaymentAdjustmentId).pipe(x(m=>Ke.LoadPaymentAdjustmentsIdSuccess({PaymentAdjustmentdata:m})),V(m=>M(Ke.LoadPaymentAdjustmentsIdFailure({error:m.error}))))))),this.loadPaymentTypeDropdown$=T(()=>this.actions$.pipe(b(Ke.PaymentTypeDropdown),j(s=>this.apiService.getPaymentTypeDropdown().pipe(x(m=>Ke.PaymentTypeDropdownSuccess({paymentType:m})),V(m=>M(Ke.PaymentTypeDropdownFailure({error:m.error}))))))),this.loadInsuranceRank2$=T(()=>this.actions$.pipe(b(Ke.LoadInsuranceRank2),ba(({patientId:s})=>this.apiService.getPatientInsuranceRank2(s).pipe(x(m=>(console.log("API Response:",m),Ke.LoadInsuranceRank2Success({insuranceRank2:m}))),V(m=>(console.error("API Error:",m),M(Ke.LoadInsuranceRank2Failure({error:m}))))))))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Ol=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadSWO$=T(()=>this.actions$.pipe(b(xi.LoadPatientSWO),j(s=>this.apiService.getPatietSWO(s.patientId).pipe(x(m=>xi.LoadPatientSWOSuccess({patientSWOInfo:m})),V(m=>M(xi.LoadPatientSWOFailure({error:m.error}))))))),this.UpdateSWODetails$=T(()=>this.actions$.pipe(b(xi.UpdatePatientSWO),j(s=>this.apiService.updatepatientSWO(s.patientSWODetails).pipe(x(()=>(ue.CUSTOM_SUCCESS("PatientSWOSuccess"),xi.UpdatePatientSWOSuccess())),V(m=>(ue.EDIT_FAILURE(),M(xi.UpdatePatientSWOFailure({error:m.error}))))))))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var jl=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.loadWorkOrder$=T(()=>this.actions$.pipe(b(dt.LoadWorkOrder),j(s=>this.apiService.getPatientWorkOrders(s.patientId).pipe(x(m=>dt.LoadWorkOrderSuccess({data:m})),V(m=>M(dt.LoadWorkOrderFailure({error:m.error}))))))),this.groupEdit$=T(()=>this.actions$.pipe(b(dt.EditGroupWorkEdit),j(s=>this.apiService.groupEdit(s.patientData).pipe(x(m=>(ue.EDIT_SUCCESS(),dt.EditGroupWorkEditSuccess())),V(m=>M(dt.EditGroupWorkEditFailure({error:m.error}))))))),this.shipworkorderEdit$=T(()=>this.actions$.pipe(b(dt.ShipWorkOrder),j(s=>this.apiService.getShipWorkOrder(s.patientData).pipe(x(m=>(ue.EDIT_SUCCESS(),dt.ShipWorkOrderSuccess({data:m}))),V(m=>M(dt.ShipWorkOrderFailure({error:m.error}))))))),this.saveSelectedProcessShortcut$=T(()=>this.actions$.pipe(b(dt.SaveSelectedProcessShortcut),j(s=>this.apiService.addProcessShortcut(s.id,s.patientId).pipe(x(m=>(ue.ADD_SUCCESS(),dt.SaveSelectedProcessShortcutSuccess())),V(m=>M(dt.SaveSelectedProcessShortcutFailure({error:m.error}))))))),this.LoadBranches$=T(()=>this.actions$.pipe(b(dt.LoadBranchDropDown),j(s=>this.apiService.getBranchList().pipe(x(m=>dt.LoadBranchDropDownSuccess({branch:m})),V(m=>M(dt.LoadBranchDropDownFailure({error:m.error})))))))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Rl=(()=>{class d{constructor(i,t){this.actions$=i,this.apiService=t,this.sendFaxMessage$=T(()=>this.actions$.pipe(b(Si.sendFaxMessage),j(s=>this.apiService.sendFaxMessage(s.patientId,s.title,s.message).pipe(x(m=>(ue.CUSTOM_SUCCESS("sendFaxMessageSuccess"),Si.sendFaxMessageSuccess({message:m}))),V(m=>M(Si.sendFaxMessageFailure({error:m.error}))))))),this.getDoctorDetails$=T(()=>this.actions$.pipe(b(Si.getDoctorDetails),j(s=>this.apiService.getDoctorDetails(s.patientId).pipe(x(m=>Si.getDoctorDetailsSuccess({doctorDetails:m})),V(m=>M(Si.getDoctorDetailsFailure({error:m.error})))))))}static{this.\u0275fac=function(t){return new(t||d)(X(L),X(Ae))}}static{this.\u0275prov=ve({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var Nr=[to("payor-center",Ss),to(gs,Cs),Kr([xl,bs,el,kl,gl,El,Nl,_l,Il,Pl,jl,Dl,Xr,Zr,Rl,Al,yl,Cl,Fl,Ds,Ol,wl,bl,Js,vl,Ml,Sl,Tl]),ci,Wt,xe];var R4=[{path:"",component:Qn,providers:Nr,children:[{path:"",redirectTo:"none",pathMatch:"full"},{path:"none",component:Xn}]},{path:":id/demographics/view",component:ya,children:[{path:"",component:rn}]},{path:":id",canActivate:[il,tl,al,xs],component:ya,providers:Nr,children:[{path:"",redirectTo:"demographics",pathMatch:"full"},{path:"demographics",component:ln,canActivate:[co]},{path:"checklists",component:Ja,canActivate:[co]},{path:"payors",component:Vn},{path:"alternate-addresses",component:kn},{path:"documents",component:un},{path:"order-history",component:Nn},{path:"contact-notes",component:nn},{path:"collection-notes",component:tn},{path:"work-order",component:zn},{path:"work-order/add",component:xr,pathMatch:"full"},{path:"work-order/add/:id",component:xr,pathMatch:"full"},{path:"sensor-usage-timeline",component:Hn},{path:"prefilled-editable-swo",component:Un},{path:"automated-emails-sent",component:qa},{path:"efirst",component:fn},{path:"quickfaxtool",component:Yn},{path:"physicians",component:Gn},{path:"diagnosis-codes",component:pn},{path:"additional-contacts",component:gn},{path:"ar-history",component:Ua},{path:"inquiry-changes",component:Tn},{path:"ar-history/add/:id",component:Ga},{path:"inquiry-changes/add/:id",component:Fn,canActivate:[nl]},{path:"compliance",component:an},{path:"caremanagement",component:za},{path:"audit-event",component:Ha},{path:"payments-adjustments",component:jn},{path:"payments-adjustments/add/:id",component:On},{path:"pay-adjust/add/:id",component:Mn},{path:"charges",component:Qa},{path:"charges/add/:id",component:Ya},{path:"subsequent-payments/add/:id",component:Rn},{path:"primary",component:_n},{path:"secondary",component:En},{path:"insurancerefunds",component:Sn},{path:"patientrefunds",component:wn},{path:"insurancepaid",component:vn},{path:"returns",component:In},{path:"patientcalls",component:bn},{path:"claimcalls",component:Dn},{path:"appeals",component:yn},{path:"openarreport",component:Pn},{path:"financialassistance",component:xn}]}];export{R4 as default};
