import{c as Ae}from"./chunk-S2ZXS5BT.js";import{L as Z,W as M,X as F,Y as X,ya as Y}from"./chunk-FPEZFRA5.js";import{$ as q,T as K,X as Ie,c as ke,da as we,ea as G,fa as W,ha as l,l as V,v as Ee,x as Te}from"./chunk-GPXEBS7B.js";import{Ba as D,Ea as he,Fa as N,Nc as ge,Oa as O,Oc as me,Rc as B,Sa as pe,Ua as g,c as w,cb as fe,j as ue,k as le,m as H,n as j,qa as de,ta as $,xa as A,za as k}from"./chunk-3Q5CJMKA.js";import{i as f}from"./chunk-2AVGQ2MQ.js";var xe="firebase",Ue="11.6.0";l(xe,Ue,"app");var v=new ge("ANGULARFIRE2_VERSION");function J(e,t,n){if(t){if(t.length===1)return t[0];let i=t.filter(c=>c.app===n);if(i.length===1)return i[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var x=(e,t)=>{let n=t?[t]:W(),r=[];return n.forEach(o=>{o.container.getProvider(e).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r},P=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(P||{}),Pe=B()&&typeof Zone<"u"?P.WARN:P.SILENT;var L=class{zone;delegate;constructor(t,n=le){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let o=this.zone,i=function(c){o?o.runGuarded(()=>{t.apply(this,[c])}):t.apply(this,[c])};return this.delegate.schedule(i,n,r)}},C=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=A(g);this.outsideAngular=n.runOutsideAngular(()=>new L(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new L(typeof Zone>"u"?void 0:Zone.current,ue))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ve=!1;function ze(e,t){!ve&&(Pe>P.SILENT||B())&&(ve=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Pe>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function He(e){let t=A(g,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function E(e){let t=A(g,{optional:!0});return t?t.run(()=>e()):e()}var je=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),N(n,()=>E(()=>e.apply(void 0,r)))),p=(e,t,n)=>(n||=t?P.WARN:P.VERBOSE,function(){let r,o=arguments,i,c,u;try{i=A(C),c=A(pe),u=A(he)}catch{return ze(e,n),e.apply(this,o)}for(let s=0;s<arguments.length;s++)typeof o[s]=="function"&&(t&&(r||=E(()=>c.add())),o[s]=je(o[s],r,u));let a=He(()=>e.apply(this,o));return t?a instanceof w?a.pipe(j(i.outsideAngular),H(i.insideAngular),Ae(u)):a instanceof Promise?E(()=>new Promise((s,I)=>{c.run(()=>a).then(R=>N(u,()=>E(()=>s(R))),R=>N(u,()=>E(()=>I(R))))})):typeof a=="function"&&r?function(){return setTimeout(r,0),a.apply(this,arguments)}:E(()=>a):a instanceof w?a.pipe(j(i.outsideAngular),H(i.insideAngular)):E(()=>a)});var T=class{constructor(t){return t}},_=class{constructor(){return W()}};function Be(e){return e&&e.length===1?e[0]:new T(G())}var Q=new $("angularfire2._apps"),Ve={provide:T,useFactory:Be,deps:[[new k,Q]]},Ke={provide:_,deps:[[new k,Q]]};function qe(e){return(t,n)=>{let r=n.get(fe);l("angularfire",v.full,"core"),l("angularfire",v.full,"app"),l("angular",me.full,r.toString());let o=t.runOutsideAngular(()=>e(n));return new T(o)}}function xn(e,...t){return D([Ve,Ke,{provide:Q,useFactory:qe(e),multi:!0,deps:[g,O,C,...t]}])}var Un=p(we,!0);var Ge=new Map,Ze={activated:!1,tokenObservers:[]},Xe={initialized:!1,enabled:!1};function d(e){return Ge.get(e)||Object.assign({},Ze)}function be(){return Xe}var Ye="https://content-firebaseappcheck.googleapis.com/v1";var Je="exchangeDebugToken",Ce={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Jn=24*60*60*1e3;var ne=class{constructor(t,n,r,o,i){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return f(this,null,function*(){this.stop();try{this.pending=new V,this.pending.promise.catch(n=>{}),yield Qe(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new V,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Qe(e){return new Promise(t=>{setTimeout(t,e)})}var et={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},m=new Te("appCheck","AppCheck",et);function Se(e){if(!d(e).activated)throw m.create("use-before-activation",{appName:e.name})}function ye(r,o){return f(this,arguments,function*({url:e,body:t},n){let i={"Content-Type":"application/json"},c=n.getImmediate({optional:!0});if(c){let h=yield c.getHeartbeatsHeader();h&&(i["X-Firebase-Client"]=h)}let u={method:"POST",body:JSON.stringify(t),headers:i},a;try{a=yield fetch(e,u)}catch(h){throw m.create("fetch-network-error",{originalErrorMessage:h?.message})}if(a.status!==200)throw m.create("fetch-status-error",{httpStatus:a.status});let s;try{s=yield a.json()}catch(h){throw m.create("fetch-parse-error",{originalErrorMessage:h?.message})}let I=s.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw m.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});let R=Number(I[1])*1e3,ce=Date.now();return{token:s.token,expireTimeMillis:ce+R,issuedAtTimeMillis:ce}})}function $e(e,t){let{projectId:n,appId:r,apiKey:o}=e.options;return{url:`${Ye}/projects/${n}/apps/${r}:${Je}?key=${o}`,body:{debug_token:t}}}var tt="firebase-app-check-database",nt=1,re="firebase-app-check-store";var U=null;function rt(){return U||(U=new Promise((e,t)=>{try{let n=indexedDB.open(tt,nt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var o;t(m.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(re,{keyPath:"compositeKey"})}}}catch(n){t(m.create("storage-open",{originalErrorMessage:n?.message}))}}),U)}function ot(e,t){return it(st(e),t)}function it(e,t){return f(this,null,function*(){let r=(yield rt()).transaction(re,"readwrite"),i=r.objectStore(re).put({compositeKey:e,value:t});return new Promise((c,u)=>{i.onsuccess=a=>{c()},r.onerror=a=>{var s;u(m.create("storage-set",{originalErrorMessage:(s=a.target.error)===null||s===void 0?void 0:s.message}))}})})}function st(e){return`${e.options.appId}-${e.name}`}var b=new Ie("@firebase/app-check");function ee(e,t){return Ee()?ot(e,t).catch(n=>{b.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function De(){return be().enabled}function Ne(){return f(this,null,function*(){let e=be();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var at={error:"UNKNOWN_ERROR"};function ct(e){return ke.encodeString(JSON.stringify(e),!1)}function oe(e,t=!1,n=!1){return f(this,null,function*(){let r=e.app;Se(r);let o=d(r),i=o.token,c;if(i&&!S(i)&&(o.token=void 0,i=void 0),!i){let s=yield o.cachedTokenPromise;s&&(S(s)?i=s:yield ee(r,void 0))}if(!t&&i&&S(i))return{token:i.token};let u=!1;if(De())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=ye($e(r,yield Ne()),e.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),u=!0);let s=yield o.exchangeTokenPromise;return yield ee(r,s),o.token=s,{token:s.token}}catch(s){return s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?b.warn(s.message):n&&b.error(s),te(s)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),u=!0),i=yield d(r).exchangeTokenPromise}catch(s){s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?b.warn(s.message):n&&b.error(s),c=s}let a;return i?c?S(i)?a={token:i.token,internalError:c}:a=te(c):(a={token:i.token},o.token=i,yield ee(r,i)):a=te(c),u&&ht(r,a),a})}function ut(e){return f(this,null,function*(){let t=e.app;Se(t);let{provider:n}=d(t);if(De()){let r=yield Ne(),{token:o}=yield ye($e(t,r),e.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield n.getToken();return{token:r}}})}function lt(e,t,n,r){let{app:o}=e,i=d(o),c={next:n,error:r,type:t};if(i.tokenObservers=[...i.tokenObservers,c],i.token&&S(i.token)){let u=i.token;Promise.resolve().then(()=>{n({token:u.token}),Re(e)}).catch(()=>{})}i.cachedTokenPromise.then(()=>Re(e))}function Oe(e,t){let n=d(e),r=n.tokenObservers.filter(o=>o.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Re(e){let{app:t}=e,n=d(t),r=n.tokenRefresher;r||(r=dt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function dt(e){let{app:t}=e;return new ne(()=>f(this,null,function*(){let n=d(t),r;if(n.token?r=yield oe(e,!0):r=yield oe(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=d(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,o=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},Ce.RETRIAL_MIN_WAIT,Ce.RETRIAL_MAX_WAIT)}function ht(e,t){let n=d(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function S(e){return e.expireTimeMillis-Date.now()>0}function te(e){return{token:ct(at),error:e}}var ie=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=d(this.app);for(let n of t)Oe(this.app,n.next);return Promise.resolve()}};function pt(e,t){return new ie(e,t)}function ft(e){return{getToken:t=>oe(e,t),getLimitedUseToken:()=>ut(e),addTokenListener:t=>lt(e,"INTERNAL",t),removeTokenListener:t=>Oe(e.app,t)}}var gt="@firebase/app-check",mt="0.8.13";var At="app-check",_e="app-check-internal";function kt(){q(new K(At,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return pt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(_e).initialize()})),q(new K(_e,e=>{let t=e.getProvider("app-check").getImmediate();return ft(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),l(gt,mt)}kt();var Et="app-check";var z=class{constructor(){return x(Et)}};var Tt=["localhost","0.0.0.0","127.0.0.1"],dr=typeof window<"u"&&Tt.includes(window.location.hostname);function Me(e){return new w(function(t){var n=F(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:n}})}function Fe(e){return new w(function(t){var n=M(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:n}})}var Le="auth",y=class{constructor(t){return t}},se=class{constructor(){return x(Le)}};var ae=new $("angularfire2.auth-instances");function gn(e,t){let n=J(Le,e,t);return n&&new y(n)}function mn(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new y(r)}}var An={provide:se,deps:[[new k,ae]]},kn={provide:y,useFactory:gn,deps:[[new k,ae],T]};function go(e,...t){return l("angularfire",v.full,"auth"),D([kn,An,{provide:ae,useFactory:mn(e),multi:!0,deps:[g,O,C,_,[new k,z],...t]}])}var mo=p(Me,!0);var Ao=p(Fe,!0);var ko=p(Y,!0);var Eo=p(Z,!0,2);var To=p(X,!0,2);export{v as a,J as b,x as c,C as d,p as e,T as f,_ as g,xn as h,Un as i,z as j,y as k,se as l,go as m,mo as n,Ao as o,ko as p,Eo as q,To as r};
