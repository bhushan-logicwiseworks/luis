import{a as q}from"./chunk-DOHNGIRK.js";import{a as dt}from"./chunk-EPDAUZIC.js";import{a as mt}from"./chunk-X74UJ3QR.js";import{a as nt}from"./chunk-VGE2PNKJ.js";import{a as ot,b as at}from"./chunk-7O4GN6JJ.js";import{a as lt}from"./chunk-RW26HZBH.js";import{a as Q}from"./chunk-Y5RI4PHI.js";import{a as st,b as pt,c as ct}from"./chunk-BLZL7MQY.js";import{a as ut,c as ft}from"./chunk-OJSM7WWP.js";import{c as tt}from"./chunk-VRDZKI6P.js";import{a as et}from"./chunk-Z76PEBTC.js";import"./chunk-GLNCR2H3.js";import{b as H}from"./chunk-M7CNBRZG.js";import"./chunk-2LVKS4R7.js";import{a as Je}from"./chunk-BWPVOFCI.js";import"./chunk-T6JQBFCO.js";import{a as Xe}from"./chunk-VK4TGBYQ.js";import{c as He,d as Qe,e as K}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as Re}from"./chunk-3IAIBVAD.js";import"./chunk-QZ2WTBPW.js";import"./chunk-KFQHPBEM.js";import{a as Y}from"./chunk-7RWCIHFI.js";import"./chunk-HIKYOSQ5.js";import{c as it}from"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{a as A,b as k,c as g,e as Ye}from"./chunk-W6W3L4PS.js";import{a as p,b as h,h as _e,n as w,o as B,p as Me,q as Ee,v as b,w as $}from"./chunk-7TJE7DO7.js";import"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{a as rt}from"./chunk-WTDAEWCX.js";import{c as Ge}from"./chunk-6WEMRU4N.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import{a as Ve,c as ze,h as Ke}from"./chunk-BV6IOHNV.js";import{B as We,D as z,c as W,h as V,i as ke,l as je,m as Le,o as Ne,q as Ue,r as $e,t as Oe}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{o as qe}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import{a as Ze}from"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import{a as G}from"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as R,b as v}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as O,p as Pe}from"./chunk-HJKZPT2B.js";import{b as Ae,c as Fe}from"./chunk-W5GYUEPJ.js";import{$b as y,Ab as P,Bc as xe,Gb as he,Ia as ue,Ic as Se,J as M,Ja as fe,Jc as De,Ob as l,Vb as ye,Zb as m,_b as n,da as me,dc as Te,f as se,fc as U,g as pe,ga as de,gc as ve,ha as S,mc as Ce,md as we,nc as Be,oc as be,p as _,pb as o,qa as E,rc as ge,sc as T,tb as s,uc as Ie,v as C,w as ce,wa as D}from"./chunk-3Q5CJMKA.js";import{b as F}from"./chunk-WFMAM73Y.js";import{a as I,b as x}from"./chunk-2AVGQ2MQ.js";var Pt=p("[BillTypeCenter Table/API] Load BillType"),Rt=p("[BillTypeCenter Table/API] Load BillType Success",h()),kt=p("[BillTypeCenter Table/API] Load BillType Failure",h()),jt=p("[BillTypeCenter Create/API] Add BillType",h()),Lt=p("[BillTypeCenter Create/API] Add BillType Success",h()),Nt=p("[BillTypeCenter Create/API] Add BillType Failure",h()),Ut=p("[BillTypeCenter Update/API] Update BillType",h()),$t=p("[BillTypeCenter Update/API] Update BillType Success",h()),Ot=p("[BillTypeCenter Update/API] Update BillType Failure",h()),d={LoadBillType:Pt,LoadBillTypeFailure:kt,LoadBillTypesuccess:Rt,AddBillType:jt,AddBillTypesuccess:Lt,AddBillTypeFailure:Nt,UpdateBillType:Ut,UpdateBillTypesuccess:$t,UpdateBillTypeFailure:Ot};var yt=(()=>{class t{constructor(i,r,u){this.actions$=i,this.apiService=r,this.store=u,this.addBillTypeRep$=A(()=>this.actions$.pipe(g(d.AddBillType),S(f=>this.apiService.savebillType(f.billType).pipe(C(a=>d.AddBillTypesuccess({billType:a})),M(a=>_(d.AddBillTypeFailure({error:a.error}))))))),this.updateBillTypeRep$=A(()=>this.actions$.pipe(g(d.UpdateBillType),S(f=>this.apiService.savebillType(f.billType).pipe(C(a=>d.UpdateBillTypesuccess({billType:a})),M(a=>_(d.UpdateBillTypeFailure({error:a.error})))))))}static{this.\u0275fac=function(r){return new(r||t)(D(k),D(G),D(w))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Vt=p("[BillTypesCenter Table/API] Reset BillTypes State"),zt=p("[BillTypesCenter Table/API] Load BillTypes"),Kt=p("[BillTypesCenter Table/API] Load BillTypes Success",h()),Gt=p("[BillTypesCenter Table/API] Load BillTypes Failure",h()),Ht=p("[BillTypeCenter Delete/API] Delete BillType",h()),Qt=p("[BillTypeCenter Delete/API] Delete BillType Success"),qt=p("[BillTypeCenter Delete/API] Delete BillType Failure",h()),Jt=p("[BillTypesCenter Table/API] Refresh"),c={LoadBillTypes:zt,LoadBillTypesSuccess:Kt,LoadBillTypesFailure:Gt,Refresh:Jt,ResetState:Vt,DeleteBillType:Ht,DeleteBillTypesuccess:Qt,DeleteBillTypeFailure:qt};var Tt=(()=>{class t{constructor(i,r,u){this.actions$=i,this.store=r,this.apiService=u,this.loadbillTypesReps$=A(()=>this.actions$.pipe(g(c.LoadBillTypes),S(f=>this.apiService.getbillTypes().pipe(C(a=>c.LoadBillTypesSuccess({billTypes:a})),M(a=>_(c.LoadBillTypesFailure({error:a.error}))))))),this.deletebillType$=A(()=>this.actions$.pipe(g(c.DeleteBillType),S(f=>this.apiService.deletebillType(f.dto).pipe(C(a=>c.DeleteBillTypesuccess()),M(a=>_(c.DeleteBillTypeFailure({error:a.error}))))))),this.refresh$=A(()=>this.actions$.pipe(g(d.AddBillTypesuccess,d.UpdateBillTypesuccess,c.DeleteBillTypesuccess),C(()=>c.Refresh())))}static{this.\u0275fac=function(r){return new(r||t)(D(k),D(w),D(G))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ee="billType-center-individual",Xt={loading:!1,error:null,billType:null,billTypes:[]},vt=$(Xt,b(d.LoadBillType,t=>x(I({},t),{loading:!0})),b(d.LoadBillTypesuccess,(t,{billType:e})=>x(I({},t),{loading:!1,billType:e})),b(d.LoadBillTypeFailure,(t,{error:e})=>x(I({},t),{loading:!1,error:e}))),Ct=t=>t.loading,Bt=t=>t.billType,bt=t=>t.error;var ie="billType-center-table",te={loading:!1,error:null,billTypes:[]},gt=$(te,b(c.ResetState,()=>te),b(c.LoadBillTypes,t=>x(I({},te),{loading:!0})),b(c.LoadBillTypesSuccess,(t,{billTypes:e})=>x(I({},t),{loading:!1,billTypes:e})),b(c.LoadBillTypesFailure,(t,{error:e})=>x(I({},t),{loading:!1,error:e}))),It=t=>t.loading,xt=t=>t.error,St=t=>t.billTypes;var re="BillType-center";function wt(t,e){return _e({[ie]:gt,[ee]:vt})(t,e)}var At=Me(re),N;(function(t){let e=B(At,i=>i[ie]);t.selectLoading=B(e,It),t.selectError=B(e,xt),t.selectBillTypeReps=B(e,St)})(N||(N={}));var Dt;(function(t){let e=B(At,i=>i[ee]);t.selectLoading=B(e,Ct),t.selectBillType=B(e,Bt),t.selectError=B(e,bt)})(Dt||(Dt={}));var Ft=[Ee(re,wt),Ye([Tt,yt])];function ii(t,e){if(t&1&&(m(0,"fuse-alert",10),T(1),n()),t&2){let i=ve();l("appearance","outline")("type",i.alert.type)("showIcon",!1)("@shake",!0),o(),Ie(" ",i.alert.message," ")}}var j=class oe{constructor(e,i,r,u,f){this.data=e,this._formBuilder=i,this.store=r,this.auxUtilService=u,this.dialogRef=f,this.showDeleteButton=!1,this.state=new je,this.showAlert=!1,this.BillTypeDisplayData=e.dynamicComponentData}ngOnInit(){this.contactForm=this._formBuilder.group({id:[0],billtype:[""],title:[""],shipcount:[""],skipcount:[""],description:[""],period:[""],adddate:[""],adduserid:[""]}),this.contactForm.patchValue(this.BillTypeDisplayData)}ngAfterViewInit(){}ngOnDestroy(){}trackByFn(e){return e.abbreviation}saveContact(){let e=this.contactForm.value;this.isInputValid(e)&&(e.id==0&&(e.adddate=new Date),e=this.auxUtilService.transFormValuesToUpperCase(e,["billtype","title","shipcount","skipcount","description","period"]),this.store.dispatch(d.AddBillType({billType:e})),this.dialogRef.close())}isInputValid(e){return e.billtype==""||e.billtype==null?(this.alert={type:"error",message:"Billtype Code cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):!0}static{this.\u0275fac=function(i){return new(i||oe)(s(Qe,8),s(We),s(w),s(et),s(He))}}static{this.\u0275cmp=P({type:oe,selectors:[["ac-billType-center-individual-form"]],viewQuery:function(i,r){if(i&1&&Ce(tt,5),i&2){let u;Be(u=be())&&(r.stateAutocomplete=u.first)}},inputs:{showDeleteButton:"showDeleteButton"},decls:40,vars:28,consts:[[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["matInput","","numbers","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["matInput","","numbers","",1,"uppercase",3,"formControlName","placeholder"],["matInput","",1,"uppercase",3,"formControlName","placeholder"],[1,"mt-4",3,"appearance","type","showIcon"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),T(6,"Bill Type"),n(),y(7,"mat-icon",5)(8,"input",6),n()(),m(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),T(12,"shipcount"),n(),y(13,"mat-icon",5)(14,"input",7),n()(),m(15,"div",3)(16,"mat-form-field",4)(17,"mat-label"),T(18,"Skip Count"),n(),y(19,"mat-icon",5)(20,"input",8),n()(),m(21,"div",3)(22,"mat-form-field",4)(23,"mat-label"),T(24,"Description"),n(),y(25,"mat-icon",5)(26,"input",9),n()(),m(27,"div",3)(28,"mat-form-field",4)(29,"mat-label"),T(30,"Period"),n(),y(31,"mat-icon",5)(32,"input",9),n()(),m(33,"div",3)(34,"mat-form-field",4)(35,"mat-label"),T(36,"Add User ID"),n(),y(37,"mat-icon",5)(38,"input",9),n()(),he(39,ii,2,5,"fuse-alert",10),n()()()),i&2&&(o(2),l("formGroup",r.contactForm),o(2),l("subscriptSizing","dynamic"),o(3),l("svgIcon","heroicons_solid:user-circle"),o(),l("formControlName","title")("placeholder","Title")("spellcheck",!1),o(2),l("subscriptSizing","dynamic"),o(3),l("svgIcon","heroicons_solid:user-circle"),o(),l("formControlName","shipcount")("placeholder","Ship Count")("spellcheck",!1),o(2),l("subscriptSizing","dynamic"),o(3),l("svgIcon","heroicons_solid:user-circle"),o(),l("formControlName","skipcount")("placeholder","Skip Count"),o(2),l("subscriptSizing","dynamic"),o(3),l("svgIcon","heroicons_solid:user-circle"),o(),l("formControlName","description")("placeholder","description"),o(2),l("subscriptSizing","dynamic"),o(3),l("svgIcon","heroicons_solid:user-circle"),o(),l("formControlName","period")("placeholder","period"),o(2),l("subscriptSizing","dynamic"),o(3),l("svgIcon","heroicons_solid:mail"),o(),l("formControlName","adduserid")("placeholder","Added By"),o(),ye(r.alert?39:-1))},dependencies:[z,Ne,W,V,ke,$e,Oe,Ke,Ve,O,ze,Ge,rt],encapsulation:2,data:{animation:Ze}})}};j=F([R()],j);var Mt=(()=>{class t{constructor(){this.search=new pe(null),this.search$=this.search.asObservable()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var J=class le{constructor(e,i,r,u,f){this._fuseMediaWatcherService=e,this.searchService=i,this.auxSearchService=r,this.breakpointObserver=u,this.dialog=f,this.toggleMenu=!1,this.drawerMode="side",this.drawerOpened=!0,this.menuData=[{title:"Actions",subtitle:"Add new BillType Key",type:"group",children:[{title:"Add BillType Rep",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}},{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()}}]}],this.searchCtrl=new Le,this.isHandset$=this.breakpointObserver.observe([Y.Tablet,Y.Handset]).pipe(C(a=>a.matches),me())}ngOnInit(){this.searchCtrl.valueChanges.pipe(v(this)).subscribe(e=>this.searchService.search.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(v(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}openCreate(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"Save BillType",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:j,dynamicComponentData:null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(H,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(v(this)).subscribe(i=>{})}clearFilter(){this.auxSearchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(i){return new(i||le)(s(Xe),s(Mt),s(Re),s(Pe),s(K))}}static{this.\u0275cmp=P({type:le,selectors:[["ac-billType-center"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(i,r){if(i&1){let u=Te();m(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),T(5," BillTypeCenter "),n()()(),m(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),y(10,"mat-icon",9)(11,"input",10),n()()()(),m(12,"div",11)(13,"button",12),U("click",function(){ue(u);let a=ge(17);return fe(a.toggle())}),y(14,"mat-icon",13),n()()(),m(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),y(18,"aux-sidebar",16),n(),m(19,"mat-drawer-content",17)(20,"div",18),y(21,"router-outlet"),n()()()()}i&2&&(o(10),l("svgIcon","mat_outline:search"),o(),l("formControl",r.searchCtrl),o(3),l("svgIcon","heroicons_outline:menu"),o(2),l("autoFocus",!1)("mode",r.drawerMode)("opened",r.drawerOpened),o(2),l("menuData",r.menuData)("showTitle",!1)("title","BillType Actions"))},dependencies:[O,z,W,V,Ue,qe,ct,pt,mt,st,Fe],styles:[".max-w-sx[_ngcontent-%COMP%]{max-width:16rem!important}"],data:{animation:[lt,at,ot,nt]}})}};J=F([R()],J);var X=class ne{constructor(e,i,r,u,f,a,Et){this.store=e,this.route=i,this.actions$=r,this.dateTime=u,this.phonenumber=f,this.dialog=a,this._fuseConfirmationService=Et,this.columnDefs=[{headerName:"ID",minWidth:90,field:"id",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Bill Type",minWidth:130,field:"billtype",filter:"agMultiColumnFilter",sortIndex:2,hide:!1},{headerName:"Title",minWidth:170,field:"title",filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"Ship Count",minWidth:110,field:"shipcount",filter:"agMultiColumnFilter",sortIndex:4,hide:!1},{headerName:"Skip Count",minWidth:110,field:"skipcount",filter:"agMultiColumnFilter",sortIndex:5,hide:!1},{headerName:"Description",minWidth:110,field:"description",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"Period",minWidth:110,field:"period",filter:"agMultiColumnFilter",sortIndex:7,hide:!1},{headerName:"Added Date",minWidth:200,field:"adddate",filter:"agDateColumnFilter",valueFormatter:ae=>this.dateTime.transform(ae.data.adddate),filterParams:ut,sortIndex:20,hide:!1},{headerName:"Added By",minWidth:125,field:"adduserid",filter:"agMultiColumnFilter",sortIndex:19,hide:!1},{headerName:"Actions",minWidth:80,field:"actions",cellRenderer:dt,cellRendererParams:{menuItems:[{name:"Delete Permanently",action:this.deleteData.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},filter:!1,sortIndex:17,hide:!1,sortable:!1}],this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.visibleColumns=["billtype","title","shipcount","skipcount","description","period","adddate","adduserid","actions"],this.loading$=this.store.select(N.selectLoading),this.data$=this.route.paramMap.pipe(S(ae=>this.store.select(N.selectBillTypeReps))),this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.refresh=new se,this.refresh$=this.refresh.asObservable(),this.selection=new it(!0,[])}ngOnInit(){ce([this.route.paramMap,this.refresh$.pipe(de(null))]).pipe(v(this)).subscribe(([e])=>{this.store.dispatch(c.LoadBillTypes())}),this.data$.pipe(v(this)).subscribe(e=>{this.rowData=e}),this.actions$.pipe(g(c.Refresh),v(this)).subscribe(e=>this.refresh.next(e))}ngAfterViewInit(){}openItem(e){this.selection.clear();let i={icon:"mat_outline:assignment",iconColor:"primary",title:"Save BillType",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:j,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(H,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(v(this)).subscribe(r=>{this.refresh.next(r),e.api.clearFocusedCell()})}deleteData(e){this.deleteContact(e.data)}deleteContact(e){this._fuseConfirmationService.open({title:"Delete BillType Rep",message:"Are you sure you want to delete this BillType rep? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(v(this)).subscribe(r=>{r==="confirmed"&&this.store.dispatch(c.DeleteBillType({dto:e}))})}onSelectionChanged(e){e.column.colId!="actions"&&this.openItem(e)}static{this.\u0275fac=function(i){return new(i||ne)(s(w),s(Ae),s(k),s(Q),s(q),s(K),s(Je))}}static{this.\u0275cmp=P({type:ne,selectors:[["ac-billType-center-table"]],features:[xe([Q,q])],decls:4,vars:9,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"cellClicked","gridOptions","component","rowData","columnDefs","visibleColumns","agGridHeight","loading"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"div",1)(2,"aux-ag-grid",2),Se(3,"async"),U("cellClicked",function(f){return r.onSelectionChanged(f)}),n()()()),i&2&&(o(2),l("gridOptions",r.options)("component","billTypecenter")("rowData",r.rowData)("columnDefs",r.columnDefs)("visibleColumns",r.visibleColumns)("agGridHeight","calc(100vh - 292px)")("loading",De(3,7,r.loading$)))},dependencies:[ft,we],encapsulation:2,changeDetection:0})}};X=F([R()],X);var Rr=[{path:"",component:J,providers:Ft,children:[{path:"",component:X}]}];export{Rr as default};
