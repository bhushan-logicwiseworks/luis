import{a as z}from"./chunk-6LE6SZDP.js";import{a as bt}from"./chunk-X74UJ3QR.js";import{a as yt}from"./chunk-VGE2PNKJ.js";import{a as ht,b as Dt}from"./chunk-7O4GN6JJ.js";import{a as vt}from"./chunk-RW26HZBH.js";import{a as De}from"./chunk-Y5RI4PHI.js";import{a as gt,b as St,c as Pt}from"./chunk-BLZL7MQY.js";import{c as Ct}from"./chunk-OJSM7WWP.js";import{a as dt}from"./chunk-PVSGC5X6.js";import{a as ct}from"./chunk-PL5OXHAL.js";import{c as pt}from"./chunk-VRDZKI6P.js";import{a as ue,b as he,c as ve}from"./chunk-6HRBECBJ.js";import"./chunk-E6UI7ODH.js";import{a as mt}from"./chunk-V2BYYYUY.js";import{a as st}from"./chunk-ODTVUJKH.js";import{a as L}from"./chunk-Z76PEBTC.js";import"./chunk-GLNCR2H3.js";import{b as ye}from"./chunk-M7CNBRZG.js";import"./chunk-T6JQBFCO.js";import{a as at}from"./chunk-VK4TGBYQ.js";import{c as pe,d as rt,e as fe}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as Ye}from"./chunk-3IAIBVAD.js";import"./chunk-QZ2WTBPW.js";import"./chunk-KFQHPBEM.js";import{a as be}from"./chunk-7RWCIHFI.js";import{a as ft}from"./chunk-HIKYOSQ5.js";import"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import{e as Ze}from"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{a as R,b as j,c as I,e as nt}from"./chunk-W6W3L4PS.js";import{a as D,b as S,h as Ge,n as M,o as O,p as Ke,q as He,v as h,w as ee}from"./chunk-7TJE7DO7.js";import"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import{a as zt}from"./chunk-2SL7SW2K.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{a as ut}from"./chunk-WTDAEWCX.js";import{c as ce}from"./chunk-6WEMRU4N.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import{a as le,b as et,c as tt,d as se,g as it,h as me}from"./chunk-BV6IOHNV.js";import{B as ne,D as N,c as _,h as A,i as ie,l as qe,m as Je,o as re,q as Xe,r as oe,t as ae}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{o as ot}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import{a as lt}from"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import{a as de}from"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as k,b as C}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as te,p as Qe}from"./chunk-HJKZPT2B.js";import{b as We,c as ze}from"./chunk-W5GYUEPJ.js";import{$b as f,Ab as b,Bc as Z,Dc as Le,Gb as Q,Ia as $,Ic as Ue,J as V,Ja as B,Jc as Ve,Ob as o,Vb as Y,Zb as l,_b as a,da as _e,dc as q,f as ke,fc as W,ga as Ae,gc as J,ha as P,hd as $e,mc as Ne,md as Be,nc as Re,oc as je,p as U,pb as i,qa as H,rc as w,sc as p,tb as d,uc as X,v as T,w as Me,wa as E}from"./chunk-3Q5CJMKA.js";import{b as F}from"./chunk-WFMAM73Y.js";import{a as v,b as y,g as Wt}from"./chunk-2AVGQ2MQ.js";var Ft=Wt(zt());var Gt=D("[ProofOfDelivery Table/API] Load all details"),Kt=D("[ProofOfDelivery Table/API] Load all details Success",S()),Ht=D("[ProofOfDelivery Table/API] Load all details Failure",S()),Qt=D("[EmployeeCenter Table/API] Proof Of Delivery Search",S()),Yt=D("[EmployeeCenter Table/API] Proof Of Delivery Search Success",S()),qt=D("[EmployeeCenter Table/API] Proof Of Delivery Search Failure",S()),Jt=D("[ProofOfDelivery Table/API] Refresh"),Xt=D("[ProofOfDelivery Table/API] Reset all details State"),c={LoadProofOfDelivery:Gt,LoadProofOfDeliverySuccess:Kt,LoadProofOfDeliveryFailure:Ht,ProofOfDeliverySearch:Qt,ProofOfDeliverySearchSuccess:Yt,ProofOfDeliverySearchFailure:qt,Refresh:Jt,ResetState:Xt};var Zt=e=>({"mb-12":e});function ei(e,t){if(e&1&&(l(0,"mat-error"),p(1),a()),e&2){let r=J();i(),X("Please enter valid date!! It should be ",r.dateFormat," .")}}var Tt=(()=>{class e{constructor(r,n,s,u){this.matDialogRef=r,this._formBuilder=n,this.auxUtilService=s,this.store=u,this.dateFormat=st.DATE_FORMAT}ngOnInit(){this.searchForm=this._formBuilder.group({patientId:[],invoiceNo:[""],shipDate:[""],trackingNumber:[]})}searchShipment(){if(!this.searchForm.invalid)if(this.auxUtilService.objFilled(this.searchForm.value)){let r=this.searchForm.value;r=this.auxUtilService.transFormValues(r,ct),r.shipDate?r.shipDate=this.auxUtilService.formatDate(r.shipDate):r.shipDate=null,this.store.dispatch(c.ProofOfDeliverySearch({searchPOd:r})),this.matDialogRef.close()}else Ft.default.fire({icon:"error",title:"Oops...",text:"Enter search criteria"})}closeDocument(){this.matDialogRef.close()}onDateChange(r,n){this.searchForm=this.auxUtilService.manuallyCheckDateValid(r.target.value,this.searchForm,n)}static{this.\u0275fac=function(n){return new(n||e)(d(pe),d(ne),d(L),d(M))}}static{this.\u0275cmp=b({type:e,selectors:[["app-proof-of-delivery-search"]],features:[Z([{provide:it,useValue:{appearance:"outline"}}])],decls:22,vars:18,consts:[["datepicker","matDatepicker"],[1,"flex","max-h-screen","flex-col","md:min-w-160"],[1,"flex","flex-auto","flex-col","sm:pb-0",3,"ngSubmit","formGroup"],[1,"w-full","px-3","pt-1"],["matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[1,"w-full","px-3"],[1,"w-full","px-3",3,"ngClass"],["matInput","","defaultDate","",3,"change","formControlName","matDatepicker","placeholder"],["matIconSuffix","",3,"for"]],template:function(n,s){if(n&1){let u=q();l(0,"div",1)(1,"form",2),W("ngSubmit",function(){return $(u),B(s.searchShipment())}),l(2,"mat-form-field",3)(3,"mat-label"),p(4,"PATIENT #"),a(),f(5,"input",4),a(),l(6,"mat-form-field",5)(7,"mat-label"),p(8,"Invoice Number"),a(),f(9,"input",4),a(),l(10,"mat-form-field",6)(11,"mat-label"),p(12,"Ship Date "),a(),l(13,"input",7),W("change",function(m){return $(u),B(s.onDateChange(m,"shipDate"))}),a(),f(14,"mat-datepicker-toggle",8)(15,"mat-datepicker",null,0),Q(17,ei,2,1,"mat-error"),a(),l(18,"mat-form-field",5)(19,"mat-label"),p(20,"Tracking Number"),a(),f(21,"input",4),a()()()}if(n&2){let u=w(16);i(),o("formGroup",s.searchForm),i(4),o("formControlName","patientId")("placeholder","Patient id")("spellcheck",!1),i(4),o("formControlName","invoiceNo")("placeholder","Invoice Number")("spellcheck",!1),i(),o("ngClass",Le(16,Zt,s.searchForm.get("shipDate").hasError("notValidDate"))),i(3),o("formControlName","shipDate")("matDatepicker",u)("placeholder",s.dateFormat),i(),o("for",u),i(3),Y(s.searchForm.get("shipDate").hasError("notValidDate")?17:-1),i(4),o("formControlName","trackingNumber")("placeholder","Tracking Number")("spellcheck",!1)}},dependencies:[N,re,_,A,ie,oe,ae,me,le,ce,$e,he,ve,se,ue,et],encapsulation:2})}}return e})();var ge=class Oe{constructor(t,r,n,s){this.searchService=t,this.breakpointObserver=r,this._fuseMediaWatcherService=n,this.dialog=s,this.drawerMode="side",this.toggleMenu=!1,this.drawerOpened=!0,this.menuData=[{title:"Actions",subtitle:"",type:"group",children:[{title:"Search POD",type:"basic",icon:"mat_outline:search",function:()=>{this.openSearchModal()}},{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()}}]},{title:"Filters",type:"group",children:[{title:"None",type:"basic",icon:"mat_outline:cancel_presentation",link:"./none"}]}],this.searchCtrl=new Je,this.isHandset$=this.breakpointObserver.observe([be.Tablet,be.Handset]).pipe(T(u=>u.matches),_e())}ngOnInit(){this.searchCtrl.valueChanges.pipe(C(this)).subscribe(t=>this.searchService.search.next(t)),this._fuseMediaWatcherService.onMediaChange$.pipe(C(this)).subscribe(({matchingAliases:t})=>{t.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}openSearchModal(){let t={icon:"mat_outline:edit_note",title:"POD Search",cancelButtonText:"Cancel",saveButtonText:"Ok",dynamicComponent:Tt,dynamicComponentData:null,submitFunction:"searchShipment",enterKeyEnabled:!0},r=this.dialog.open(ye,{width:"700px",minHeight:"auto",data:t})}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(r){return new(r||Oe)(d(Ye),d(Qe),d(at),d(fe))}}static{this.\u0275cmp=b({type:Oe,selectors:[["ac-proof-of-delivery"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(r,n){if(r&1){let s=q();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),p(5," Proof of Delivery "),a()()(),l(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),f(10,"mat-icon",9)(11,"input",10),a()()()(),l(12,"div",11)(13,"button",12),W("click",function(){$(s);let x=w(17);return B(x.toggle())}),f(14,"mat-icon",13),a()()(),l(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),f(18,"aux-sidebar",16),a(),l(19,"mat-drawer-content",17)(20,"div",18),f(21,"router-outlet"),a()()()()}r&2&&(i(10),o("svgIcon","mat_outline:search"),i(),o("formControl",n.searchCtrl),i(3),o("svgIcon","heroicons_outline:menu"),i(2),o("autoFocus",!1)("mode",n.drawerMode)("opened",n.drawerOpened),i(2),o("menuData",n.menuData)("showTitle",!1)("title","SalesCode Actions"))},dependencies:[te,N,_,A,Xe,ot,Pt,St,bt,gt,ze],styles:[".max-w-sx[_ngcontent-%COMP%]{max-width:16rem!important}"],data:{animation:[vt,Dt,ht,yt]}})}};ge=F([k()],ge);var ti=D("[ProofOfDelivery Table/API] Save Proof Of Delivery",S()),ii=D("[PatientPortal Table/API] Save Proof Of Delivery Success",S()),ri=D("[PatientPortal Table/API] Save Proof Of Delivery Failure",S()),g={saveProofOfDelivery:ti,saveProofOfDeliverySuccess:ii,saveProofOfDeliveryFailure:ri};function oi(e,t){if(e&1&&(l(0,"fuse-alert",1),p(1),a()),e&2){let r=J();o("appearance","outline")("type",r.alert.type)("showIcon",!1)("@shake",!0),i(),X(" ",r.alert.message," ")}}var Se=class Ie{constructor(t,r,n,s,u){this.data=t,this._formBuilder=r,this.store=n,this.auxUtilService=s,this.dialogRef=u,this.state=new qe,this.showAlert=!1,this.ShipDisplayData=t.dynamicComponentData}ngOnInit(){this.shipForm=this._formBuilder.group({id:[0],vendor:[""],patientid:[0],ponumber:[""],shipdate:[""],trackingnumber:[""],shippingcarrier:[""],shipstatus:[""],emailstatus:[""],results:[""],iscomplete:[!0],fileattached:[!0]}),this.shipForm.patchValue(this.ShipDisplayData)}ngAfterViewInit(){}ngOnDestroy(){}trackByFn(t){return t.abbreviation}updateShipDetails(){if(this.shipForm.invalid){this.showAlert=!0,this.alert={type:"error",message:"Please fill out all required fields correctly."};return}let t=this.shipForm.value;t=this.auxUtilService.transFormValuesToUpperCase(t,["shippingcarrier","shipstatus","emailstatus","modifiedby","period"]),this.store.dispatch(g.saveProofOfDelivery({saveProofOfDelivery:t})),this.dialogRef.close()}static{this.\u0275fac=function(r){return new(r||Ie)(d(rt,8),d(ne),d(M),d(L),d(pe))}}static{this.\u0275cmp=b({type:Ie,selectors:[["ac-proof-of-delivery-individual-form"]],viewQuery:function(r,n){if(r&1&&Ne(pt,5),r&2){let s;Re(s=je())&&(n.stateAutocomplete=s.first)}},decls:81,vars:52,consts:[["picker",""],[1,"mt-4",3,"appearance","type","showIcon"],[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["readonly","","matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["matInput","","numbers","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],["readonly","","matInput","","numbers","",1,"uppercase",3,"formControlName","placeholder"],["matInput","",1,"uppercase",3,"formControlName","placeholder"],["matInput","",3,"matDatepicker","formControlName","placeholder"],["matSuffix","",3,"for"],[3,"formControlName"],[3,"value"],[1,"mb-4","mt-4"]],template:function(r,n){if(r&1&&(Q(0,oi,2,5,"fuse-alert",1),l(1,"div",2)(2,"div",3)(3,"form",4)(4,"div",5)(5,"mat-form-field",6)(6,"mat-label"),p(7,"ID"),a(),f(8,"mat-icon",7)(9,"input",8),a()(),l(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),p(13,"Vendor"),a(),f(14,"mat-icon",7)(15,"input",9),a()(),l(16,"div",5)(17,"mat-form-field",6)(18,"mat-label"),p(19,"Patient Id"),a(),f(20,"mat-icon",7)(21,"input",10),a()(),l(22,"div",5)(23,"mat-form-field",6)(24,"mat-label"),p(25,"Po Number"),a(),f(26,"mat-icon",7)(27,"input",11),a()(),l(28,"div",5)(29,"mat-form-field",6)(30,"mat-label"),p(31,"Ship Date"),a(),f(32,"mat-icon",7)(33,"input",12)(34,"mat-datepicker-toggle",13)(35,"mat-datepicker",null,0),a()(),l(37,"div",5)(38,"mat-form-field",6)(39,"mat-label"),p(40,"Tracking Number"),a(),f(41,"mat-icon",7)(42,"input",11),a()(),l(43,"div",5)(44,"mat-form-field",6)(45,"mat-label"),p(46,"Shipping Carrier"),a(),f(47,"mat-icon",7)(48,"input",11),a()(),l(49,"div",5)(50,"mat-form-field",6)(51,"mat-label"),p(52,"Ship Status"),a(),f(53,"mat-icon",7)(54,"input",11),a()(),l(55,"div",5)(56,"mat-form-field",6)(57,"mat-label"),p(58,"Email Status"),a(),f(59,"mat-icon",7)(60,"input",11),a()(),l(61,"div",5)(62,"mat-form-field",6)(63,"mat-label"),p(64,"Is Complete"),a(),f(65,"mat-icon",7),l(66,"mat-select",14)(67,"mat-option",15),p(68,"Yes"),a(),l(69,"mat-option",15),p(70,"No"),a()()()(),l(71,"div",16)(72,"mat-form-field",6)(73,"mat-label"),p(74,"File Attached"),a(),f(75,"mat-icon",7),l(76,"mat-select",14)(77,"mat-option",15),p(78,"Yes"),a(),l(79,"mat-option",15),p(80,"No"),a()()()()()()()),r&2){let s=w(36);Y(n.alert?0:-1),i(3),o("formGroup",n.shipForm),i(2),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:document-text"),i(),o("formControlName","id")("placeholder","ID")("spellcheck",!1),i(2),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:shopping-bag"),i(),o("formControlName","vendor")("placeholder","Vendor")("spellcheck",!1),i(2),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:user"),i(),o("formControlName","patientid")("placeholder","Patient Id"),i(2),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:document"),i(),o("formControlName","ponumber")("placeholder","Pon Number"),i(2),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:calendar"),i(),o("matDatepicker",s)("formControlName","shipdate")("placeholder","Ship Date"),i(),o("for",s),i(4),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:tag"),i(),o("formControlName","trackingnumber")("placeholder","Tracking Number"),i(2),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:truck"),i(),o("formControlName","shippingcarrier")("placeholder","Shipping Carrier"),i(2),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:check-circle"),i(),o("formControlName","shipstatus")("placeholder","Ship Status"),i(2),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:envelope"),i(),o("formControlName","emailstatus")("placeholder","Email Status"),i(2),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:check-circle"),i(),o("formControlName","iscomplete"),i(),o("value",!0),i(2),o("value",!1),i(3),o("subscriptSizing","dynamic"),i(3),o("svgIcon","heroicons_solid:document"),i(),o("formControlName","fileattached"),i(),o("value",!0),i(2),o("value",!1)}},dependencies:[ut,N,re,_,A,ie,oe,ae,me,le,te,tt,ce,he,ve,se,ue,ft,Ze],encapsulation:2,data:{animation:lt}})}};Se=F([k()],Se);var xe="patient-portal-individual",ai={loading:!1,error:null,saveProofOfDelivery:null},Et=ee(ai,h(g.saveProofOfDelivery,e=>y(v({},e),{loading:!0,error:null,email:null})),h(g.saveProofOfDeliverySuccess,(e,{saveProofOfDelivery:t})=>y(v({},e),{loading:!1,saveProofOfDelivery:t})),h(g.saveProofOfDeliveryFailure,(e,{error:t})=>y(v({},e),{loading:!1,error:t}))),wt=e=>e.loading,kt=e=>e.error;var Te="proof-of-delivery-table",Fe={loading:!1,error:null,getall:[]},Mt=ee(Fe,h(c.ResetState,()=>Fe),h(c.LoadProofOfDelivery,e=>y(v({},Fe),{loading:!0})),h(c.LoadProofOfDeliverySuccess,(e,{getall:t})=>y(v({},e),{loading:!1,getall:t})),h(c.LoadProofOfDeliveryFailure,(e,{error:t})=>y(v({},e),{loading:!1,error:t})),h(c.ProofOfDeliverySearch,e=>y(v({},e),{loading:!0})),h(c.ProofOfDeliverySearchSuccess,(e,{getall:t})=>y(v({},e),{loading:!1,getall:t})),h(c.ProofOfDeliverySearchFailure,(e,{error:t})=>y(v({},e),{loading:!1,error:t})),h(c.ProofOfDeliverySearch,e=>y(v({},e),{loading:!0})),h(c.ProofOfDeliverySearchSuccess,(e,{getall:t})=>y(v({},e),{loading:!1,getall:t})),h(c.ProofOfDeliverySearchFailure,(e,{error:t})=>y(v({},e),{loading:!1,error:t}))),_t=e=>e.loading,At=e=>e.error,Nt=e=>e.getall;var Ee="proof-of-delivery";function jt(e,t){return Ge({[Te]:Mt,[xe]:Et})(e,t)}var Lt=Ke(Ee),K;(function(e){let t=O(Lt,r=>r[Te]);e.selectLoading=O(t,_t),e.selectError=O(t,At),e.selectUsers=O(t,Nt)})(K||(K={}));var Rt;(function(e){let t=O(Lt,r=>r[xe]);e.selectLoading=O(t,wt),e.selectError=O(t,kt)})(Rt||(Rt={}));var Pe=class we{constructor(t,r,n,s,u,x){this.store=t,this.route=r,this.dateTimeFormate=n,this.actions$=s,this.dialog=u,this.auxUtilService=x,this.columnDefs=[{headerName:"ID",minWidth:50,field:"id",onCellClicked:m=>this.openItem(m),filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"Vender",minWidth:50,field:"vendor",filter:"agMultiColumnFilter",onCellClicked:m=>this.openItem(m),sortIndex:2,hide:!1},{headerName:"PATIENTID",minWidth:100,field:"patientid",filter:"agMultiColumnFilter",cellRenderer:z,cellRendererParams:{field:"patientid"},onCellClicked:m=>this.handleRedirect("patientid",{data:{patientid:m.data.patientid}}),sortIndex:3,hide:!1},{headerName:"PONUBER",minWidth:100,field:"ponumber",filter:"agMultiColumnFilter",onCellClicked:m=>this.openItem(m),sortIndex:4,hide:!1},{headerName:"TRACKINGNUMBER",minWidth:200,field:"trackingnumber",filter:"agMultiColumnFilter",cellRenderer:z,cellRendererParams:{field:"trackingnumber"},onCellClicked:m=>this.handleRedirect("trackingnumber",{data:{trackingnumber:m.data.trackingnumber}}),sortIndex:5,hide:!1},{headerName:"CARRIER",minWidth:80,field:"shippingcarrier",filter:"agMultiColumnFilter",onCellClicked:m=>this.openItem(m),sortIndex:6,hide:!1},{headerName:"SHIPSTATUS",minWidth:150,field:"shipstatus",filter:"agMultiColumnFilter",onCellClicked:m=>this.openItem(m),sortIndex:7,hide:!1},{headerName:"RESULT",minWidth:150,field:"results",filter:"agMultiColumnFilter",onCellClicked:m=>this.openItem(m),sortIndex:8,hide:!0},{headerName:"SHIPDATE",minWidth:150,field:"shipdate",filter:"agDateColumnFilter",valueFormatter:m=>this.dateTimeFormate.transform(m.data.createdBy),onCellClicked:m=>this.openItem(m),sortIndex:9,hide:!1},{headerName:"ISCOMPLETE",minWidth:100,field:"iscomplete",filter:"agMultiColumnFilter",cellRenderer:z,cellRendererParams:{field:"iscomplete"},onCellClicked:m=>this.openItem(m)},{headerName:"FILEATTECHED",minWidth:100,field:"fileattached",filter:"agMultiColumnFilter",cellRenderer:z,cellRendererParams:{field:"fileattached"},onCellClicked:m=>this.openItem(m)}],this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.visibleColumns=["id","vendor","patientid","ponumber","trackingnumber","shippingcarrier","shipstatus","shipdate","iscomplete","fileattached"],this.loading$=this.store.select(K.selectLoading),this.data$=this.route.paramMap.pipe(P(m=>this.store.select(K.selectUsers))),this.paginatorOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ke,this.refresh$=this.refresh.asObservable()}ngOnInit(){Me([this.route.paramMap,this.refresh$.pipe(Ae(null))]).pipe(C(this)).subscribe(()=>{}),this.data$.pipe(C(this)).subscribe(t=>{this.rowData=t}),this.actions$.pipe(I(c.Refresh),C(this)).subscribe(t=>{this.refresh.next(t)})}ngOnDestroy(){this.store.dispatch(c.ResetState())}openItem(t){let r={icon:"mat_outline:assignment",iconColor:"primary",title:"PROOF OF DELIVERY",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Se,dynamicComponentData:t.api.getSelectedRows()[0]||null,submitFunction:"updateShipDetails",enterKeyEnabled:!0};this.dialog.open(ye,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:r}).afterClosed().pipe(C(this)).subscribe(n=>{t.api.clearFocusedCell()})}handleRedirect(t,r){this.auxUtilService.redirectToNewTab(t,r)}static{this.\u0275fac=function(r){return new(r||we)(d(M),d(We),d(De),d(j),d(fe),d(L))}}static{this.\u0275cmp=b({type:we,selectors:[["ac-proof-of-delivery-table"]],features:[Z([De,dt])],decls:4,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"gridOptions","columnDefs","rowData","component","visibleColumns","loading","paginatorOption","agGridHeight"]],template:function(r,n){r&1&&(l(0,"div",0)(1,"div",1),f(2,"aux-ag-grid",2),Ue(3,"async"),a()()),r&2&&(i(2),o("gridOptions",n.options)("columnDefs",n.columnDefs)("rowData",n.rowData)("component","patientPortalTable")("visibleColumns",n.visibleColumns)("loading",Ve(3,8,n.loading$))("paginatorOption",n.paginatorOptions)("agGridHeight","calc(100vh - 292px)"))},dependencies:[Ct,Be],encapsulation:2,changeDetection:0})}};Pe=F([k()],Pe);var Vt=(()=>{class e{constructor(r,n){this.actions$=r,this.apiService=n,this.updateProofsOfDelivery$=R(()=>this.actions$.pipe(I(g.saveProofOfDelivery),P(s=>this.apiService.saveProofOfDelivery(s.saveProofOfDelivery).pipe(P(u=>{mt.ADD_SUCCESS();let x={patientId:s.saveProofOfDelivery.patientid,invoiceNo:"",shipDate:null,shipdate:null,trackingNumber:null};return[g.saveProofOfDeliverySuccess({saveProofOfDelivery:u}),c.ProofOfDeliverySearch({searchPOd:x})]}),V(u=>U(g.saveProofOfDeliveryFailure({error:u.error})))))))}static{this.\u0275fac=function(n){return new(n||e)(E(j),E(de))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var $t=(()=>{class e{constructor(r,n){this.actions$=r,this.apiService=n,this.loadUsers$=R(()=>this.actions$.pipe(I(c.LoadProofOfDelivery),P(()=>this.apiService.getAllProofOfDelivery().pipe(T(s=>c.LoadProofOfDeliverySuccess({getall:s})),V(s=>U(c.LoadProofOfDeliveryFailure({error:s.error}))))))),this.searchPod$=R(()=>this.actions$.pipe(I(c.ProofOfDeliverySearch),P(s=>this.apiService.ProofOfDeliverySearch(s.searchPOd).pipe(T(u=>c.ProofOfDeliverySearchSuccess({getall:u})),V(u=>U(c.ProofOfDeliverySearchFailure({error:u.error}))))))),this.refresh$=R(()=>this.actions$.pipe(I(g.saveProofOfDeliverySuccess),T(()=>c.Refresh())))}static{this.\u0275fac=function(n){return new(n||e)(E(j),E(de))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Bt=[He(Ee,jt),nt([$t,Vt])];var Hr=[{path:"",component:ge,providers:Bt,children:[{path:"",redirectTo:"none",pathMatch:"full"},{path:"none",component:Pe}]}];export{Hr as default};
