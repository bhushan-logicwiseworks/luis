import{a as Ue}from"./chunk-VGE2PNKJ.js";import{a as Ne,b as je}from"./chunk-7O4GN6JJ.js";import{a as Re}from"./chunk-RW26HZBH.js";import{a as b}from"./chunk-Y5RI4PHI.js";import{a as We,b as $e,c as qe}from"./chunk-BLZL7MQY.js";import{a as Z,c as Be}from"./chunk-OJSM7WWP.js";import{a as K}from"./chunk-PVSGC5X6.js";import{b as Me}from"./chunk-M7CNBRZG.js";import"./chunk-2LVKS4R7.js";import{a as Se}from"./chunk-BWPVOFCI.js";import"./chunk-T6JQBFCO.js";import{a as Le}from"./chunk-VK4TGBYQ.js";import{d as _e,e as B}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as q}from"./chunk-3IAIBVAD.js";import"./chunk-QZ2WTBPW.js";import{c as Fe}from"./chunk-KFQHPBEM.js";import{a as X}from"./chunk-7RWCIHFI.js";import"./chunk-HIKYOSQ5.js";import{c as De}from"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{b as be,c as Oe}from"./chunk-W6W3L4PS.js";import{a as i,b as s,n as Ee,o as d,p as xe,v as o,w as S}from"./chunk-7TJE7DO7.js";import"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import"./chunk-I3M6OUQD.js";import"./chunk-BV6IOHNV.js";import{D as we,c as Ce,h as Pe,m as Ie,q as Ae}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{o as ye}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import"./chunk-M4WH542H.js";import{a as $,b as I}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as L,p as ke}from"./chunk-HJKZPT2B.js";import{b as W,d as he,e as Te}from"./chunk-W5GYUEPJ.js";import{$b as h,Ab as P,Bc as ue,Cc as pe,Dc as ge,Gb as R,Ia as O,Ic as U,Ja as F,Jc as j,Ob as f,Qb as me,Vb as k,Wb as Q,Xb as Y,Yb as J,Zb as u,_b as p,da as se,dc as D,f as ae,fc as A,ga as ce,gc as E,hd as fe,lb as le,md as ve,pb as m,rc as de,sc as T,tb as v,tc as w,uc as _,v as re,w as oe}from"./chunk-3Q5CJMKA.js";import{b as N}from"./chunk-WFMAM73Y.js";import{a,b as r}from"./chunk-2AVGQ2MQ.js";var yt=e=>[e],St=()=>({exact:!0});function Lt(e,t){if(e&1){let n=D();u(0,"a",7),A("click",function(){O(n);let g=E().$implicit,C=E(2);return F(C.updateQueryParams(g.meta.key,g.meta.value))}),h(1,"mat-icon",8),u(2,"span",9),T(3),p()()}if(e&2){let n=E().$implicit,c=E(2);me("active",c.isActive(n.meta)),f("ngClass",c.isActive(n.meta)==!0?"dark:bg-gray-800":"")("routerLink",ge(10,yt,n.link))("queryParams",c.queryParams)("routerLinkActiveOptions",pe(12,St)),m(),f("ngClass",c.isActive(n.meta)==!0?"dark:text-white":"dark:text-gray-400")("svgIcon",n==null?null:n.icon),m(),f("ngClass",c.isActive(n.meta)==!0?"dark:text-white":"dark:text-gray-400"),m(),w(n.title)}}function bt(e,t){if(e&1){let n=D();u(0,"a",10),A("click",function(){O(n);let g=E().$implicit;return F(g.function(g))}),h(1,"mat-icon",8),u(2,"span",9),T(3),p()()}if(e&2){let n=E().$implicit,c=E(2);m(),f("ngClass",c.isActive(n.meta)==!0?"dark:text-white":"dark:text-gray-400")("svgIcon",n==null?null:n.icon),m(),f("ngClass",c.isActive(n.meta)==!0?"dark:text-white":"dark:text-gray-400"),m(),w(n.title)}}function Ot(e,t){if(e&1&&R(0,Lt,4,13,"a",6)(1,bt,4,4,"a"),e&2){let n=t.$implicit;k(n.link&&n.meta&&!n.function?0:-1),m(),k(!n.link&&!n.meta&&n.function?1:-1)}}function Ft(e,t){if(e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),T(4),p(),u(5,"span",4),T(6),p()(),u(7,"div",5),Y(8,Ot,2,2,null,null,Q),p()()()),e&2){let n=t.$implicit;m(4),w(n.title),m(2),w(n.subtitle),m(2),J(n.children)}}var Ke=(()=>{class e{constructor(n,c){this.route=n,this.router=c,this.menuData=[],this.queryParams={}}ngOnInit(){this.route.queryParamMap.subscribe(n=>{if(this.isEmpty(n.params)){let c={status:"error",dateRange:"today"};this.router.navigate([],{relativeTo:this.route,queryParams:c,queryParamsHandling:"merge"})}else this.queryParams=a({},n.params)})}updateQueryParams(n,c){this.queryParams=r(a({},this.queryParams),{[n]:c}),this.router.navigate([],{relativeTo:this.route,queryParams:this.queryParams})}isActive(n){return n&&this.queryParams[n.key]===n.value}isEmpty(n){for(let c in n)if(Object.hasOwn(n,c))return!1;return!0}static{this.\u0275fac=function(c){return new(c||e)(v(W),v(he))}}static{this.\u0275cmp=P({type:e,selectors:[["app-multiselect-menu"]],inputs:{menuData:"menuData"},decls:2,vars:0,consts:[[1,"menu-navigation"],[1,"item-group"],[1,"title-group"],[1,"title"],[1,"subTitle"],[1,"item-body"],[3,"ngClass","routerLink","queryParams","active","routerLinkActiveOptions"],[3,"click","ngClass","routerLink","queryParams","routerLinkActiveOptions"],[1,"multiple-vertical-navigation-item-icon",3,"ngClass","svgIcon"],[3,"ngClass"],[3,"click"]],template:function(c,g){c&1&&Y(0,Ft,10,2,"div",0,Q),c&2&&J(g.menuData)},dependencies:[fe,Te,L],styles:[".menu-navigation[_ngcontent-%COMP%]{margin-top:20px}.menu-navigation[_ngcontent-%COMP%]   .item-group[_ngcontent-%COMP%]{margin:0 12px}.menu-navigation[_ngcontent-%COMP%]   .item-group[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]{position:relative;padding:10px 16px;font-size:12px;font-weight:500;line-height:18px;text-decoration:none;border-radius:6px}.menu-navigation[_ngcontent-%COMP%]   .item-group[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgba(var(--fuse-primary-600-rgb),var(--tw-text-opacity, 1));opacity:1;font-size:12px;font-weight:600;letter-spacing:.05em;text-transform:uppercase}.menu-navigation[_ngcontent-%COMP%]   .item-group[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{font-size:11px;line-height:1.5;color:currentColor;opacity:.8;display:block}.menu-navigation[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:4px;padding:4px 8px;cursor:pointer}.menu-navigation[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#1e293b}.menu-navigation[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#1e293b0d;border-radius:6px}.menu-navigation[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .multiple-vertical-navigation-item-icon[_ngcontent-%COMP%]{margin-right:16px;color:currentColor;opacity:.8}"]})}}return e})();var Dt=i("[EventTracking Table/API] Load Owners"),Mt=i("[EventTracking Table/API] Load Owners Success",s()),Nt=i("[EventTracking Table/API] Load Owners Failure",s()),Rt=i("[EventTracking Table/API] Load Event Information",s()),Ut=i("[EventTracking Table/API] Load Event Information Success",s()),jt=i("[EventTracking Table/API] Load Event Information Failure",s()),Wt=i("[EventTracking Table/API] Refresh"),x={LoadOwners:Dt,LoadOwnersSuccess:Mt,LoadOwnersFailure:Nt,LoadEventInformation:Rt,LoadEventInformationSuccess:Ut,LoadEventInformationFailure:jt,Refresh:Wt};function $t(e,t){if(e&1&&(u(0,"div",5)(1,"button",10),h(2,"mat-icon",7),p(),u(3,"div",8),T(4),p()()),e&2){let n=E();m(2),f("svgIcon","mat_outline:grid_3x3"),m(2),_(" ",n.eventTrackingData==null?null:n.eventTrackingData.patientid," ")}}function qt(e,t){if(e&1&&(u(0,"div",9)(1,"button",11),h(2,"mat-icon",7),p(),u(3,"div",8)(4,"a",12),T(5),p()()()),e&2){let n=E();m(2),f("svgIcon","heroicons_outline:mail"),m(2),f("href","mailto:"+(n.eventTrackingData==null?null:n.eventTrackingData.email),le),m(),_(" ",n.eventTrackingData==null?null:n.eventTrackingData.email," ")}}function Bt(e,t){if(e&1&&(u(0,"div",5)(1,"button",13),h(2,"mat-icon",7),p(),u(3,"div",8),T(4),p()()),e&2){let n=E();m(2),f("svgIcon","mat_outline:print"),m(2),_(" ",n.eventTrackingData==null?null:n.eventTrackingData.message," ")}}function Kt(e,t){if(e&1&&(u(0,"div",5)(1,"button",14),h(2,"mat-icon",7),p(),u(3,"div",8),T(4),p()()),e&2){let n=E();m(2),f("svgIcon","mat_outline:perm_contact_calendar"),m(2),_(" ",n.eventTrackingData.createdBy," ")}}function Vt(e,t){if(e&1&&(u(0,"div",5)(1,"button",15),h(2,"mat-icon",7),p(),u(3,"div",8),T(4),U(5,"datetimeformat"),p()()),e&2){let n=E();m(2),f("svgIcon","mat_outline:calendar_today"),m(2),_(" ",j(5,2,n.eventTrackingData.createdDate)," ")}}var Ve=(()=>{class e{constructor(n){this.data=n,this.eventTrackingData=n.dynamicComponentData}static{this.\u0275fac=function(c){return new(c||e)(v(_e,8))}}static{this.\u0275cmp=P({type:e,selectors:[["app-event-tracking-individual"]],decls:16,vars:8,consts:[[1,"flex","w-full","flex-col"],[1,"relative","flex","flex-auto","flex-col","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"mt-3","truncate","text-2xl","font-bold"],[1,"mt-4","flex","flex-col","space-y-8","border-t","pt-6"],[1,"flex"],["matTooltip","Log ID"],[3,"svgIcon"],[1,"ml-6","text-lg"],[1,"flex","sm:items-center"],["matTooltip","Patient ID"],["matTooltip","Email"],["target","_blank",1,"text-lg","text-primary-500","hover:underline",3,"href"],["matTooltip","Message"],["matTooltip","Added By"],["matTooltip","Added Date"]],template:function(c,g){c&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),T(4),p(),u(5,"div",4)(6,"div",5)(7,"button",6),h(8,"mat-icon",7),p(),u(9,"div",8),T(10),p()(),R(11,$t,5,2,"div",5)(12,qt,6,3,"div",9)(13,Bt,5,2,"div",5)(14,Kt,5,2,"div",5)(15,Vt,6,4,"div",5),p()()()()),c&2&&(m(4),w(g.eventTrackingData==null?null:g.eventTrackingData.email),m(4),f("svgIcon","mat_outline:grid_3x3"),m(2),_(" ",g.eventTrackingData==null?null:g.eventTrackingData.logid," "),m(),k(g.eventTrackingData!=null&&g.eventTrackingData.patientid?11:-1),m(),k(g.eventTrackingData!=null&&g.eventTrackingData.email?12:-1),m(),k(g.eventTrackingData!=null&&g.eventTrackingData.message?13:-1),m(),k(g.eventTrackingData.createdBy?14:-1),m(),k(g.eventTrackingData.createdDate?15:-1))},dependencies:[Fe,L,b],encapsulation:2})}}return e})();var Gt=i("[EventTracking Create/API] Create Email",s()),zt=i("[EventTracking Create/API] Create Email Success",s()),Ht=i("[EventTracking Create/API] Create Email Failure",s()),Qt=i("[EventTracking Create/API] Load Owners"),Yt=i("[EventTracking Create/API] Load Owners Success",s()),Jt=i("[EventTracking Create/API] Load Owners Failure",s()),y={CreateEmail:Gt,CreateEmailSuccess:zt,CreateEmailFailure:Ht,LoadOwners:Qt,LoadOwnersSuccess:Yt,LoadOwnersFailure:Jt};var Ge="comm-center-create",Xt={loading:!1,error:null,owners:[],loadingOwners:!1,errorOwners:null},Zt=S(Xt,o(y.CreateEmail,e=>r(a({},e),{loading:!0,error:null})),o(y.CreateEmailSuccess,(e,{email:t})=>r(a({},e),{loading:!1,email:t})),o(y.CreateEmailFailure,(e,{error:t})=>r(a({},e),{loading:!1,error:t})),o(y.LoadOwners,e=>r(a({},e),{loadingOwners:!0,errorOwners:null})),o(y.LoadOwnersSuccess,(e,{owners:t})=>r(a({},e),{loadingOwners:!1,owners:t})),o(y.LoadOwnersFailure,(e,{error:t})=>r(a({},e),{loadingOwners:!1,errorOwners:t}))),ze=e=>e.loading,He=e=>e.error,Qe=e=>e.owners,Ye=e=>e.loadingOwners;var tn=i("[EventTracking Email/API] Reset email State"),nn=i("[EventTracking Email/API] Load Email",s()),an=i("[EventTracking Email/API] Load Email Success",s()),rn=i("[EventTracking Email/API] Load Email Failure",s()),on=i("[EventTracking Email/API] Load Owners"),sn=i("[EventTracking Email/API] Load Owners Success",s()),cn=i("[EventTracking Email/API] Load Owners Failure",s()),ln=i("[EventTracking Email/API] Load Comm Document",s()),mn=i("[EventTracking Email/API] Load Comm Document Success",s()),dn=i("[EventTracking Email/API] Load Comm Document Failure",s()),un=i("[EventTracking Email/API] Load Notes",s()),pn=i("[EventTracking Email/API] Load Notes Success",s()),gn=i("[EventTracking Email/API] Load Notes Failure",s()),fn=i("[EventTracking Email/API] Update Label",s()),vn=i("[EventTracking Email/API] Update Label Success",s()),hn=i("[EventTracking Email/API] Update Label Failure",s()),Tn=i("[EventTracking Email/API] Update Owner",s()),En=i("[EventTracking Email/API] Update Owner Success",s()),xn=i("[EventTracking Email/API] Update Owner Failure",s()),kn=i("[EventTracking Email/API] Load Attachments",s()),Cn=i("[EventTracking Email/API] Load Attachments Success",s()),Pn=i("[EventTracking Email/API] Load Attachments Failure",s()),In=i("[EventTracking Email/API] Load Tags",s()),An=i("[EventTracking Email/API] Load Tags Success",s()),wn=i("[EventTracking Email/API] Load Tags Failure",s()),_n=i("[EventTracking Email/API] Add Tag",s()),yn=i("[EventTracking Email/API] Add Tag Success"),Sn=i("[EventTracking Email/API] Add Tag Failure",s()),Ln=i("[EventTracking Email/API] Delete Tag",s()),bn=i("[EventTracking Email/API] Delete Tag Success"),On=i("[EventTracking Email/API] Delete Tag Failure",s()),Fn=i("[EventTracking Email/API] Add Note",s()),Dn=i("[EventTracking Email/API] Add Note Success",s()),Mn=i("[EventTracking Email/API] Add Note Failure",s()),Nn=i("[EventTracking Attachment/API] Play Audio Attachment",s()),Rn=i("[EventTracking Attachment/API] Play Audio Attachment Success",s()),Un=i("[EventTracking Attachment/API] Play Audio Attachment Failure",s()),jn=i("[EventTracking Patient Search/API] Link Patient Search",s()),Wn=i("[EventTracking Patient Search/API] Link Patient Search Success",s()),$n=i("[EventTracking Patient Search/API] Link Patient Search Failure",s()),qn=i("[EventTracking Patient Search/API] Fax Link Patient Search",s()),Bn=i("[EventTracking Patient Search/API] Fax Link Patient Search Success",s()),Kn=i("[EventTracking Patient Search/API] Fax Link Patient Search Failure",s()),Vn=i("[EventTracking Attachment] Stop Audio"),Gn=i("[EventTracking/API] Set Preview URL",s()),l={LoadEmail:nn,LoadEmailSuccess:an,LoadEmailFailure:rn,LoadOwners:on,LoadOwnersSuccess:sn,LoadOwnersFailure:cn,LoadCommDocument:ln,LoadCommDocumentSuccess:mn,LoadCommDocumentFailure:dn,LoadNotes:un,LoadNotesSuccess:pn,LoadNotesFailure:gn,UpdateLabel:fn,UpdateLabelSuccess:vn,UpdateLabelFailure:hn,UpdateOwner:Tn,UpdateOwnerSuccess:En,UpdateOwnerFailure:xn,LoadAttachments:kn,LoadAttachmentsSuccess:Cn,LoadAttachmentsFailure:Pn,LoadTags:In,LoadTagsSuccess:An,LoadTagsFailure:wn,AddTag:_n,AddTagSuccess:yn,AddTagFailure:Sn,DeleteTag:Ln,DeleteTagSuccess:bn,DeleteTagFailure:On,AddNote:Fn,AddNoteSuccess:Dn,AddNoteFailure:Mn,PlayAudioAttachment:Nn,PlayAudioAttachmentSuccess:Rn,PlayAudioAttachmentFailure:Un,StopAudioAttachment:Vn,SetPreviewUrl:Gn,PatientSearch:jn,PatientSearchSuccess:Wn,PatientSearchFailure:$n,PatientFaxIntoPatientRecord:qn,PatientFaxIntoPatientRecordSuccess:Bn,PatientFaxIntoPatientRecordFailure:Kn,ResetState:tn};var Xe="comm-center-email",Je={loading:!1,error:null,email:null,owners:[],loadingOwners:!1,notes:[],loadingNotes:!1,updatingNotes:!1,attachments:[],loadingAttachments:!1,updatingLabel:!1,updatingOwner:!1,tags:[],loadingTags:!1,updatingTags:0,audioPlaying:!1,audio:null,previewUrl:null,patient:[]},zn=S(Je,o(l.ResetState,()=>Je),o(l.LoadEmail,e=>r(a({},e),{loading:!0,error:null,email:null})),o(l.LoadEmailSuccess,(e,{email:t})=>r(a({},e),{loading:!1,email:t})),o(l.LoadEmailFailure,(e,{error:t})=>r(a({},e),{loading:!1,error:t})),o(l.LoadOwners,e=>r(a({},e),{loadingOwners:!0,error:null})),o(l.LoadOwnersSuccess,(e,{owners:t})=>r(a({},e),{loadingOwners:!1,owners:t})),o(l.LoadOwnersFailure,(e,{error:t})=>r(a({},e),{loadingOwners:!1,error:t})),o(l.LoadCommDocument,e=>r(a({},e),{loading:!0,error:null})),o(l.LoadCommDocumentSuccess,e=>r(a({},e),{loading:!1})),o(l.LoadCommDocumentFailure,(e,{error:t})=>r(a({},e),{loading:!1,error:t})),o(l.LoadNotes,e=>r(a({},e),{loadingNotes:!0,notes:[],error:null})),o(l.LoadNotesSuccess,(e,{notes:t})=>r(a({},e),{loadingNotes:!1,notes:t})),o(l.LoadNotesFailure,(e,{error:t})=>r(a({},e),{loadingNotes:!1,error:t})),o(l.UpdateLabel,e=>r(a({},e),{updatingLabel:!0,error:null})),o(l.UpdateLabelSuccess,(e,{})=>r(a({},e),{updatingLabel:!1})),o(l.UpdateLabelFailure,(e,{error:t})=>r(a({},e),{updatingLabel:!1,error:t})),o(l.UpdateOwner,e=>r(a({},e),{updatingOwner:!0,error:null})),o(l.UpdateOwnerSuccess,(e,{})=>r(a({},e),{updatingOwner:!1})),o(l.UpdateOwnerFailure,(e,{error:t})=>r(a({},e),{updatingOwner:!1,error:t})),o(l.LoadAttachments,e=>r(a({},e),{loadingAttachments:!0,attachments:[],error:null})),o(l.LoadAttachmentsSuccess,(e,{attachments:t})=>r(a({},e),{loadingAttachments:!1,attachments:t})),o(l.LoadAttachmentsFailure,(e,{error:t})=>r(a({},e),{loadingAttachments:!1,error:t})),o(l.AddNote,e=>r(a({},e),{updatingNotes:!0,error:null})),o(l.AddNoteSuccess,(e,{note:t})=>r(a({},e),{updatingNotes:!1,notes:[...e.notes,t]})),o(l.AddNoteFailure,(e,{error:t})=>r(a({},e),{updatingNotes:!1,error:t})),o(l.LoadTags,e=>r(a({},e),{loadingTags:!0,tags:[],error:null})),o(l.LoadTagsSuccess,(e,{tags:t})=>r(a({},e),{loadingTags:!1,tags:t})),o(l.LoadTagsFailure,(e,{error:t})=>r(a({},e),{loadingTags:!1,error:t})),o(l.AddTag,e=>r(a({},e),{updatingTags:e.updatingTags+1,error:null})),o(l.AddTagSuccess,(e,{})=>r(a({},e),{updatingTags:e.updatingTags-1})),o(l.AddTagFailure,(e,{error:t})=>r(a({},e),{updatingTags:e.updatingTags-1,error:t})),o(l.DeleteTag,e=>r(a({},e),{updatingTags:e.updatingTags+1,error:null})),o(l.DeleteTagSuccess,(e,{})=>r(a({},e),{updatingTags:e.updatingTags-1})),o(l.DeleteTagFailure,(e,{error:t})=>r(a({},e),{updatingTags:e.updatingTags-1,error:t})),o(l.PatientSearch,e=>r(a({},e),{loading:!0,patient:null})),o(l.PatientSearchSuccess,(e,{patient:t})=>r(a({},e),{loading:!1,patient:t})),o(l.PatientSearchFailure,(e,{error:t})=>r(a({},e),{loading:!1,error:t})),o(l.PatientFaxIntoPatientRecord,e=>r(a({},e),{loading:!0,patient:null})),o(l.PatientFaxIntoPatientRecordSuccess,(e,{patient:t})=>r(a({},e),{loading:!1,patient:t})),o(l.PatientFaxIntoPatientRecordFailure,(e,{error:t})=>r(a({},e),{loading:!1,error:t})),o(l.PlayAudioAttachmentSuccess,(e,{data:t})=>r(a({},e),{audio:t,audioPlaying:!0})),o(l.StopAudioAttachment,e=>r(a({},e),{audio:null,audioPlaying:!1})),o(l.SetPreviewUrl,(e,{url:t})=>r(a({},e),{previewUrl:t,loading:!1}))),Ze=e=>e.loading,et=e=>e.email,tt=e=>e.loadingOwners,nt=e=>e.loadingNotes,it=e=>e.loadingAttachments,at=e=>e.updatingLabel,rt=e=>e.updatingOwner,ot=e=>e.error,st=e=>e.owners,ct=e=>e.notes,lt=e=>e.updatingNotes,mt=e=>e.attachments,dt=e=>e.tags,ut=e=>e.loadingTags,pt=e=>e.updatingTags>0,gt=e=>e.audio,ft=e=>e.audioPlaying,vt=e=>e.previewUrl,ht=e=>e.patient;var Et="event-tracking-center-table",Tt={loading:!1,error:null,StatusInformation:[]},Qn=S(Tt,o(x.LoadEventInformation,e=>r(a({},Tt),{loading:!0})),o(x.LoadEventInformationSuccess,(e,{StatusInformation:t})=>r(a({},e),{loading:!1,StatusInformation:t})),o(x.LoadEventInformationFailure,(e,{error:t})=>r(a({},e),{loading:!1,error:t}))),xt=e=>e.loading,kt=e=>e.error,Ct=e=>e.StatusInformation;var Jn="event-tracking-center";var te=xe(Jn),M;(function(e){let t=d(te,n=>n[Et]);e.selectLoading=d(t,xt),e.selectError=d(t,kt),e.selectStatusInformation=d(t,Ct)})(M||(M={}));var Pt;(function(e){let t=d(te,n=>n[Xe]);e.selectLoading=d(t,Ze),e.selectEmail=d(t,et),e.selectLoadingOwners=d(t,tt),e.selectLoadingNotes=d(t,nt),e.selectLoadingAttachments=d(t,it),e.selectUpdatingLabel=d(t,at),e.selectUpdatingOwner=d(t,rt),e.selectError=d(t,ot),e.selectOwners=d(t,st),e.selectNotes=d(t,ct),e.selectUpdatingNotes=d(t,lt),e.selectAttachments=d(t,mt),e.selectTags=d(t,dt),e.selectTagNames=d(e.selectTags,n=>n?.map(c=>c.tag)),e.selectLoadingTags=d(t,ut),e.selectUpdatingTags=d(t,pt),e.selectAudio=d(t,gt),e.selectAudioPlaying=d(t,ft),e.selectPreviewUrl=d(t,vt),e.selectPatients=d(t,ht)})(Pt||(Pt={}));var It;(function(e){let t=d(te,n=>n[Ge]);e.selectLoading=d(t,ze),e.selectError=d(t,He),e.selectOwners=d(t,Qe),e.selectLoadingOwners=d(t,Ye)})(It||(It={}));var V=class ne{constructor(t,n,c,g,C,z,At,wt){this.store=t,this.route=n,this.actions$=c,this.dateTimeFormatePipe=g,this.dateFormatePipe=C,this.dialog=z,this._fuseConfirmationService=At,this.searchService=wt,this.columnDefs=[{headerName:"Logid",field:"logid",filter:"agMultiColumnFilter",minWidth:85,sortIndex:7,hide:!1},{headerName:"Status",field:"status",filter:"agMultiColumnFilter",sortIndex:13,hide:!1,minWidth:100},{headerName:"Patient Id",field:"patientid",filter:"agNumberColumnFilter",sortIndex:10,hide:!1,minWidth:100},{headerName:"Email",field:"email",filter:"agMultiColumnFilter",minWidth:200,sortIndex:6,hide:!1},{headerName:"Controller Name",field:"controllername",filter:"agMultiColumnFilter",minWidth:150,sortIndex:3,hide:!1},{headerName:"Service Name",field:"servicename",filter:"agMultiColumnFilter",sortIndex:11,hide:!1,minWidth:150},{headerName:"Source",field:"source",filter:"agMultiColumnFilter",sortIndex:12,hide:!1,minWidth:100},{headerName:"Created Date",field:"createdDate",valueFormatter:H=>this.dateTimeFormatePipe.transform(H.data.createdDate),filter:"agDateColumnFilter",filterParams:Z,sortIndex:4,hide:!1,minWidth:130},{headerName:"Created By",field:"createdBy",valueFormatter:H=>this.dateFormatePipe.transform(H.data.receivedDate),filter:"agDateColumnFilter",filterParams:Z,sortIndex:5,hide:!1,minWidth:125},{headerName:"Message",field:"message",filter:"agMultiColumnFilter",minWidth:850,sortIndex:7,hide:!1,cellStyle:{"white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}}],this.rowData=[],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.visibleColumns=["logid","status","email","controllername","servicename","createdDate","message"],this.data$=this.store.select(M.selectStatusInformation),this.loading$=this.store.select(M.selectLoading),this.pageSizeOption={pageSize:20,pageSizeOptions:[5,10,20,50]},this.refresh=new ae,this.refresh$=this.refresh.asObservable(),this.selectedRowIndex=-1,this.selection=new De(!0,[]),this.filterSlugStatus=""}ngOnInit(){oe([this.route.queryParamMap,this.refresh$.pipe(ce(null))]).pipe(I(this)).subscribe(([t])=>{let n=t.get("status"),c=t.get("dateRange");switch(n&&this.filterSlugStatus!==""&&n!==this.filterSlugStatus&&this.searchService.resetFilter.next({resetGrid:!0}),this.filterSlugStatus=n,n){case"information":this.selection.clear(),this.store.dispatch(x.LoadEventInformation({status:"INFORMATION",dateRangeOption:c.toUpperCase()}));break;case"warning":this.selection.clear(),this.store.dispatch(x.LoadEventInformation({status:"WARNING",dateRangeOption:c.toUpperCase()}));break;case"error":this.selection.clear(),this.resetGridFilters(),this.store.dispatch(x.LoadEventInformation({status:"ERROR",dateRangeOption:c.toUpperCase()}));break;default:this.selection.clear(),this.store.dispatch(x.LoadEventInformation({status:"ERROR",dateRangeOption:"TODAY"}));break}}),this.data$.pipe(I(this)).subscribe(t=>{this.rowData=t}),this.actions$.pipe(Oe(x.Refresh),I(this)).subscribe(t=>this.refresh.next(t))}onSelectionChanged(t){this.selection.setSelection(...t.api.getSelectedRows()),t.api.getSelectedRows().length>0&&this.openItem(t)}openItem(t){let n={icon:"mat_outline:assignment",iconColor:"primary",title:"EVENT DETAILS",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"",dynamicComponent:Ve,dynamicComponentData:t.api.getSelectedRows()[0]||null,submitFunction:"",enterKeyEnabled:!0};this.dialog.open(Me,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:n}).afterClosed().pipe(I(this)).subscribe(c=>{this.refresh.next(c),t.api.clearFocusedCell()})}openEmailDrawer(t){this.selectedRowIndex=t.rowIndex,t.api.deselectAll()}ngAfterViewInit(){}isDisabled(){return this.selection.isEmpty()}successMessage(t,n){this._fuseConfirmationService.open({title:t,message:n,actions:{confirm:{label:"OK"},cancel:{show:!1}},icon:{name:"heroicons_outline:check-circle",color:"success"}})}resetGridFilters(){}static{this.\u0275fac=function(n){return new(n||ne)(v(Ee),v(W),v(be),v(b),v(K),v(B),v(Se),v(q))}}static{this.\u0275cmp=P({type:ne,selectors:[["app-event-tracking-table"]],features:[ue([b,K])],decls:4,vars:9,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"rowSelectionChange","gridOptions","component","columnDefs","rowData","visibleColumns","agGridHeight","loading"]],template:function(n,c){n&1&&(u(0,"div",0)(1,"div",1)(2,"aux-ag-grid",2),U(3,"async"),A("rowSelectionChange",function(C){return c.onSelectionChanged(C)}),p()()()),n&2&&(m(2),f("gridOptions",c.options)("component","EventTracking")("columnDefs",c.columnDefs)("rowData",c.rowData)("visibleColumns",c.visibleColumns)("agGridHeight","calc(100vh - 292px)")("loading",j(3,7,c.loading$)))},dependencies:[Be,ve],styles:[".insurance-pill{max-height:32px;display:flex;align-items:center}"],changeDetection:0})}};V=N([$()],V);var G=class ie{constructor(t,n,c,g){this._fuseMediaWatcherService=t,this.searchService=n,this.breakpointObserver=c,this.dialog=g,this.toggleMenu=!1,this.drawerMode="side",this.drawerOpened=!0,this.menuData=[{title:"Actions",subtitle:"Task, project & team",type:"group",children:[{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()},classes:{wrapper:"padding-style"}}]},{title:"FILTER STATUS",type:"group",children:[{title:"Information",type:"basic",icon:"heroicons_outline:x-circle",link:"/centers/event-tracking-center",meta:{key:"status",value:"information"}},{title:"Warning",type:"basic",icon:"heroicons_outline:user-circle",link:"/centers/event-tracking-center",meta:{key:"status",value:"warning"}},{title:"Error",type:"basic",icon:"heroicons_outline:check-circle",link:"/centers/event-tracking-center",meta:{key:"status",value:"error"}}]},{title:"FILTER DATE RANGE",type:"group",children:[{title:"Today",type:"basic",icon:"heroicons_outline:refresh",link:"/centers/event-tracking-center",meta:{key:"dateRange",value:"today"}},{title:"This week",type:"basic",icon:"heroicons_outline:refresh",link:"/centers/event-tracking-center",meta:{key:"dateRange",value:"thisweek"}},{title:"This Month",type:"basic",icon:"heroicons_outline:refresh",link:"/centers/event-tracking-center",meta:{key:"dateRange",value:"thismonth"}}]}],this.searchCtrl=new Ie,this.isHandset$=this.breakpointObserver.observe([X.Tablet,X.Handset]).pipe(re(C=>C.matches),se())}ngOnInit(){this.searchCtrl.valueChanges.pipe(I(this)).subscribe(t=>this.searchService.search.next(t)),this._fuseMediaWatcherService.onMediaChange$.pipe(I(this)).subscribe(({matchingAliases:t})=>{t.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(n){return new(n||ie)(v(Le),v(q),v(ke),v(B))}}static{this.\u0275cmp=P({type:ie,selectors:[["ac-comm-center"]],decls:22,vars:7,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(n,c){if(n&1){let g=D();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),T(5," Event Tracking "),p()()(),u(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),h(10,"mat-icon",9)(11,"input",10),p()()()(),u(12,"div",11)(13,"button",12),A("click",function(){O(g);let z=de(17);return F(z.toggle())}),h(14,"mat-icon",13),p()()(),u(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),h(18,"app-multiselect-menu",16),p(),u(19,"mat-drawer-content",17)(20,"div",18),h(21,"app-event-tracking-table"),p()()()()}n&2&&(m(10),f("svgIcon","mat_outline:search"),m(),f("formControl",c.searchCtrl),m(3),f("svgIcon","heroicons_outline:menu"),m(2),f("autoFocus",!1)("mode",c.drawerMode)("opened",c.drawerOpened),m(2),f("menuData",c.menuData))},dependencies:[L,we,Ce,Pe,Ae,ye,qe,$e,Ke,We,V],styles:[".max-w-sx[_ngcontent-%COMP%]{max-width:16rem!important}"],data:{animation:[Re,je,Ne,Ue]}})}};G=N([$()],G);var ga=[{path:"",component:G}];export{ga as default};
