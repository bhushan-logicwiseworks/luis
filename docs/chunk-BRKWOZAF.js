import{a as at}from"./chunk-EPDAUZIC.js";import{a as ot}from"./chunk-X74UJ3QR.js";import{a as Ye}from"./chunk-VGE2PNKJ.js";import{a as Je,b as et}from"./chunk-7O4GN6JJ.js";import{a as Qe}from"./chunk-RW26HZBH.js";import{a as X}from"./chunk-Y5RI4PHI.js";import{a as tt,b as rt,c as it}from"./chunk-BLZL7MQY.js";import{c as nt}from"./chunk-OJSM7WWP.js";import"./chunk-GLNCR2H3.js";import{b as Z}from"./chunk-M7CNBRZG.js";import"./chunk-2LVKS4R7.js";import{a as We}from"./chunk-BWPVOFCI.js";import"./chunk-T6JQBFCO.js";import{a as He}from"./chunk-VK4TGBYQ.js";import{c as Ve,d as Ke,e as W}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as Me}from"./chunk-3IAIBVAD.js";import"./chunk-QZ2WTBPW.js";import"./chunk-KFQHPBEM.js";import{a as Y}from"./chunk-7RWCIHFI.js";import"./chunk-HIKYOSQ5.js";import"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{a as A,b as R,c as v,e as Ze}from"./chunk-W6W3L4PS.js";import{a as n,b as d,h as ye,n as y,o as g,p as Ae,q as Fe,v as b,w as B}from"./chunk-7TJE7DO7.js";import"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{a as qe}from"./chunk-WTDAEWCX.js";import{a as Be,c as ze}from"./chunk-6WEMRU4N.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import{a as Oe,c as $e,h as Ne}from"./chunk-BV6IOHNV.js";import{B as je,D as G,c as V,h as K,i as _e,m as Ee,o as Le,q as Re,r as Pe,t as ke}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{o as Ge}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import{a as Xe}from"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import{a as H}from"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as L,b as C}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as z,p as Te}from"./chunk-HJKZPT2B.js";import{b as Se,c as we}from"./chunk-W5GYUEPJ.js";import{$b as w,Ab as _,Bc as ge,Gb as ue,Ia as pe,Ic as be,J as T,Ja as fe,Jc as Ie,Ob as m,Ta as $,Vb as he,Zb as h,_b as p,da as le,dc as xe,f as ce,fc as N,ga as de,gc as Ce,ha as D,md as Ue,p as F,pb as s,qa as O,rc as ve,sc as E,tb as c,uc as De,v as x,w as me,wa as S}from"./chunk-3Q5CJMKA.js";import{b as M}from"./chunk-WFMAM73Y.js";import{a as I,b as U}from"./chunk-2AVGQ2MQ.js";var Ut=n("[DexcomCenter Table/API] Load User",d()),St=n("[DexcomCenter Table/API] Load User Success",d()),wt=n("[DexcomCenter Table/API] Load User Failure",d()),yt=n("[DexcomCenter Create/API] Add User",d()),At=n("[DexcomCenter Create/API] Add User Success",d()),Ft=n("[DexcomCenter Create/API] Add User Failure",d()),Tt=n("[DexcomCenter Update/API] Update User",d()),Mt=n("[DexcomCenter Update/API] Update User Success",d()),_t=n("[DexcomCenter Update/API] Update User Failure",d()),Et=n("[DexcomCenter Delete/API] Delete User",d()),Lt=n("[DexcomCenter Delete/API] Delete User Success"),Rt=n("[DexcomCenter Delete/API] Delete User Failure",d()),o={LoadUser:Ut,LoadUserFailure:wt,LoadUserSuccess:St,AddUser:yt,AddUserSuccess:At,AddUserFailure:Ft,UpdateUser:Tt,UpdateUserSuccess:Mt,UpdateUserFailure:_t,DeleteUser:Et,DeleteUserSuccess:Lt,DeleteUserFailure:Rt};function kt(t,e){if(t&1&&(h(0,"fuse-alert",9),E(1),p()),t&2){let r=Ce();m("appearance","outline")("type",r.alert.type)("showIcon",!1)("@shake",!0),s(),De(" ",r.alert.message," ")}}var P=class ee{constructor(e,r,i,u){this.data=e,this._formBuilder=r,this.store=i,this.dialogRef=u,this.showDeleteButton=!1,this.cancel=new $,this.save=new $,this.delete=new $,this.editMode=!1,this.showAlert=!1,this.contact=e.dynamicComponentData}ngOnInit(){this.contactForm=this._formBuilder.group({id:[0],email:[""],zipcodes:[""]}),this.contactForm.patchValue(this.contact)}ngAfterViewInit(){}ngOnDestroy(){}toggleEditMode(e=null){this.cancel.emit(e)}saveContact(){let e=this.contactForm.value;e.email=e.email?e.email.toUpperCase():"",this.store.dispatch(o.AddUser({user:e})),this.save.emit(),this.dialogRef.close()}isInputValid(e){return e.email==""||e.email==null?(this.alert={type:"error",message:"Email cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):e.zipcodes==""||e.zipcodes==null?(this.alert={type:"error",message:"Zip cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):!0}static{this.\u0275fac=function(r){return new(r||ee)(c(Ke,8),c(je),c(y),c(Ve))}}static{this.\u0275cmp=_({type:ee,selectors:[["ac-dexcom-center-individual-form"]],inputs:{contact:"contact",showDeleteButton:"showDeleteButton"},outputs:{cancel:"cancel",save:"save",delete:"delete"},decls:16,vars:13,consts:[[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[1,"mt-8"],["matInput","","cdkTextareaAutosize","",3,"formControlName","placeholder","rows","spellcheck"],[1,"mt-4",3,"appearance","type","showIcon"]],template:function(r,i){r&1&&(h(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),E(6,"Email"),p(),w(7,"mat-icon",5)(8,"input",6),p()(),h(9,"div",7)(10,"mat-form-field",4)(11,"mat-label"),E(12,"Zip Codes"),p(),w(13,"mat-icon",5)(14,"textarea",8),p()(),ue(15,kt,2,5,"fuse-alert",9),p()()()),r&2&&(s(2),m("formGroup",i.contactForm),s(2),m("subscriptSizing","dynamic"),s(3),m("svgIcon","heroicons_solid:mail"),s(),m("formControlName","email")("placeholder","Email")("spellcheck",!1),s(2),m("subscriptSizing","dynamic"),s(3),m("svgIcon","heroicons_solid:location-marker"),s(),m("formControlName","zipcodes")("placeholder","Zip Codes")("rows",5)("spellcheck",!1),s(),he(i.alert?15:-1))},dependencies:[G,Le,V,K,_e,Pe,ke,Ne,Oe,z,$e,ze,Be,qe],encapsulation:2,data:{animation:Xe}})}};P=M([L()],P);var J=class re{constructor(e,r,i,u){this._fuseMediaWatcherService=e,this.searchService=r,this.breakpointObserver=i,this.dialog=u,this.toggleMenu=!1,this.drawerMode="side",this.drawerOpened=!0,this.menuData=[{title:"Actions",subtitle:"Add new team member",type:"group",children:[{title:"Add Dexcom Rep",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}},{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()}}]}],this.searchCtrl=new Ee,this.isHandset$=this.breakpointObserver.observe([Y.Tablet,Y.Handset]).pipe(x(l=>l.matches),le())}ngOnInit(){this.searchCtrl.valueChanges.pipe(C(this)).subscribe(e=>this.searchService.search.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(C(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}openCreate(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"ADD DEXCOM REP",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:P,dynamicComponentData:null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(Z,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(C(this)).subscribe(r=>{})}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(r){return new(r||re)(c(He),c(Me),c(Te),c(W))}}static{this.\u0275cmp=_({type:re,selectors:[["ac-dexcom-center"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(r,i){if(r&1){let u=xe();h(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),E(5," DexcomCenter "),p()()(),h(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),w(10,"mat-icon",9)(11,"input",10),p()()()(),h(12,"div",11)(13,"button",12),N("click",function(){pe(u);let a=ve(17);return fe(a.toggle())}),w(14,"mat-icon",13),p()()(),h(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),w(18,"aux-sidebar",16),p(),h(19,"mat-drawer-content",17)(20,"div",18),w(21,"router-outlet"),p()()()()}r&2&&(s(10),m("svgIcon","mat_outline:search"),s(),m("formControl",i.searchCtrl),s(3),m("svgIcon","heroicons_outline:menu"),s(2),m("autoFocus",!1)("mode",i.drawerMode)("opened",i.drawerOpened),s(2),m("menuData",i.menuData)("showTitle",!1)("title","SalesCode Actions"))},dependencies:[z,G,V,K,Re,Ge,it,rt,ot,tt,we],styles:[".max-w-sx[_ngcontent-%COMP%]{max-width:16rem!important}"],data:{animation:[Qe,et,Je,Ye]}})}};J=M([L()],J);var jt=n("[DexcomCenter Table/API] Reset Users State"),Ot=n("[DexcomCenter Table/API] Load Users",d()),$t=n("[DexcomCenter Table/API] Load Users Success",d()),Nt=n("[DexcomCenter Table/API] Load Users Failure",d()),Bt=n("[DexcomCenter Table/API] Refresh"),zt=n("[DexcomCenter Table/API] Reset DexcomCenter"),f={LoadUsers:Ot,LoadUsersSuccess:$t,LoadUsersFailure:Nt,Refresh:Bt,ResetState:jt,resetState:zt};var ie="dexcom-center-individual",Vt={loading:!1,error:null,user:null,users:[]},ct=B(Vt,b(o.LoadUser,t=>U(I({},t),{loading:!0})),b(o.LoadUserSuccess,(t,{user:e})=>U(I({},t),{loading:!1,user:e})),b(o.LoadUserFailure,(t,{error:e})=>U(I({},t),{loading:!1,error:e}))),mt=t=>t.loading,lt=t=>t.user,dt=t=>t.error;var ae="dexcom-center-table",oe={loading:!1,error:null,users:[]},pt=B(oe,b(f.ResetState,()=>oe),b(f.LoadUsers,t=>U(I({},oe),{loading:!0})),b(f.LoadUsersSuccess,(t,{users:e})=>U(I({},t),{loading:!1,users:e})),b(f.LoadUsersFailure,(t,{error:e})=>U(I({},t),{loading:!1,error:e}))),ft=t=>t.loading,ut=t=>t.error,ht=t=>t.users;var ne="dexcom-center";function Ct(t,e){return ye({[ae]:pt,[ie]:ct})(t,e)}var vt=Ae(ne),k;(function(t){let e=g(vt,r=>r[ae]);t.selectLoading=g(e,ft),t.selectError=g(e,ut),t.selectUsers=g(e,ht)})(k||(k={}));var xt;(function(t){let e=g(vt,r=>r[ie]);t.selectLoading=g(e,mt),t.selectError=g(e,dt),t.selectUser=g(e,lt)})(xt||(xt={}));var Q=class se{constructor(e,r,i,u,l,a){this.store=e,this.route=r,this.actions$=i,this.dialog=u,this.dateTimeFormat=l,this._fuseConfirmationService=a,this.columnDefs=[{headerName:"ID",field:"id",width:150,filter:"agMultiColumnFilter"},{headerName:"Email",field:"email",width:280,filter:"agMultiColumnFilter"},{headerName:"Zip Codes",field:"zipcodes",width:280,filter:"agMultiColumnFilter"},{headerName:"Added By",field:"addedby",width:280,filter:"agMultiColumnFilter"},{headerName:"Added Date",field:"addeddate",width:280,filter:"agDateColumnFilter",valueFormatter:j=>this.dateTimeFormat.transform(j.data.addeddate)},{headerName:"Modified By",field:"modifiedby",width:280,filter:"agMultiColumnFilter"},{headerName:"Modified Date",field:"modifieddate",width:280,filter:"agDateColumnFilter",valueFormatter:j=>this.dateTimeFormat.transform(j.data.modifieddate)},{headerName:"Actions",width:100,field:"actions",cellRenderer:at,cellRendererParams:{menuItems:[{name:"Delete Permanently",action:this.deleteRow.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},filter:!1,sortIndex:10,hide:!1,sortable:!1}],this.paginatorOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.visibleColumns=["email","addedby","addeddate","modifiedby","modifieddate","actions"],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.loading$=this.store.select(k.selectLoading),this.data$=this.route.paramMap.pipe(D(j=>this.store.select(k.selectUsers))),this.rowData=[],this.refresh=new ce,this.refresh$=this.refresh.asObservable()}ngOnInit(){me([this.route.paramMap,this.refresh$.pipe(de(null))]).pipe(C(this)).subscribe(([e])=>{switch(e.get("filterSlug")){case"all":this.store.dispatch(f.LoadUsers({filter:"ALL"}));break;case"inactive":this.store.dispatch(f.LoadUsers({filter:"INACTIVE"}));break}}),this.data$.pipe(C(this)).subscribe(e=>{this.rowData=e}),this.actions$.pipe(v(f.Refresh),C(this)).subscribe(e=>this.refresh.next(e))}deleteRow(e){this.deleteContact(e.data)}openItem(e){let r={icon:"mat_outline:assignment",iconColor:"primary",title:"SAVE DEXCOM REP",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:P,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(Z,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:r}).afterClosed().pipe(C(this)).subscribe(i=>{e.api.clearFocusedCell()})}deleteContact(e){this._fuseConfirmationService.open({title:"Delete Dexcom Rep",message:"Are you sure you want to delete this dexcom rep? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(C(this)).subscribe(i=>{i==="confirmed"&&this.store.dispatch(o.DeleteUser({dto:e}))})}rowSelectionChange(e){e.column.colId!="actions"&&this.openItem(e)}static{this.\u0275fac=function(r){return new(r||se)(c(y),c(Se),c(R),c(W),c(X),c(We))}}static{this.\u0275cmp=_({type:se,selectors:[["ac-dexcom-center-table"]],features:[ge([X])],decls:4,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"cellClicked","gridOptions","columnDefs","visibleColumns","component","rowData","paginatorOption","loading","agGridHeight"]],template:function(r,i){r&1&&(h(0,"div",0)(1,"div",1)(2,"aux-ag-grid",2),be(3,"async"),N("cellClicked",function(l){return i.rowSelectionChange(l)}),p()()()),r&2&&(s(2),m("gridOptions",i.options)("columnDefs",i.columnDefs)("visibleColumns",i.visibleColumns)("component","dexcomcenter")("rowData",i.rowData)("paginatorOption",i.paginatorOptions)("loading",Ie(3,8,i.loading$))("agGridHeight","calc(100vh - 292px)"))},dependencies:[nt,Ue],encapsulation:2,changeDetection:0})}};Q=M([L()],Q);var gt=(()=>{class t{constructor(r,i,u){this.actions$=r,this.apiService=i,this.store=u,this.getAccess$=A(()=>this.actions$.pipe(v(o.LoadUser),D(l=>this.apiService.getDexcomUser(l.id).pipe(x(a=>o.LoadUserSuccess({user:a})),T(a=>F(o.LoadUserFailure({error:a.error}))))))),this.addAccess$=A(()=>this.actions$.pipe(v(o.AddUser),D(l=>this.apiService.addDexcomUser(l.user).pipe(x(a=>o.AddUserSuccess({user:a})),T(a=>F(o.AddUserFailure({error:a.error}))))))),this.updateAccess$=A(()=>this.actions$.pipe(v(o.UpdateUser),D(l=>this.apiService.updateDexcomUser(l.user).pipe(x(a=>o.UpdateUserSuccess({user:a})),T(a=>F(o.UpdateUserFailure({error:a.error})))))))}static{this.\u0275fac=function(i){return new(i||t)(S(R),S(H),S(y))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bt=(()=>{class t{constructor(r,i,u){this.actions$=r,this.store=i,this.apiService=u,this.loadUsers$=A(()=>this.actions$.pipe(v(f.LoadUsers),D(l=>this.apiService.getDexcomUsers(l.filter).pipe(x(a=>f.LoadUsersSuccess({users:a})),T(a=>F(f.LoadUsersFailure({error:a.error}))))))),this.deleteAccess$=A(()=>this.actions$.pipe(v(o.DeleteUser),D(l=>this.apiService.deleteDexcomUser(l.dto).pipe(x(a=>o.DeleteUserSuccess()),T(a=>F(o.DeleteUserFailure({error:a.error}))))))),this.refresh$=A(()=>this.actions$.pipe(v(o.AddUserSuccess,o.UpdateUserSuccess,o.DeleteUserSuccess),x(()=>f.Refresh())))}static{this.\u0275fac=function(i){return new(i||t)(S(R),S(y),S(H))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var It=[Fe(ne,Ct),Ze([bt,gt])];var yi=[{path:"",component:J,providers:It,children:[{path:"",redirectTo:"all",pathMatch:"full"},{path:":filterSlug",component:Q}]}];export{yi as default};
