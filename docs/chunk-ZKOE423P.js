import{a as At}from"./chunk-ZKZQT5NF.js";import{a as Lt}from"./chunk-2RC5KJLV.js";import{a as $t}from"./chunk-TJLYJQXY.js";import{a as Ot,b as Vt}from"./chunk-D7SFZ6EE.js";import{a as Ae}from"./chunk-GSIASDE6.js";import{a as Le}from"./chunk-BRERDI67.js";import{a as be}from"./chunk-DOHNGIRK.js";import{a as Tt}from"./chunk-CFVP3FCT.js";import{a as Et}from"./chunk-X74UJ3QR.js";import{a as Nt}from"./chunk-VGE2PNKJ.js";import{a as Ft,b as Mt}from"./chunk-7O4GN6JJ.js";import{a as _t}from"./chunk-RW26HZBH.js";import{a as ge}from"./chunk-Y5RI4PHI.js";import{a as he,b as ve,c as Ce}from"./chunk-BLZL7MQY.js";import{c as kt}from"./chunk-OJSM7WWP.js";import{a as _,b as h,c as jt,d as Pt,e as C,f as Wt}from"./chunk-KMJPCTB6.js";import{a as xt}from"./chunk-PRXHNPXO.js";import{a as Ct}from"./chunk-FJCYNQP7.js";import"./chunk-YCMFPTNH.js";import{b as St}from"./chunk-PAS4GHRS.js";import{a as wt,c as It}from"./chunk-VRDZKI6P.js";import{a as Te}from"./chunk-V2BYYYUY.js";import"./chunk-ODTVUJKH.js";import{a as yt}from"./chunk-Z76PEBTC.js";import{c as gt}from"./chunk-GLNCR2H3.js";import{b as Dt}from"./chunk-M7CNBRZG.js";import"./chunk-2LVKS4R7.js";import{a as ht}from"./chunk-BWPVOFCI.js";import"./chunk-T6JQBFCO.js";import{a as ce}from"./chunk-VK4TGBYQ.js";import{c as ut,e as pe}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as ot}from"./chunk-3IAIBVAD.js";import{a as at}from"./chunk-QZ2WTBPW.js";import"./chunk-KFQHPBEM.js";import{a as Ee}from"./chunk-7RWCIHFI.js";import{a as ue}from"./chunk-HIKYOSQ5.js";import"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import{e as oe}from"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{a as ke,b as k,c as L,e as vt}from"./chunk-W6W3L4PS.js";import{n as v,q as it}from"./chunk-7TJE7DO7.js";import{a as Rt}from"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import{a as Ht}from"./chunk-2SL7SW2K.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{a as ft,c as se}from"./chunk-6WEMRU4N.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import{a as ne,b as pt,c as le,d as dt,g as ct,h as me}from"./chunk-BV6IOHNV.js";import{A as mt,B as st,D as z,c as B,e as D,h as U,i as te,l as Me,m as nt,o as ie,q as lt,r as re,t as ae}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{o as de}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import{a as fe}from"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import{a as bt}from"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as I,b as d}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as E,p as rt}from"./chunk-HJKZPT2B.js";import{b as W,c as X,d as ee,e as tt}from"./chunk-W5GYUEPJ.js";import{$b as m,Ab as S,Bc as J,Cc as Ye,Gb as T,Ia as N,Ic as g,J as Fe,Ja as M,Jc as b,L as qe,Ob as a,Q as Ge,Sc as Je,Vb as Ze,Wb as _e,Xb as Z,Yb as K,Zb as o,_b as t,da as Qe,dc as V,f as $,fc as w,g as ze,ga as O,gc as Ke,ha as F,id as Xe,jd as et,md as P,p as Re,pb as i,qa as He,rc as A,sc as l,tb as s,tc as j,uc as Ne,v as R,vc as Y,w as Q,wa as H}from"./chunk-3Q5CJMKA.js";import{b as y}from"./chunk-WFMAM73Y.js";import{g as Qt}from"./chunk-2AVGQ2MQ.js";var zt=Qt(Ht());var Zt=(p,e)=>e.abbreviation;function Kt(p,e){if(p&1&&(o(0,"mat-option",29)(1,"span",55),l(2),t(),o(3,"span"),l(4),t()()),p&2){let r=e.$implicit;a("value",r.abbreviation),i(2),j(r.abbreviation),i(2),j(r.name)}}function Yt(p,e){if(p&1&&(o(0,"mat-option",29),l(1),t()),p&2){let r=e.$implicit;a("value",r.name),i(),j(r.name)}}function Jt(p,e){if(p&1&&(o(0,"mat-option",29),l(1),t()),p&2){let r=e.$implicit;a("value",r.id),i(),Y("",r.firstName," ",r.lastName,"")}}var xe=class $e{constructor(e,r,n,c,f){this.fb=e,this.store=r,this.route=n,this.actions$=c,this.auxUtilService=f,this.territory=new Me,this.state=new Me,this.categories=At,this.usstates=Tt,this.refresh=new $,this.data$=this.store.select(C.selectActive),this.referralCityState$=this.store.select(C.selectZipCode),this.referralData$=this.route.paramMap.pipe(F(u=>this.store.select(C.selectReferralById))),this.pecosOptions=[{option:"",value:""},{option:"Yes",value:"Y"},{option:"No",value:"N"}],this.toolbarData=[{title:"Save",type:"basic",icon:"mat_outline:save",function:()=>{this.save()}}]}ngOnInit(){this.referralForm=this.fb.group({id:[0],refercode:[""],firstname:["",[D.required]],lastname:["",[D.required]],salesid:["",[D.required]],company:[""],title:[""],address:[""],city:[""],state:[""],zip:[""],phone:["",[D.pattern(/^[0-9]{10}$/)]],fax:["",[D.pattern(/^[0-9]{10}$/)]],email:[""],notes:[""],territory:[""],status:[""],taxid:[""],npi:[""],provider:[""],taxonomy:[""],addUserid:[""],doesOptIn:[!0]}),this.filteredStates=this.referralForm.get("state").valueChanges.pipe(O(""),R(e=>e?this._filterStates(e):this.usstates.slice())),this.referralData$.pipe(d(this)).subscribe(e=>{e&&(this.referralDetails=e,this.referralForm.patchValue(e,{emitEvent:!1}),this.state.setValue(e.state))}),this.referralForm.get("zip").valueChanges.pipe(d(this),qe(500)).subscribe(e=>{e!==""&&this.store.dispatch(h.LoadCityAndStateDropDown({zipCode:e}))}),this.referralCityState$.pipe(d(this)).subscribe(e=>{e?(this.state.setValue(e.state),this.referralForm.get("state").setValue(e.state),this.referralForm.get("city").setValue(e.city)):(this.state.setValue(""),this.referralForm.get("state").setValue(""),this.referralForm.get("city").setValue(""))}),this.data$.pipe(d(this)).subscribe(e=>{this.salesRepList=e}),this.filteredOptions=this.referralForm.get("state").valueChanges.pipe(O(""),R(e=>this.stateFilter(e))),this.filteredCategories=this.referralForm.get("territory").valueChanges.pipe(O(""),R(e=>this.CategoryFilter(e))),this.referralForm.get("state").valueChanges.pipe(d(this)).subscribe(e=>{this.state.setValue(e,{emitEvent:!1})}),this.referralForm.patchValue(this.referralDetails)}CategoryFilter(e){return this.categories.filter(r=>r.name.toLowerCase().indexOf(e?.toLowerCase())===0)}stateFilter(e){return this.usstates.filter(r=>r.name.toLowerCase().indexOf(e?.toLowerCase())===0)}save(){if(this.referralForm.invalid){zt.default.fire({position:"top-end",icon:"error",title:"Oops...",text:"Required fields are missing...",showConfirmButton:!1,timer:3e3});return}let e=this.referralForm.value;e=this.auxUtilService.transFormValuesToUpperCase(e,["referCode","company","title","status","firstname","lastname","address","city","state","email","territory","notes"]),e=this.auxUtilService.transFormValues(e,xt),this.store.dispatch(_.UpdateReferral({referral:e}))}trackByFn(e){return e.abbreviation}categoryhandler(e){this.territory.setValue(e.option.value)}_filterStates(e){let r=e.toLowerCase().replace(/\s+/g," ");return this.usstates.filter(n=>n.name.toLowerCase().replace(/\s+/g," ").includes(r)||n.abbreviation.toLowerCase().includes(r))}makeCall(){let e=this.referralForm.get("phone")?.value;this.auxUtilService.makeCall(e)}static{this.\u0275fac=function(r){return new(r||$e)(s(mt),s(v),s(W),s(k),s(yt))}}static{this.\u0275cmp=S({type:$e,selectors:[["app-referral-demographics"]],features:[J([{provide:ct,useValue:{appearance:"outline"}}])],decls:113,vars:57,consts:[["auto","matAutocomplete"],["autoInput",""],["auto1","matAutocomplete"],[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"flex","w-full","bg-white","p-1","shadow","dark:bg-transparent"],[3,"navigation","name"],[1,"w-full","pb-2","pl-1","pr-1","pt-2","md:flex"],[1,"flex","w-full","flex-col","md:w-1/2"],[1,"flex","flex-col","bg-white","p-4","shadow","dark:bg-transparent"],[1,"text-secondary","my-2","flex","items-center","text-xl","font-semibold"],[1,"mr-2",3,"svgIcon"],[1,"mt-4","flex","flex-col"],[1,"flex","w-full"],[1,"w-full"],["matInput","","tabindex","1",1,"uppercase",3,"formControlName","placeholder"],[1,"w-2/12","pr-2"],["matInput","","tabindex","2",1,"uppercase",3,"formControlName","placeholder"],[1,"w-5/12","pr-2"],["matInput","","tabindex","3",1,"uppercase",3,"formControlName","placeholder"],[1,"w-5/12"],["matInput","","tabindex","4",1,"uppercase",3,"formControlName","placeholder"],["matInput","","tabindex","5",1,"uppercase",3,"formControlName"],[1,"w-1/2","pr-2"],["matInput","","type","text","tabindex","7",1,"uppercase",3,"formControlName"],["bindLabel","abbreviation",1,"state-select","w-1/4","pr-2",3,"appearance"],["matInput","","tabindex","8","aria-label","State",3,"matAutocomplete","formControlName"],["matSuffix","",1,"mr-2","flex-auto","text-3xl"],[3,"panelWidth"],[3,"value"],[1,"w-1/4"],["matInput","","tabindex","6",1,"uppercase",3,"formControlName"],[1,"mt-2"],["tabindex","9",1,"-ml-2",3,"color","formControlName"],[1,"flex","w-full","flex-col","pl-2","md:w-1/2"],[1,"mt-4","flex","w-full"],[1,"w-6/12","pr-2",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"click","svgIcon"],["matInput","","tabindex","10","mask","(000) 000-0000","numbers","",3,"formControlName","value","showMaskTyped","placeholder"],[1,"w-6/12",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","","tabindex","11","mask","(000) 000-0000","numbers","",3,"formControlName","value","showMaskTyped","placeholder"],["matInput","","tabindex","12",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[1,"w-3/12","pr-2"],["matInput","","type","text","tabindex","13",1,"uppercase",3,"formControlName","placeholder","matAutocomplete"],[3,"optionSelected"],["matInput","","tabindex","14",1,"uppercase",3,"formControlName","placeholder"],[1,"w-7/12"],["formControlName","salesid","tabindex","15"],[1,"w-6/12","pr-2"],["matInput","","tabindex","16",1,"uppercase",3,"formControlName","placeholder"],[1,"w-6/12"],["matInput","","tabindex","17",1,"uppercase",3,"formControlName","placeholder"],[1,"w-full","pr-2"],["matInput","","tabindex","18","cdkTextareaAutosize","",1,"uppercase",3,"formControlName","placeholder","rows","spellcheck"],[1,"mr-1","font-bold"]],template:function(r,n){if(r&1){let c=V();o(0,"div",3)(1,"form",4),w("ngSubmit",function(){return N(c),M(n.save())}),o(2,"div",5),m(3,"fuse-horizontal-navigation",6),t(),o(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10),m(8,"mat-icon",11),l(9," Referral Details "),t(),o(10,"div",12)(11,"div",13)(12,"mat-form-field",14)(13,"mat-label"),l(14,"Company"),t(),m(15,"input",15),t()(),o(16,"div",13)(17,"mat-form-field",16)(18,"mat-label"),l(19,"Title"),t(),m(20,"input",17),t(),o(21,"mat-form-field",18)(22,"mat-label"),l(23,"First Name"),t(),m(24,"input",19),t(),o(25,"mat-form-field",20)(26,"mat-label"),l(27,"Last Name"),t(),m(28,"input",21),t()(),o(29,"div",13)(30,"mat-form-field",14)(31,"mat-label"),l(32,"Address"),t(),m(33,"input",22),t()(),o(34,"div",13)(35,"mat-form-field",23)(36,"mat-label"),l(37,"City"),t(),m(38,"input",24),t(),o(39,"mat-form-field",25)(40,"mat-label"),l(41,"State"),t(),m(42,"input",26),o(43,"mat-icon",27),l(44,"arrow_drop_down"),t(),o(45,"mat-autocomplete",28,0),Z(47,Kt,5,3,"mat-option",29,Zt),g(49,"async"),t()(),o(50,"mat-form-field",30)(51,"mat-label"),l(52,"Zip"),t(),m(53,"input",31),t()(),o(54,"div",32)(55,"mat-checkbox",33)(56,"span"),l(57,"Opt In?"),t()()()()()(),o(58,"div",34)(59,"div",9)(60,"div",35)(61,"mat-form-field",36)(62,"mat-label"),l(63,"Phone"),t(),o(64,"mat-icon",37),w("click",function(){return N(c),M(n.makeCall())}),t(),m(65,"input",38),g(66,"phone"),t(),o(67,"mat-form-field",39)(68,"mat-label"),l(69,"Fax"),t(),m(70,"mat-icon",40)(71,"input",41),g(72,"phone"),t()(),o(73,"div",35)(74,"mat-form-field",14)(75,"mat-label"),l(76,"Email"),t(),m(77,"input",42),t()(),o(78,"div",13)(79,"mat-form-field",43)(80,"mat-label"),l(81,"Category"),t(),m(82,"input",44,1),o(84,"mat-autocomplete",45,2),w("optionSelected",function(u){return N(c),M(n.categoryhandler(u))}),Z(86,Yt,2,2,"mat-option",29,_e),g(88,"async"),t()(),o(89,"mat-form-field",16)(90,"mat-label"),l(91,"Status"),t(),m(92,"input",46),t(),o(93,"mat-form-field",47)(94,"mat-label"),l(95,"Sales Representative"),t(),o(96,"mat-select",48),Z(97,Jt,2,3,"mat-option",29,_e),t()()(),o(99,"div",13)(100,"mat-form-field",49)(101,"mat-label"),l(102,"NPI"),t(),m(103,"input",50),t(),o(104,"mat-form-field",51)(105,"mat-label"),l(106,"Link ID"),t(),m(107,"input",52),t()(),o(108,"div",13)(109,"mat-form-field",53)(110,"mat-label"),l(111,"Notes"),t(),m(112,"textarea",54),t()()()()()()()}if(r&2){let c=A(46),f=A(85);i(),a("formGroup",n.referralForm),i(2),a("navigation",n.toolbarData)("name","patient-toolbar"),i(5),a("svgIcon","person_outline"),i(7),a("formControlName","company")("placeholder","Company"),i(5),a("formControlName","title")("placeholder","Title"),i(4),a("formControlName","firstname")("placeholder","First Name"),i(4),a("formControlName","lastname")("placeholder","Last Name"),i(5),a("formControlName","address"),i(5),a("formControlName","city"),i(),a("appearance","outline"),i(3),a("matAutocomplete",c)("formControlName","state"),i(3),a("panelWidth",285),i(2),K(b(49,49,n.filteredStates)),i(6),a("formControlName","zip"),i(2),a("color","primary")("formControlName","doesOptIn"),i(6),a("subscriptSizing","dynamic"),i(3),a("svgIcon","heroicons_solid:phone"),i(),a("formControlName","phone")("value",b(66,51,(n.referralDetails==null?null:n.referralDetails.phone)||""))("showMaskTyped",!0)("placeholder","Phone"),i(2),a("subscriptSizing","dynamic"),i(3),a("svgIcon","heroicons_solid:printer"),i(),a("formControlName","fax")("value",b(72,53,(n.referralDetails==null?null:n.referralDetails.fax)||""))("showMaskTyped",!0)("placeholder","Fax"),i(6),a("formControlName","email")("placeholder","Email")("spellcheck",!1),i(5),a("formControlName","territory")("placeholder","Categories")("matAutocomplete",f),i(4),K(b(88,55,n.filteredCategories)),i(6),a("formControlName","status")("placeholder","Status"),i(5),K(n.salesRepList),i(6),a("formControlName","npi")("placeholder","NPI"),i(4),a("formControlName","taxid")("placeholder","Link ID"),i(5),a("formControlName","notes")("placeholder","Notes")("rows",3)("spellcheck",!1)}},dependencies:[z,ie,B,U,te,re,ae,Ct,E,me,ne,se,It,dt,wt,oe,Rt,le,St,ue,ft,P,Lt],encapsulation:2,data:{animation:fe}})}};xe=y([I()],xe);function Xt(p,e){p&1&&(o(0,"mat-error"),l(1," First Name is required "),t())}function ei(p,e){p&1&&(o(0,"mat-error"),l(1," Last Name is required "),t())}function ti(p,e){if(p&1&&(o(0,"mat-option",12),l(1),t()),p&2){let r=e.$implicit;a("value",r.id),i(),Y("",r.firstName," ",r.lastName,"")}}function ii(p,e){p&1&&(o(0,"mat-error"),l(1," Sales Representative is required "),t())}var ye=class Ve{constructor(e,r,n){this.dialogRef=e,this._formBuilder=r,this.store=n,this.data$=this.store.select(C.selectActive)}ngOnInit(){this.contactForm=this._formBuilder.group({id:[0],firstname:["",[D.required]],lastname:["",[D.required]],salesId:["",[D.required]]}),this.data$.pipe(d(this)).subscribe(e=>{this.salesRepList=e})}saveQuickReferral(){let e=this.contactForm.value;this.isInputValid(e)&&(e.firstname=e.firstname.toUpperCase(),e.lastname=e.lastname.toUpperCase(),this.store.dispatch(h.AddReferralQuickSave({referral:e})),this.dialogRef.close())}isInputValid(e){return e.firstname==""||e.lastname==""?!1:!(e.salesId==null||e.salesId==null||e.salesId==0)}static{this.\u0275fac=function(r){return new(r||Ve)(s(ut),s(st),s(v))}}static{this.\u0275cmp=S({type:Ve,selectors:[["app-referral-quick-save"]],decls:25,vars:18,consts:[[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","","tabindex","1",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[4,"ngIf"],["matInput","","tabindex","2",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[1,"mb-4","mt-4"],["tabindex","3",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,n){r&1&&(o(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),l(6,"First Name"),t(),m(7,"mat-icon",5)(8,"input",6),T(9,Xt,2,0,"mat-error",7),t()(),o(10,"div",3)(11,"mat-form-field",4)(12,"mat-label"),l(13,"Last Name"),t(),m(14,"mat-icon",5)(15,"input",8),T(16,ei,2,0,"mat-error",7),t()(),o(17,"div",9)(18,"mat-form-field",4)(19,"mat-label"),l(20,"Sales Representative"),t(),m(21,"mat-icon",5),o(22,"mat-select",10),T(23,ti,2,3,"mat-option",11),t(),T(24,ii,2,0,"mat-error",7),t()()()()()),r&2&&(i(2),a("formGroup",n.contactForm),i(2),a("subscriptSizing","dynamic"),i(3),a("svgIcon","heroicons_solid:user-circle"),i(),a("formControlName","firstname")("placeholder","First Name")("spellcheck",!1),i(),a("ngIf",n.contactForm.get("firstname").hasError("required")),i(2),a("subscriptSizing","dynamic"),i(3),a("svgIcon","heroicons_solid:user-circle"),i(),a("formControlName","lastname")("placeholder","Last Name")("spellcheck",!1),i(),a("ngIf",n.contactForm.get("lastname").hasError("required")),i(2),a("subscriptSizing","dynamic"),i(3),a("svgIcon","heroicons_solid:user-circle"),i(),a("formControlName","salesId"),i(),a("ngForOf",n.salesRepList),i(),a("ngIf",n.contactForm.get("salesId").hasError("required")))},dependencies:[z,ie,B,U,te,re,ae,me,ne,E,le,se,et,pt,ue,Xe,oe],encapsulation:2,data:{animation:fe}})}};ye=y([I()],ye);var Se=class je{constructor(e,r,n,c,f){this._fuseMediaWatcherService=e,this.searchService=r,this.breakpointObserver=n,this.dialog=c,this.store=f,this.toggleMenu=!1,this.drawerMode="side",this.drawerOpened=!0,this.menuData=[{title:"Actions",subtitle:"Add new referral source",type:"group",children:[{title:"Add Referral Source",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}},{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()}}]},{title:"Filters",type:"group",children:[{title:"ALL",type:"basic",icon:"mat_outline:all_inclusive",link:"./all"}]}],this.searchCtrl=new nt,this.isHandset$=this.breakpointObserver.observe([Ee.Tablet,Ee.Handset]).pipe(R(u=>u.matches),Qe())}ngOnInit(){this.searchCtrl.valueChanges.pipe(d(this)).subscribe(e=>this.searchService.search.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(d(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}openCreate(){this.store.dispatch(h.LoadSalesRepDropDown());let e={icon:"mat_outline:edit_note",title:"ADD REFERRAL SOURCE",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:ye,dynamicComponentData:null,submitFunction:"saveQuickReferral",enterKeyEnabled:!0};this.dialog.open(Dt,{width:"700px",height:"auto",data:e}).afterClosed().pipe(d(this)).subscribe(r=>{})}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(r){return new(r||je)(s(ce),s(ot),s(rt),s(pe),s(v))}}static{this.\u0275cmp=S({type:je,selectors:[["ac-referral-center"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(r,n){if(r&1){let c=V();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),l(5," ReferralCenter "),t()()(),o(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),m(10,"mat-icon",9)(11,"input",10),t()()()(),o(12,"div",11)(13,"button",12),w("click",function(){N(c);let u=A(17);return M(u.toggle())}),m(14,"mat-icon",13),t()()(),o(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),m(18,"aux-sidebar",16),t(),o(19,"mat-drawer-content",17)(20,"div",18),m(21,"router-outlet"),t()()()()}r&2&&(i(10),a("svgIcon","mat_outline:search"),i(),a("formControl",n.searchCtrl),i(3),a("svgIcon","heroicons_outline:menu"),i(2),a("autoFocus",!1)("mode",n.drawerMode)("opened",n.drawerOpened),i(2),a("menuData",n.menuData)("showTitle",!1)("title","Referral Actions"))},dependencies:[E,z,B,U,lt,de,Ce,ve,Et,he,X],styles:[".max-w-sx[_ngcontent-%COMP%]{max-width:16rem!important}"],data:{animation:[_t,Mt,Ft,Nt]}})}};Se=y([I()],Se);var ai=()=>["/centers/referral-center/"];function oi(p,e){if(p&1&&(o(0,"div",23),m(1,"ngx-avatars",26),o(2,"div",27)(3,"div",28)(4,"h2",29),l(5),t()(),o(6,"div",30)(7,"div",31),l(8),t()()()()),p&2){let r=Ke();i(),a("name",(r.referralDetails==null?null:r.referralDetails.firstname)+" "+(r.referralDetails==null?null:r.referralDetails.lastname)),i(4),Ne(" ",(r.referralDetails==null?null:r.referralDetails.firstname)+" "+(r.referralDetails==null?null:r.referralDetails.lastname)," "),i(3),Ne(" ",r.referralId," ")}}var we=class Pe{constructor(e,r,n,c,f,u,De){this._fuseMediaWatcherService=e,this.store=r,this.route=n,this.cdr=c,this.router=f,this.actions$=u,this.titleService=De,this.drawerMode="side",this.drawerOpened=!0,this.loading$=this.store.select(C.selectLoading).pipe(Ge(500)),this.data$=this.route.paramMap.pipe(F(Ue=>this.store.select(C.selectReferralById))),this.refresh=new $,this.refresh$=this.refresh.asObservable(),this.menuData=[{title:"Servicing Actions",type:"group",children:[{title:"Demographics",type:"basic",icon:"heroicons_outline:location-marker",link:"./demographics",classes:{wrapper:"padding-style"}}]}],this.store.dispatch(h.LoadSalesRepDropDown())}ngOnInit(){this.title=this.router.url.split("/")[4],this.titleService.setValue(this.title),this.titleService.value$.pipe(d(this)).subscribe(e=>{setTimeout(()=>{this.title=e})}),Q([this.route.paramMap]).pipe(d(this)).subscribe(()=>{this.referralId=Number(this.route.snapshot.paramMap.get("id")),this.store.dispatch(h.LoadReferralById({id:this.referralId.toString()}))}),this.data$.pipe(d(this)).subscribe(e=>{e&&(this.referralDetails=e)}),this.actions$.pipe(L(h.Refresh),d(this)).subscribe(e=>this.refresh.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(d(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){}static{this.\u0275fac=function(r){return new(r||Pe)(s(ce),s(v),s(W),s(Je),s(ee),s(k),s($t))}}static{this.\u0275cmp=S({type:Pe,selectors:[["app-referral-center-details"]],decls:43,vars:25,consts:[["matDrawer",""],[1,"flex","min-w-0","flex-auto","flex-col"],[1,"flex-auto"],[3,"show"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[1,"mx-6","mt-6","text-2xl","font-bold"],[3,"appearance","navigation","inner","mode","name","opened"],[1,"flex","flex-col"],[1,"bg-card","flex","flex-0","flex-col","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:pb-0","sm:pt-2"],[1,"min-w-0","flex-1"],[1,"hidden","w-full","flex-wrap","items-center","font-medium","sm:flex"],[1,"whitespace-nowrap","text-sm","font-bold","uppercase","tracking-wider","text-primary-500"],[1,"ml-1","flex","items-center","whitespace-nowrap"],[1,"text-secondary","icon-size-5",3,"svgIcon"],[1,"ml-1","whitespace-nowrap","text-sm","font-bold","uppercase","tracking-wider","text-primary-500",3,"routerLink"],[1,"text-secondary","ml-1","whitespace-nowrap","text-sm","font-bold","uppercase","tracking-wider"],[1,"flex","pl-4","pt-4","sm:hidden"],[1,"text-secondary","-ml-1.5","inline-flex","items-center","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-6","flex","shrink-0","items-center","sm:mt-0"],["mat-icon-button",""],[3,"svgIcon"],[1,"bg-card","flex","flex-0","flex-col","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:pb-4","sm:pt-0"],[1,"flex"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],["size","75",1,"mr-4","mt-1",3,"name"],[1,"items-left","my-auto"],[1,"grid"],[1,"my-auto","truncate","text-2xl","font-extrabold","leading-7","sm:leading-10","md:text-3xl"],[1,"flex","items-center"],[1,"mr-2","flex","flex-none","items-center","rounded","bg-yellow-300","px-2","text-xs","font-medium","text-black"]],template:function(r,n){if(r&1){let c=V();o(0,"div",1)(1,"mat-drawer-container",2),m(2,"ac-loading-overlay",3),g(3,"async"),o(4,"mat-drawer",4,0)(6,"div",5),l(7,"Referral Details"),t(),m(8,"fuse-vertical-navigation",6),t(),o(9,"mat-drawer-content",7)(10,"div",8)(11,"div",9)(12,"div")(13,"div",10)(14,"div")(15,"a",11),l(16,"Home"),t()(),o(17,"div",12),m(18,"mat-icon",13),o(19,"a",14),l(20,"Referral Center"),t()(),o(21,"div",12),m(22,"mat-icon",13),o(23,"span",15),l(24),t()()(),o(25,"div",16)(26,"a",17),m(27,"mat-icon",13),o(28,"span",18),l(29,"Back"),t()()()()(),o(30,"div",19)(31,"button",20),m(32,"mat-icon",21),t()()(),o(33,"div",22)(34,"div",9),T(35,oi,9,3,"div",23),t(),o(36,"div",24)(37,"button",25),w("click",function(){N(c);let u=A(5);return M(u.toggle())}),m(38,"mat-icon",21),t()()(),o(39,"div",2),m(40,"ac-loading-overlay",3),g(41,"async"),m(42,"router-outlet"),t()()()()}r&2&&(i(2),a("show",b(3,20,n.loading$)),i(2),a("autoFocus",!1)("mode",n.drawerMode)("opened",n.drawerOpened),i(4),a("appearance","default")("navigation",n.menuData)("inner",!0)("mode","side")("name","patient-details-navigation")("opened",!0),i(10),a("svgIcon","heroicons_solid:chevron-right"),i(),a("routerLink",Ye(24,ai)),i(3),a("svgIcon","heroicons_solid:chevron-right"),i(2),j(n.title),i(2),a("routerLink","./.."),i(),a("svgIcon","heroicons_solid:chevron-left"),i(5),a("svgIcon","mat_outline:star_outline"),i(3),Ze(n.referralDetails?35:-1),i(3),a("svgIcon","heroicons_outline:menu"),i(2),a("show",b(41,22,n.loading$)))},dependencies:[Ce,at,ve,gt,he,E,tt,de,Vt,Ot,X,P],encapsulation:2,changeDetection:0})}};we=y([I()],we);var Ie=class We{constructor(e,r,n,c,f,u,De,Ue){this.store=e,this.route=r,this.router=n,this.phoneNumber=c,this.dateTimeFormate=f,this.actions$=u,this.dialog=De,this._fuseConfirmationService=Ue,this.columnDefs=[{headerName:"ID",field:"id",minWidth:65,filter:"agMultiColumnFilter",hide:!1},{headerName:"Company",minWidth:250,field:"company",filter:"agMultiColumnFilter",hide:!1},{headerName:"Last Name",minWidth:101,field:"lastName",filter:"agMultiColumnFilter",hide:!1},{headerName:"First Name",minWidth:101,field:"firstName",filter:"agMultiColumnFilter",hide:!1},{headerName:"Address",minWidth:101,field:"address",filter:"agMultiColumnFilter",hide:!1},{headerName:"Address 2",minWidth:101,field:"address2",filter:"agMultiColumnFilter",hide:!1},{headerName:"City",minWidth:101,field:"city",filter:"agMultiColumnFilter",hide:!1},{headerName:"State",minWidth:70,field:"state",filter:"agMultiColumnFilter",hide:!1},{headerName:"Zip",minWidth:70,field:"zip",filter:"agMultiColumnFilter",hide:!1},{headerName:"Phone",minWidth:150,field:"phone",cellRenderer:Le,cellRendererParams:{field:"phone"},filter:"agMultiColumnFilter",hide:!1,valueFormatter:x=>this.phoneNumber.transform(x.data.phone)},{headerName:"Fax",minWidth:150,field:"fax",filter:"agMultiColumnFilter",hide:!1,valueFormatter:x=>this.phoneNumber.transform(x.data.fax)},{headerName:"Cell",minWidth:110,field:"cell",cellRenderer:Le,cellRendererParams:{field:"cell"},filter:"agMultiColumnFilter",hide:!1,valueFormatter:x=>this.phoneNumber.transform(x.data.cell)},{headerName:"Email",minWidth:150,field:"email",filter:"agMultiColumnFilter",hide:!1},{headerName:"SalesID",minWidth:80,field:"salesId",filter:"agMultiColumnFilter",hide:!1},{headerName:"Rep First Name",minWidth:101,field:"salesRepFirstName",filter:"agMultiColumnFilter",hide:!1},{headerName:"Rep Last Name",minWidth:125,field:"salesRepLastName",filter:"agMultiColumnFilter",hide:!1},{headerName:"Status",minWidth:75,field:"status",filter:"agMultiColumnFilter",hide:!1},{headerName:"Category",minWidth:120,field:"territory",cellRenderer:Ae,cellRendererParams:x=>({category:x.data.territory}),sortIndex:14,filter:"agMultiColumnFilter",filterParams:{filters:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter",filterParams:{cellRenderer:Ae}}]},hide:!1},{headerName:"NPI",minWidth:101,field:"npi",filter:"agMultiColumnFilter",hide:!1},{headerName:"Link ID",minWidth:101,field:"taxId",filter:"agMultiColumnFilter",hide:!1},{headerName:"Added Date",minWidth:101,field:"addDate",filter:"agDateColumnFilter",hide:!1,valueFormatter:x=>this.dateTimeFormate.transform(x.data.addDate)}],this.rowData$=new ze([]),this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.visibleColumns=["id","company","lastName","firstName","state","zip","salesId","salesRepLastName","territory","status","phone","npi"],this.loading$=this.store.select(C.selectLoading),this.data$=this.route.paramMap.pipe(F(x=>this.store.select(C.selectAll))),this.refresh=new $,this.refresh$=this.refresh.asObservable()}ngOnInit(){Q([this.route.paramMap,this.refresh$.pipe(O(null))]).pipe(d(this)).subscribe(([e])=>{switch(e.get("filterSlug")){case"all":this.store.dispatch(h.LoadReferrals({filter:"ALL"}));break}}),this.data$.pipe(d(this)).subscribe(e=>{this.rowData$.next(e)}),this.actions$.pipe(L(h.Refresh),d(this)).subscribe(e=>this.refresh.next(e))}deleteRow(e){this.deleteContact(e.data)}ngOnDestroy(){this.store.dispatch(h.ResetState())}openItem(e){this.router.navigateByUrl(`/centers/referral-center/${e.api.getSelectedRows()[0].id}/demographics`)}deleteContact(e){this._fuseConfirmationService.open({title:"Delete Referral",message:"Are you sure you want to delete this referral? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(d(this)).subscribe(n=>{n==="confirmed"&&this.store.dispatch(h.DeleteReferral({dto:e}))})}selectionChange(e){["actions","phone"].includes(e.column.colId)||this.openItem(e)}static{this.\u0275fac=function(r){return new(r||We)(s(v),s(W),s(ee),s(be),s(ge),s(k),s(pe),s(ht))}}static{this.\u0275cmp=S({type:We,selectors:[["ac-referral-center-table"]],features:[J([be,ge])],decls:5,vars:11,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"cellClicked","gridOptions","component","columnDefs","rowData","visibleColumns","agGridHeight","loading"]],template:function(r,n){r&1&&(o(0,"div",0)(1,"div",1)(2,"aux-ag-grid",2),g(3,"async"),g(4,"async"),w("cellClicked",function(f){return n.selectionChange(f)}),t()()()),r&2&&(i(2),a("gridOptions",n.options)("component","referralcenter")("columnDefs",n.columnDefs)("rowData",b(3,7,n.rowData$))("visibleColumns",n.visibleColumns)("agGridHeight","calc(100vh - 292px)")("loading",b(4,9,n.loading$)))},dependencies:[kt,P],encapsulation:2,changeDetection:0})}};Ie=y([I()],Ie);var Gt=(()=>{class p{constructor(r,n,c){this.actions$=r,this.apiService=n,this.store=c,this.addReferral$=ke(()=>this.actions$.pipe(L(_.AddReferral),F(f=>this.apiService.saveReferral(f.referral).pipe(R(u=>_.AddReferralSuccess({referral:u})),Fe(u=>Re(_.AddReferralFailure({error:u.error}))))))),this.updateReferral$=ke(()=>this.actions$.pipe(L(_.UpdateReferral),F(f=>this.apiService.saveReferral(f.referral).pipe(R(u=>(Te.EDIT_SUCCESS(),_.UpdateReferralSuccess({referral:u}))),Fe(u=>(Te.EDIT_FAILURE(),Re(_.UpdateReferralFailure({error:u.error}))))))))}static{this.\u0275fac=function(n){return new(n||p)(H(k),H(bt),H(v))}}static{this.\u0275prov=He({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Be=[it(jt,Pt),vt([Wt,Gt])];var na=[{path:"",component:Se,providers:Be,children:[{path:"",redirectTo:"all",pathMatch:"full"},{path:":filterSlug",component:Ie}]},{path:":id",component:we,providers:Be,children:[{path:"",redirectTo:"demographics",pathMatch:"full"},{path:"demographics",component:xe}]}];export{na as default};
