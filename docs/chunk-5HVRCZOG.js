import{a as mt}from"./chunk-EPDAUZIC.js";import{a as dt}from"./chunk-X74UJ3QR.js";import{a as ot}from"./chunk-VGE2PNKJ.js";import{a as it,b as at}from"./chunk-7O4GN6JJ.js";import{a as rt}from"./chunk-RW26HZBH.js";import{a as Q}from"./chunk-Y5RI4PHI.js";import{a as nt,b as st,c as lt,d as ct}from"./chunk-BLZL7MQY.js";import{c as pt}from"./chunk-OJSM7WWP.js";import{a as tt}from"./chunk-Z76PEBTC.js";import"./chunk-GLNCR2H3.js";import{b as J}from"./chunk-M7CNBRZG.js";import"./chunk-2LVKS4R7.js";import{a as Qe}from"./chunk-BWPVOFCI.js";import"./chunk-T6JQBFCO.js";import{a as Xe}from"./chunk-VK4TGBYQ.js";import{c as qe,d as Je,e as H,j as Z}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as Re}from"./chunk-3IAIBVAD.js";import"./chunk-QZ2WTBPW.js";import"./chunk-KFQHPBEM.js";import{a as ie}from"./chunk-7RWCIHFI.js";import"./chunk-HIKYOSQ5.js";import"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{a as D,b as P,c as v,e as Ye}from"./chunk-W6W3L4PS.js";import{a as n,b as m,h as Me,n as w,o as g,p as Te,q as _e,v as I,w as z}from"./chunk-7TJE7DO7.js";import"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{a as We,c as He,d as Ze}from"./chunk-6WEMRU4N.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import{a as ze,c as Ve,h as Ke,i as Ge}from"./chunk-BV6IOHNV.js";import{B as Ne,D as W,c as K,e as te,h as G,i as Pe,m as ke,o as Oe,q as je,r as $e,t as Be}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import{a as et}from"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import{a as q}from"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as R,b as C}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as V,K as Le,p as Ee}from"./chunk-HJKZPT2B.js";import{b as De,c as Fe}from"./chunk-W5GYUEPJ.js";import{$b as y,Ab as _,Bc as Se,Gb as Ce,Ia as be,Ic as xe,J as M,Ja as he,Jc as ye,Ob as d,Ta as B,Vb as ve,Zb as b,_b as p,da as fe,dc as Ae,f as me,fc as N,ga as ue,gc as ge,ha as A,md as we,p as F,pb as s,qa as $,rc as Ie,sc as E,tb as l,td as L,uc as Ue,v as h,w as pe,wa as x}from"./chunk-3Q5CJMKA.js";import{b as T}from"./chunk-WFMAM73Y.js";import{a as U,b as S}from"./chunk-2AVGQ2MQ.js";var Mt=n("[AbbottCenter Table/API] Load User",m()),Tt=n("[AbbottCenter Table/API] Load User Success",m()),_t=n("[AbbottCenter Table/API] Load User Failure",m()),Et=n("[AbbottCenter Create/API] Add User",m()),Lt=n("[AbbottCenter Create/API] Add User Success",m()),Rt=n("[AbbottCenter Create/API] Add User Failure",m()),Pt=n("[AbbottCenter Update/API] Update User",m()),kt=n("[AbbottCenter Update/API] Update User Success",m()),Ot=n("[AbbottCenter Update/API] Update User Failure",m()),jt=n("[AbbottCenter Delete/API] Delete User",m()),$t=n("[AbbottCenter Delete/API] Delete User Success"),Bt=n("[AbbottCenter Delete/API] Delete User Failure",m()),o={LoadUser:Mt,LoadUserFailure:_t,LoadUserSuccess:Tt,AddUser:Et,AddUserSuccess:Lt,AddUserFailure:Rt,UpdateUser:Pt,UpdateUserSuccess:kt,UpdateUserFailure:Ot,DeleteUser:jt,DeleteUserSuccess:$t,DeleteUserFailure:Bt};var ut=(()=>{class t{constructor(i,r,u){this.actions$=i,this.apiService=r,this.store=u,this.getAccess$=D(()=>this.actions$.pipe(v(o.LoadUser),A(c=>this.apiService.getAbbottUser(c.id).pipe(h(a=>o.LoadUserSuccess({user:a})),M(a=>F(o.LoadUserFailure({error:a.error}))))))),this.addAccess$=D(()=>this.actions$.pipe(v(o.AddUser),A(c=>this.apiService.addAbbottUser(c.user).pipe(h(a=>o.AddUserSuccess({user:a})),M(a=>F(o.AddUserFailure({error:a.error}))))))),this.updateAccess$=D(()=>this.actions$.pipe(v(o.UpdateUser),A(c=>this.apiService.updateAbbottUser(c.user).pipe(h(a=>o.UpdateUserSuccess({user:a})),M(a=>F(o.UpdateUserFailure({error:a.error})))))))}static{this.\u0275fac=function(r){return new(r||t)(x(P),x(q),x(w))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var zt=n("[AbbottCenter Table/API] Reset Users State"),Vt=n("[AbbottCenter Table/API] Load Users",m()),Kt=n("[AbbottCenter Table/API] Load Users Success",m()),Gt=n("[AbbottCenter Table/API] Load Users Failure",m()),Wt=n("[AbbottCenter Table/API] Refresh"),Ht=n("[AbbottCenter Table/API] Reset AbbottCenter"),f={LoadUsers:Vt,LoadUsersSuccess:Kt,LoadUsersFailure:Gt,Refresh:Wt,ResetState:zt,resetState:Ht};var bt=(()=>{class t{constructor(i,r,u){this.actions$=i,this.store=r,this.apiService=u,this.loadUsers$=D(()=>this.actions$.pipe(v(f.LoadUsers),A(c=>this.apiService.getAbbottUsers().pipe(h(a=>f.LoadUsersSuccess({users:a})),M(a=>F(f.LoadUsersFailure({error:a.error}))))))),this.deleteAccess$=D(()=>this.actions$.pipe(v(o.DeleteUser),A(c=>this.apiService.deleteAbbottUser(c.dto).pipe(h(a=>o.DeleteUserSuccess()),M(a=>F(o.DeleteUserFailure({error:a.error}))))))),this.refresh$=D(()=>this.actions$.pipe(v(o.AddUserSuccess,o.UpdateUserSuccess,o.DeleteUserSuccess),h(()=>f.Refresh())))}static{this.\u0275fac=function(r){return new(r||t)(x(P),x(w),x(q))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var oe="abbott-center-individual",Zt={loading:!1,error:null,user:null,users:[]},ht=z(Zt,I(o.LoadUser,t=>S(U({},t),{loading:!0})),I(o.LoadUserSuccess,(t,{user:e})=>S(U({},t),{loading:!1,user:e})),I(o.LoadUserFailure,(t,{error:e})=>S(U({},t),{loading:!1,error:e}))),Ct=t=>t.loading,vt=t=>t.user,At=t=>t.error;var ne="abbott-center-table",ae={loading:!1,error:null,users:[]},gt=z(ae,I(f.ResetState,()=>ae),I(f.LoadUsers,t=>S(U({},ae),{loading:!0})),I(f.LoadUsersSuccess,(t,{users:e})=>S(U({},t),{loading:!1,users:e})),I(f.LoadUsersFailure,(t,{error:e})=>S(U({},t),{loading:!1,error:e}))),It=t=>t.loading,Ut=t=>t.error,St=t=>t.users;var se="abbott-center";function yt(t,e){return Me({[ne]:gt,[oe]:ht})(t,e)}var wt=Te(se),O;(function(t){let e=g(wt,i=>i[ne]);t.selectLoading=g(e,It),t.selectError=g(e,Ut),t.selectUsers=g(e,St)})(O||(O={}));var xt;(function(t){let e=g(wt,i=>i[oe]);t.selectLoading=g(e,Ct),t.selectError=g(e,At),t.selectUser=g(e,vt)})(xt||(xt={}));var Dt=[_e(se,yt),Ye(bt,ut)];function Yt(t,e){if(t&1&&(b(0,"fuse-alert",9),E(1),p()),t&2){let i=ge();d("appearance","outline")("type",i.alert.type)("showIcon",!1)("@shake",!0),s(),Ue(" ",i.alert.message," ")}}var k=class le{constructor(e,i,r,u,c){this.data=e,this._formBuilder=i,this.store=r,this.auxUtilService=u,this.dialogRef=c,this.showDeleteButton=!1,this.cancel=new B,this.save=new B,this.delete=new B,this.editMode=!1,this.showAlert=!1,this.user=e.dynamicComponentData}ngOnInit(){this.abbottUserForm=this._formBuilder.group({id:[0],email:["",[te.required]],zipcodes:["",[te.required]],addedby:[""],addeddate:[""],modifiedby:[""],modifieddate:[""]}),this.abbottUserForm.patchValue(this.user)}ngAfterViewInit(){}ngOnDestroy(){}toggleEditMode(e=null){this.cancel.emit(e),this.dialogRef.close()}saveContact(){if(this.abbottUserForm.invalid)return;let e=this.abbottUserForm.value;if(e.id==0){e.addeddate=new Date().toISOString();let i=new Date(e.addeddate);e.addeddate=i.toISOString(),e.modifieddate=i.toISOString()}e.email=e.email?e.email.toUpperCase():"",this.store.dispatch(o.AddUser({user:e})),this.save.emit(),this.dialogRef.close()}isInputValid(e){return e.email==""||e.email==null?(this.alert={type:"error",message:"Email cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):e.zipcodes==""||e.zipcodes==null?(this.alert={type:"error",message:"Zip cannot be blank."},setTimeout(()=>{this.alert=null},6e3),!1):!0}static{this.\u0275fac=function(i){return new(i||le)(l(Je,8),l(Ne),l(w),l(tt),l(qe))}}static{this.\u0275cmp=_({type:le,selectors:[["app-abbott-center-individual-form"]],inputs:{user:"user",showDeleteButton:"showDeleteButton"},outputs:{cancel:"cancel",save:"save",delete:"delete"},decls:16,vars:13,consts:[[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","icon-size-5","sm:flex",3,"svgIcon"],["matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[1,"mt-8"],["matInput","","cdkTextareaAutosize","",3,"formControlName","placeholder","rows","spellcheck"],[1,"mt-4",3,"appearance","type","showIcon"]],template:function(i,r){i&1&&(b(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),E(6,"Email"),p(),y(7,"mat-icon",5)(8,"input",6),p()(),b(9,"div",7)(10,"mat-form-field",4)(11,"mat-label"),E(12,"Zip Codes"),p(),y(13,"mat-icon",5)(14,"textarea",8),p()(),Ce(15,Yt,2,5,"fuse-alert",9),p()()()),i&2&&(s(2),d("formGroup",r.abbottUserForm),s(2),d("subscriptSizing","dynamic"),s(3),d("svgIcon","heroicons_solid:mail"),s(),d("formControlName","email")("placeholder","Email")("spellcheck",!1),s(2),d("subscriptSizing","dynamic"),s(3),d("svgIcon","heroicons_solid:location-marker"),s(),d("formControlName","zipcodes")("placeholder","Zip Codes")("rows",5)("spellcheck",!1),s(),ve(r.alert?15:-1))},dependencies:[L,W,Oe,K,G,Pe,$e,Be,Ge,Ke,ze,Ve,Ze,He,We,Le,V],encapsulation:2,data:{animation:et}})}};k=T([R()],k);var Y=class ce{constructor(e,i,r,u,c,a){this.store=e,this.route=i,this.actions$=r,this.dialog=u,this.dateTimeFormat=c,this._fuseConfirmationService=a,this.columnDefs=[{headerName:"ID",field:"id",width:150,filter:"agMultiColumnFilter"},{headerName:"Email",field:"email",width:280,filter:"agMultiColumnFilter"},{headerName:"Zip Codes",field:"zipcodes",width:280,filter:"agMultiColumnFilter"},{headerName:"Added By",field:"addedby",width:280,filter:"agMultiColumnFilter"},{headerName:"Added Date",field:"addeddate",width:280,filter:"agDateColumnFilter",valueFormatter:j=>this.dateTimeFormat.transform(j.data.addeddate)},{headerName:"Modified By",field:"modifiedby",width:280,filter:"agMultiColumnFilter"},{headerName:"Modified Date",field:"modifieddate",width:280,filter:"agDateColumnFilter",valueFormatter:j=>this.dateTimeFormat.transform(j.data.modifieddate)},{headerName:"Actions",width:100,field:"actions",cellRenderer:mt,cellRendererParams:{menuItems:[{name:"Delete Permanently",action:this.deleteRow.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},filter:!1,sortIndex:10,hide:!1,sortable:!1}],this.paginatorOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.visibleColumns=["email","addedby","addeddate","modifiedby","modifieddate","actions"],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.loading$=this.store.select(O.selectLoading),this.data$=this.route.paramMap.pipe(A(j=>this.store.select(O.selectUsers))),this.rowData=[],this.refresh=new me,this.refresh$=this.refresh.asObservable()}ngOnInit(){pe([this.route.paramMap,this.refresh$.pipe(ue(null))]).pipe(C(this)).subscribe(([e])=>{switch(e.get("filterSlug")){case"all":this.store.dispatch(f.LoadUsers({filter:"ALL"}));break;case"inactive":this.store.dispatch(f.LoadUsers({filter:"INACTIVE"}));break}}),this.data$.pipe(C(this)).subscribe(e=>{this.rowData=e}),this.actions$.pipe(v(f.Refresh),C(this)).subscribe(e=>this.refresh.next(e))}deleteRow(e){this.deleteContact(e.data)}openItem(e){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"SAVE ABBOTT REP",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:k,dynamicComponentData:e.api.getSelectedRows()[0]||null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(J,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(C(this)).subscribe(r=>{e.api.clearFocusedCell()})}deleteContact(e){this._fuseConfirmationService.open({title:"Delete Abbott Rep",message:"Are you sure you want to delete this abbott rep? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(C(this)).subscribe(r=>{r==="confirmed"&&this.store.dispatch(o.DeleteUser({dto:e}))})}rowSelectionChange(e){e.column.colId!="actions"&&this.openItem(e)}static{this.\u0275fac=function(i){return new(i||ce)(l(w),l(De),l(P),l(H),l(Q),l(Qe))}}static{this.\u0275cmp=_({type:ce,selectors:[["app-abbott-center-table"]],features:[Se([Q])],decls:4,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"cellClicked","gridOptions","columnDefs","visibleColumns","component","rowData","paginatorOption","loading","agGridHeight"]],template:function(i,r){i&1&&(b(0,"div",0)(1,"div",1)(2,"aux-ag-grid",2),xe(3,"async"),N("cellClicked",function(c){return r.rowSelectionChange(c)}),p()()()),i&2&&(s(2),d("gridOptions",r.options)("columnDefs",r.columnDefs)("visibleColumns",r.visibleColumns)("component","abbottcenter")("rowData",r.rowData)("paginatorOption",r.paginatorOptions)("loading",ye(3,8,r.loading$))("agGridHeight","calc(100vh - 292px)"))},dependencies:[L,we,Z,pt],encapsulation:2,changeDetection:0})}};Y=T([R()],Y);var ee=class de{constructor(e,i,r,u){this._fuseMediaWatcherService=e,this.searchService=i,this.breakpointObserver=r,this.dialog=u,this.toggleMenu=!1,this.drawerMode="side",this.drawerOpened=!0,this.menuData=[{title:"Actions",subtitle:"Add new team member",type:"group",children:[{title:"Add Abbott Rep",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}},{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()}}]}],this.searchCtrl=new ke,this.isHandset$=this.breakpointObserver.observe([ie.Tablet,ie.Handset]).pipe(h(c=>c.matches),fe())}ngOnInit(){this.searchCtrl.valueChanges.pipe(C(this)).subscribe(e=>this.searchService.search.next(e)),this._fuseMediaWatcherService.onMediaChange$.pipe(C(this)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}openCreate(){let e={icon:"mat_outline:assignment",iconColor:"primary",title:"ADD ABBOTT REP",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:k,dynamicComponentData:null,submitFunction:"saveContact",enterKeyEnabled:!0};this.dialog.open(J,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:e}).afterClosed().pipe(C(this)).subscribe(i=>{})}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(i){return new(i||de)(l(Xe),l(Re),l(Ee),l(H))}}static{this.\u0275cmp=_({type:de,selectors:[["app-abbott-center"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(i,r){if(i&1){let u=Ae();b(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),E(5," AbbottCenter "),p()()(),b(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),y(10,"mat-icon",9)(11,"input",10),p()()()(),b(12,"div",11)(13,"button",12),N("click",function(){be(u);let a=Ie(17);return he(a.toggle())}),y(14,"mat-icon",13),p()()(),b(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),y(18,"aux-sidebar",16),p(),b(19,"mat-drawer-content",17)(20,"div",18),y(21,"router-outlet"),p()()()()}i&2&&(s(10),d("svgIcon","mat_outline:search"),s(),d("formControl",r.searchCtrl),s(3),d("svgIcon","heroicons_outline:menu"),s(2),d("autoFocus",!1)("mode",r.drawerMode)("opened",r.drawerOpened),s(2),d("menuData",r.menuData)("showTitle",!1)("title","SalesCode Actions"))},dependencies:[L,Z,W,K,G,je,V,Fe,ct,st,lt,nt,dt],encapsulation:2,data:{animation:[rt,at,it,ot]}})}};ee=T([R()],ee);var Nr=[{path:"",component:ee,providers:[...Dt],children:[{path:"",redirectTo:"all",pathMatch:"full"},{path:":filterSlug",component:Y}]}];export{Nr as default};
