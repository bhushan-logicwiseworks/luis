import{a as lt}from"./chunk-EPDAUZIC.js";import{a as rt}from"./chunk-X74UJ3QR.js";import{a as A}from"./chunk-Y5RI4PHI.js";import{a as nt,b as ot,c as at}from"./chunk-BLZL7MQY.js";import{c as st}from"./chunk-OJSM7WWP.js";import{a as Ze}from"./chunk-ODTVUJKH.js";import{a as et}from"./chunk-Z76PEBTC.js";import"./chunk-GLNCR2H3.js";import{b as tt}from"./chunk-M7CNBRZG.js";import"./chunk-2LVKS4R7.js";import{a as We}from"./chunk-BWPVOFCI.js";import"./chunk-T6JQBFCO.js";import{a as He}from"./chunk-VK4TGBYQ.js";import{c as qe,d as ze,e as Q,f as Ue,g as Ge}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as Me}from"./chunk-3IAIBVAD.js";import"./chunk-QZ2WTBPW.js";import{c as Qe}from"./chunk-KFQHPBEM.js";import{a as le}from"./chunk-7RWCIHFI.js";import"./chunk-HIKYOSQ5.js";import"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{a as L,b as Z,c as T,e as Ye}from"./chunk-W6W3L4PS.js";import{a as v,b as I,h as De,n as G,o as V,p as Ie,q as Te,v as _,w as Fe}from"./chunk-7TJE7DO7.js";import"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{a as it}from"./chunk-WTDAEWCX.js";import{c as $e}from"./chunk-6WEMRU4N.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import{a as Le,h as Pe}from"./chunk-BV6IOHNV.js";import{B as Y,D as J,c as W,e as M,h as H,i as Ae,l as Be,m as ke,o as Ne,q as Oe,r as je,t as Ve}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{o as X,q as Ke}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import{a as Je}from"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import{a as Xe}from"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as E,b as C}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as K,p as Ee}from"./chunk-HJKZPT2B.js";import{b as we,c as Se}from"./chunk-W5GYUEPJ.js";import{$b as c,Ab as x,Bc as ge,Gb as k,Ia as w,Ic as O,J as q,Ja as S,Jc as j,Ob as l,Sc as be,Ta as U,Vb as R,Zb as a,_b as o,ac as Ce,bc as xe,da as Re,dc as N,f as fe,fc as D,ga as he,gc as u,ha as z,md as ye,p as $,pb as n,qa as ve,rc as _e,sc as d,tb as p,uc as h,v as y,w as ue,wa as re}from"./chunk-3Q5CJMKA.js";import{b as F}from"./chunk-WFMAM73Y.js";import{a as g,b}from"./chunk-2AVGQ2MQ.js";var xt=v("[RetentionRate Table/API] Load Retentions"),_t=v("[RetentionRate Table/API] Load Retentions Success",I()),gt=v("[RetentionRate Table/API] Load Retentions Failure",I()),bt=v("[RetentionRate Table/API] Add Retention",I()),yt=v("[RetentionRate Table/API] Add Retention Success"),wt=v("[RetentionRate Table/API] Add Retention Failure",I()),St=v("[RetentionRate Table/API] Delete Retentions",I()),Dt=v("[RetentionRate Table/API] Delete Retentions Success"),It=v("[RetentionRate Table/API] Delete Retentions Failure",I()),Tt=v("[RetentionRate Table/API] Refresh"),Ft=v("[RetentionRate Table/API] Reset Retentions Rate State"),s={LoadRetentions:xt,LoadRetentionsSuccess:_t,LoadRetentionsFailure:gt,AddRetention:bt,AddRetentionSuccess:yt,AddRetentionsFailure:wt,DeleteRetentions:St,DeleteRetentionsSuccess:Dt,DeleteRetentionsFailure:It,Refresh:Tt,ResetState:Ft};function Mt(t,i){if(t&1&&(a(0,"fuse-alert",6),d(1),o()),t&2){let e=u();l("appearance","outline")("type",e.alert.type)("showIcon",!1)("@shake",!0),n(),h(" ",e.alert.message," ")}}var B=class se{constructor(i,e,r){this._formBuilder=i,this.store=e,this.auxUtilService=r,this.showDeleteButton=!1,this.cancel=new U,this.save=new U,this.delete=new U,this.state=new Be,this.dateFormat=Ze.DATE_FORMAT}ngOnInit(){this.retentionRateForm=this._formBuilder.group({id:[0],year:["",[M.required]],month:["",[M.required]],initial:["",[M.required]],new:["",[M.required]],total:["",[M.required]]}),this.retentionRateForm.patchValue(this.retention)}saveRetentionRate(){let i=this.retentionRateForm.value;this.store.dispatch(s.AddRetention({retention:i})),this.save.emit()}onDateChange(i,e){this.retentionRateForm=this.auxUtilService.manuallyCheckDateValid(i.target.value,this.retentionRateForm,e)}static{this.\u0275fac=function(e){return new(e||se)(p(Y),p(G),p(et))}}static{this.\u0275cmp=x({type:se,selectors:[["ac-retention-rate-center-form"]],inputs:{retention:"retention",showDeleteButton:"showDeleteButton"},outputs:{cancel:"cancel",save:"save",delete:"delete"},decls:29,vars:22,consts:[[1,"relative","flex","flex-auto","flex-col","items-center","px-6","sm:px-9"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"mt-4"],[1,"w-full",3,"subscriptSizing"],["matInput","",1,"uppercase",3,"formControlName","placeholder","spellcheck"],[1,"mt-4",3,"appearance","type","showIcon"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),d(6,"Year"),o(),c(7,"input",5),o()(),a(8,"div",3)(9,"mat-form-field",4)(10,"mat-label"),d(11,"Month"),o(),c(12,"input",5),o()(),a(13,"div",3)(14,"mat-form-field",4)(15,"mat-label"),d(16,"Initial"),o(),c(17,"input",5),o()(),a(18,"div",3)(19,"mat-form-field",4)(20,"mat-label"),d(21,"New"),o(),c(22,"input",5),o()(),a(23,"div",3)(24,"mat-form-field",4)(25,"mat-label"),d(26,"Total"),o(),c(27,"input",5),o()(),k(28,Mt,2,5,"fuse-alert",6),o()()()),e&2&&(n(2),l("formGroup",r.retentionRateForm),n(2),l("subscriptSizing","dynamic"),n(3),l("formControlName","year")("placeholder","Year")("spellcheck",!1),n(2),l("subscriptSizing","dynamic"),n(3),l("formControlName","month")("placeholder","Month")("spellcheck",!1),n(2),l("subscriptSizing","dynamic"),n(3),l("formControlName","initial")("placeholder","Initial")("spellcheck",!1),n(2),l("subscriptSizing","dynamic"),n(3),l("formControlName","new")("placeholder","New")("spellcheck",!1),n(2),l("subscriptSizing","dynamic"),n(3),l("formControlName","total")("placeholder","Total")("spellcheck",!1),n(),R(r.alert?28:-1))},dependencies:[J,Ne,W,H,Ae,je,Ve,Pe,Le,$e,it],encapsulation:2,data:{animation:Je}})}};B=F([E()],B);var te=class me{constructor(i,e,r,m){this._fuseMediaWatcherService=i,this.searchService=e,this.breakpointObserver=r,this.dialog=m,this.drawerMode="side",this.drawerOpened=!0,this.menuData=[{title:"Actions",subtitle:"Add Retention Rate",type:"group",children:[{title:"Add Retention Rate",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}}]}],this.searchCtrl=new ke,this.isHandset$=this.breakpointObserver.observe([le.Tablet,le.Handset]).pipe(y(f=>f.matches),Re())}ngOnInit(){this.searchCtrl.valueChanges.pipe(C(this)).subscribe(i=>this.searchService.search.next(i)),this._fuseMediaWatcherService.onMediaChange$.pipe(C(this)).subscribe(({matchingAliases:i})=>{i.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}openCreate(){let i={icon:"mat_outline:assignment",iconColor:"primary",title:"ADD RETENTION RATE",titleColor:"text-secondary",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:B,dynamicComponentData:null,submitFunction:"saveRetentionRate",enterKeyEnabled:!0};this.dialog.open(tt,{width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh",data:i}).afterClosed().pipe(C(this)).subscribe(e=>{})}static{this.\u0275fac=function(e){return new(e||me)(p(He),p(Me),p(Ee),p(Q))}}static{this.\u0275cmp=x({type:me,selectors:[["app-retention-rate-center-component"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(e,r){if(e&1){let m=N();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),d(5," Retention Rate "),o()()(),a(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),c(10,"mat-icon",9)(11,"input",10),o()()()(),a(12,"div",11)(13,"button",12),D("click",function(){w(m);let oe=_e(17);return S(oe.toggle())}),c(14,"mat-icon",13),o()()(),a(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),c(18,"aux-sidebar",16),o(),a(19,"mat-drawer-content",17)(20,"div",18),c(21,"router-outlet"),o()()()()}e&2&&(n(10),l("svgIcon","mat_outline:search"),n(),l("formControl",r.searchCtrl),n(3),l("svgIcon","heroicons_outline:menu"),n(2),l("autoFocus",!1)("mode",r.drawerMode)("opened",r.drawerOpened),n(2),l("menuData",r.menuData)("showTitle",!1)("title","SalesCode Actions"))},dependencies:[K,J,W,H,Oe,X,at,ot,rt,nt,Se],encapsulation:2})}};te=F([E()],te);function At(t,i){if(t&1&&(a(0,"div",19)(1,"button",20),c(2,"mat-icon",7),o(),a(3,"div",18),d(4),o()()),t&2){let e=u(2);n(2),l("svgIcon","mat_outline:qr_code"),n(2),h(" ",e.retentionRate.createdBy," ")}}function Bt(t,i){if(t&1&&(a(0,"div",19)(1,"button",21),c(2,"mat-icon",7),o(),a(3,"div",18),d(4),O(5,"datetimeformat"),o()()),t&2){let e=u(2);n(2),l("svgIcon","mat_outline:edit_calendar"),n(2),h(" ",j(5,2,e.retentionRate.createdDate)," ")}}function kt(t,i){if(t&1&&(a(0,"div",19)(1,"button",22),c(2,"mat-icon",7),o(),a(3,"div",18),d(4),o()()),t&2){let e=u(2);n(2),l("svgIcon","mat_outline:qr_code"),n(2),h(" ",e.retentionRate.initial," ")}}function Nt(t,i){if(t&1&&(a(0,"div",19)(1,"button",23),c(2,"mat-icon",7),o(),a(3,"div",18),d(4),o()()),t&2){let e=u(2);n(2),l("svgIcon","mat_outline:qr_code"),n(2),h(" ",e.retentionRate.modifiedBy," ")}}function Ot(t,i){if(t&1&&(a(0,"div",19)(1,"button",24),c(2,"mat-icon",7),o(),a(3,"div",18),d(4),O(5,"datetimeformat"),o()()),t&2){let e=u(2);n(2),l("svgIcon","mat_outline:edit_calendar"),n(2),h(" ",j(5,2,e.retentionRate.modifiedDate)," ")}}function jt(t,i){if(t&1&&(a(0,"div",19)(1,"button",25),c(2,"mat-icon",7),o(),a(3,"div",18),d(4),o()()),t&2){let e=u(2);n(2),l("svgIcon","mat_outline:qr_code"),n(2),h(" ",e.retentionRate.month," ")}}function Vt(t,i){if(t&1&&(a(0,"div",19)(1,"button",26),c(2,"mat-icon",7),o(),a(3,"div",18),d(4),o()()),t&2){let e=u(2);n(2),l("svgIcon","mat_outline:qr_code"),n(2),h(" ",e.retentionRate.new," ")}}function Lt(t,i){if(t&1&&(a(0,"div",19)(1,"button",27),c(2,"mat-icon",7),o(),a(3,"div",18),d(4),o()()),t&2){let e=u(2);n(2),l("svgIcon","mat_outline:qr_code"),n(2),h(" ",e.retentionRate.total," ")}}function Pt(t,i){if(t&1&&(a(0,"div",19)(1,"button",28),c(2,"mat-icon",7),o(),a(3,"div",18),d(4),o()()),t&2){let e=u(2);n(2),l("svgIcon","mat_outline:qr_code"),n(2),h(" ",e.retentionRate.year," ")}}function $t(t,i){if(t&1){let e=N();a(0,"div",2)(1,"div",3),Ce(2),c(3,"mat-icon",4),a(4,"h2",5),d(5,"Retention Rate Details"),o(),xe(),a(6,"button",6),c(7,"mat-icon",7),o()()(),a(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"button",12),D("click",function(){w(e);let m=u();return S(m.toggleEditMode(!0))}),c(13,"mat-icon",13),a(14,"span",14),d(15,"Edit"),o()()()(),a(16,"div",15)(17,"div",16)(18,"button",17),c(19,"mat-icon",7),o(),a(20,"div",18),d(21),o()(),k(22,At,5,2,"div",19)(23,Bt,6,4,"div",19)(24,kt,5,2,"div",19)(25,Nt,5,2,"div",19)(26,Ot,6,4,"div",19)(27,jt,5,2,"div",19)(28,Vt,5,2,"div",19)(29,Lt,5,2,"div",19)(30,Pt,5,2,"div",19),o()()()}if(t&2){let e=u();n(3),l("svgIcon","mat_outline:assignment")("color","primary"),n(4),l("svgIcon","mat_outline:close"),n(5),l("color","primary"),n(),l("svgIcon","heroicons_solid:pencil-alt"),n(6),l("svgIcon","mat_outline:grid_3x3"),n(2),h(" ",e.retentionRate.id," "),n(),R(e.retentionRate.createdBy?22:-1),n(),R(e.retentionRate.createdDate?23:-1),n(),R(e.retentionRate.initial?24:-1),n(),R(e.retentionRate.modifiedBy?25:-1),n(),R(e.retentionRate.modifiedDate?26:-1),n(),R(e.retentionRate.month?27:-1),n(),R(e.retentionRate.new?28:-1),n(),R(e.retentionRate.total?29:-1),n(),R(e.retentionRate.year?30:-1)}}function qt(t,i){if(t&1){let e=N();a(0,"ac-retention-rate-center-form",29),D("cancel",function(){w(e);let m=u();return S(m.toggleEditMode(m.event))})("delete",function(){w(e);let m=u();return S(m.deleteRetentionRate())})("save",function(){w(e);let m=u();return S(m.updateRetentionRate())}),o()}if(t&2){let e=u();l("retention",e.retentionRate)}}var dt=(()=>{class t{constructor(e,r,m,f){this.data=e,this._formBuilder=r,this._changeDetectorRef=m,this.dialogRef=f,this.isreadonly=!1,this.editMode=!1,this.retentionRate=e}ngOnInit(){this.retentionRateForm=this._formBuilder.group({id:[0],year:[""],month:[""],initial:[""],new:[""],total:[""],createdDate:[""],createdBy:[""],modifiedDate:[""],modifiedBy:[""]}),this.retentionRateForm.patchValue(this.retentionRate)}ngAfterViewInit(){}onFocus(){}onBlur(){this.focused=!1,this._changeDetectorRef.markForCheck()}ngOnDestroy(){}toggleEditMode(e=null){e===null?this.editMode=!this.editMode:this.editMode=e,this._changeDetectorRef.markForCheck()}deleteRetentionRate(){this.dialogRef.close()}updateRetentionRate(){this.dialogRef.close()}static{this.\u0275fac=function(r){return new(r||t)(p(ze,8),p(Y),p(be),p(qe))}}static{this.\u0275cmp=x({type:t,selectors:[["app-retention-rate-center"]],decls:3,vars:2,consts:[[1,"flex","w-full","flex-col"],["showDeleteButton","true",3,"retention"],[1,"relative","w-full"],["mat-dialog-title","",1,"flex","items-center"],[3,"svgIcon","color"],[1,"text-secondary","flex-1","pl-2","font-bold","uppercase"],["matTooltip","Close","mat-dialog-close","","mat-icon-button","","type","button","tabindex","-1",1,"text-secondary"],[3,"svgIcon"],[1,"relative","flex","flex-auto","flex-col","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"flex","flex-auto","items-end"],[1,"mb-1","ml-auto","flex","items-center"],["mat-flat-button","",3,"click","color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-4","flex","flex-col","space-y-8","border-t","pt-6"],[1,"flex"],["matTooltip","Code ID"],[1,"ml-6","text-lg"],[1,"flex","sm:items-center"],["matTooltip","Created By"],["matTooltip","Created Date"],["matTooltip","Initial"],["matTooltip","Modified By"],["matTooltip","Modified Date"],["matTooltip","Month"],["matTooltip","New"],["matTooltip","Total"],["matTooltip","Year"],["showDeleteButton","true",3,"cancel","delete","save","retention"]],template:function(r,m){r&1&&(a(0,"div",0),k(1,$t,31,16)(2,qt,1,1,"ac-retention-rate-center-form",1),o()),r&2&&(n(),R(m.editMode?-1:1),n(),R(m.editMode?2:-1))},dependencies:[Ge,K,X,Qe,Ue,Ke,B,A],encapsulation:2})}}return t})();var ce="retention-rate-table",ie={loading:!1,error:null,retentions:[]},pt=Fe(ie,_(s.ResetState,()=>ie),_(s.LoadRetentions,t=>b(g({},ie),{loading:!0})),_(s.LoadRetentionsSuccess,(t,{retentions:i})=>b(g({},t),{loading:!1,retentions:i})),_(s.LoadRetentionsFailure,(t,{error:i})=>b(g({},t),{loading:!1,error:i})),_(s.DeleteRetentions,t=>b(g({},ie),{loading:!0})),_(s.DeleteRetentionsSuccess,t=>b(g({},t),{loading:!1})),_(s.DeleteRetentionsFailure,(t,{error:i})=>b(g({},t),{loading:!1,error:i}))),ft=t=>t.loading,ut=t=>t.error,Rt=t=>t.retentions;var de="retention-rate-center";function ht(t,i){return De({[ce]:pt})(t,i)}var Ut=Ie(de),P;(function(t){let i=V(Ut,e=>e[ce]);t.selectLoading=V(i,ft),t.selectError=V(i,ut),t.selectRetentions=V(i,Rt)})(P||(P={}));var ne=class pe{constructor(i,e,r,m,f,oe){this.store=i,this.actions$=e,this.dialog=r,this.dateTimeFormat=m,this._fuseConfirmationService=f,this.route=oe,this.columnDefs=[{headerName:"ID",field:"id",width:150,filter:"agMultiColumnFilter"},{headerName:"Year",field:"year",width:280,filter:"agMultiColumnFilter"},{headerName:"Month",field:"month",width:280,filter:"agMultiColumnFilter"},{headerName:"Initial",field:"initial",width:280,filter:"agMultiColumnFilter"},{headerName:"New",field:"new",width:280,filter:"agMultiColumnFilter"},{headerName:"Total",field:"total",width:280,filter:"agMultiColumnFilter"},{headerName:"Created Date",field:"createdDate",width:280,filter:"agDateColumnFilter",valueFormatter:ae=>this.dateTimeFormat.transform(ae.data.createdDate)},{headerName:"Created By",field:"createdBy",width:280,filter:"agMultiColumnFilter"},{headerName:"Modified By",field:"modifiedBy",width:280,filter:"agMultiColumnFilter"},{headerName:"Modified Date",field:"modifiedDate",width:280,filter:"agDateColumnFilter",valueFormatter:ae=>this.dateTimeFormat.transform(ae.data.modifiedDate)},{headerName:"Actions",width:100,field:"actions",cellRenderer:lt,cellRendererParams:{menuItems:[{name:"Delete Permanently",action:this.deleteRow.bind(this),icon:"mat_outline:delete",color:"text-red-500"}]},filter:!1,sortIndex:10,hide:!1,sortable:!1}],this.paginatorOptions={pageSize:20,pageSizeOptions:[5,10,20,50]},this.visibleColumns=["year","month","initial","modifiedBy","modifiedDate","new","total","actions"],this.options={defaultColDef:{flex:1,filter:!0,sortable:!0}},this.loading$=this.store.select(P.selectLoading),this.data$=this.store.select(P.selectRetentions),this.rowData=[],this.refresh=new fe,this.refresh$=this.refresh.asObservable()}ngOnInit(){ue([this.route.paramMap,this.refresh$.pipe(he(null))]).pipe(C(this)).subscribe(()=>{this.store.dispatch(s.LoadRetentions())}),this.data$.pipe(C(this)).subscribe(i=>{this.rowData=i}),this.actions$.pipe(T(s.Refresh),C(this)).subscribe(i=>this.refresh.next(i))}ngOnDestroy(){this.store.dispatch(s.ResetState())}deleteRow(i){this.deleteRetentionRate(i.data)}openItem(i){this.dialog.open(dt,{data:i.api.getSelectedRows()[0]||null,width:"800px",maxWidth:"100%",panelClass:["animate__animated","animate__slideInRight","animated","custom-container"],position:{top:"0px",right:"0px"},height:"100vh"}).afterClosed().pipe(C(this)).subscribe(r=>{i.api.clearFocusedCell()})}deleteRetentionRate(i){this._fuseConfirmationService.open({title:"Delete Retention",message:"Are you sure you want to delete this Retention Rate? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(C(this)).subscribe(r=>{r==="confirmed"&&this.store.dispatch(s.DeleteRetentions({retentionRate:i}))})}rowSelectionChange(i){i.column.colId!="actions"&&this.openItem(i)}static{this.\u0275fac=function(e){return new(e||pe)(p(G),p(Z),p(Q),p(A),p(We),p(we))}}static{this.\u0275cmp=x({type:pe,selectors:[["app-retention-rate-center-table"]],features:[ge([A])],decls:4,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"rowSelectionChange","gridOptions","columnDefs","visibleColumns","component","rowData","paginatorOption","loading","agGridHeight"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"aux-ag-grid",2),O(3,"async"),D("rowSelectionChange",function(f){return r.rowSelectionChange(f)}),o()()()),e&2&&(n(2),l("gridOptions",r.options)("columnDefs",r.columnDefs)("visibleColumns",r.visibleColumns)("component","retentionRateCenter")("rowData",r.rowData)("paginatorOption",r.paginatorOptions)("loading",j(3,8,r.loading$))("agGridHeight","calc(100vh - 292px)"))},dependencies:[st,ye],encapsulation:2})}};ne=F([E()],ne);var vt=(()=>{class t{constructor(e,r){this.actions$=e,this.apiService=r,this.loadRetentionRate$=L(()=>this.actions$.pipe(T(s.LoadRetentions),z(m=>this.apiService.getAllRetentionRate().pipe(y(f=>s.LoadRetentionsSuccess({retentions:f})),q(f=>$(s.LoadRetentionsFailure({error:f.error}))))))),this.addRetentionRate$=L(()=>this.actions$.pipe(T(s.AddRetention),z(m=>this.apiService.addRetentionRate(m.retention).pipe(y(f=>s.AddRetentionSuccess()),q(f=>$(s.AddRetentionsFailure({error:f.error}))))))),this.deleteRetentionRate$=L(()=>this.actions$.pipe(T(s.DeleteRetentions),z(m=>this.apiService.deleteRetentionRate(m.retentionRate).pipe(y(f=>s.DeleteRetentionsSuccess()),q(f=>$(s.LoadRetentionsFailure({error:f.error}))))))),this.refresh$=L(()=>this.actions$.pipe(T(s.AddRetentionSuccess,s.DeleteRetentionsSuccess),y(()=>s.Refresh())))}static{this.\u0275fac=function(r){return new(r||t)(re(Z),re(Xe))}}static{this.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ct=[Te(de,ht),Ye([vt])];var un=[{path:"",component:te,providers:Ct,children:[{path:"",redirectTo:"all",pathMatch:"full"},{path:"all",component:ne}]}];export{un as default};
