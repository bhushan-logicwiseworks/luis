import{a as y}from"./chunk-EX34XU5O.js";import{d as H,j as z}from"./chunk-PMILJLG6.js";import{c as G}from"./chunk-S2ZXS5BT.js";import{Ea as $,F as x,G as V,Rc as N,Ua as M,V as W,c as P,cb as F,da as T,f as k,ha as m,ia as b,m as E,n as j,o as v,p as S,qa as U,ta as p,v as R,vd as B,wa as c,xa as L}from"./chunk-3Q5CJMKA.js";var ee="firebase",ne="11.6.0";y.registerVersion(ee,ne,"app-compat");var te=["ngOnDestroy"],K=(e,s,r,l={})=>new Proxy(e,{get:(u,n)=>r.runOutsideAngular(()=>{if(e[n])return l?.spy?.get&&l.spy.get(n,e[n]),e[n];if(te.indexOf(n)>-1)return()=>{};let t=s.toPromise().then(i=>{let o=i?.[n];return typeof o=="function"?o.bind(i):o?.then?o.then(d=>r.run(()=>d)):r.run(()=>o)});return new Proxy(()=>{},{get:(i,o)=>t[o],apply:(i,o,d)=>t.then(A=>{let w=A?.(...d);return l?.spy?.apply&&l.spy.apply(n,d,w),w})})})});var D=class{constructor(s){return s}},Z=new p("angularfire2.app.options"),Y=new p("angularfire2.app.name");function q(e,s,r){let l=typeof r=="string"&&r||"[DEFAULT]",u=typeof r=="object"&&r||{};u.name=u.name||l;let t=y.apps.filter(i=>i&&i.name===u.name)[0]||s.runOutsideAngular(()=>y.initializeApp(e,u));try{if(JSON.stringify(e)!==JSON.stringify(t.options)){let i=!!module.hot;ie("error",`${t.name} Firebase App already initialized with different options${i?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new D(t)}var ie=(e,...s)=>{N()&&typeof console<"u"&&console[e](...s)};function Q(e,s,r,l,u){let[,n,t]=globalThis.\u0275AngularfireInstanceCache.find(i=>i[0]===e)||[];if(n)return re(u,t)||(J("error",`${s} was already initialized on the ${r} Firebase App with different settings.${oe?" You may need to reload as Firebase is not HMR aware.":""}`),J("warn",{is:u,was:t})),n;{let i=l();return globalThis.\u0275AngularfireInstanceCache.push([e,i,u]),i}}function re(e,s){try{return e.toString()===s.toString()}catch{return e===s}}var oe=typeof module<"u"&&!!module.hot,J=(e,...s)=>{N()&&typeof console<"u"&&console[e](...s)};globalThis.\u0275AngularfireInstanceCache||=[];var ae=new p("angularfire2.auth.use-emulator"),se=new p("angularfire2.auth.settings"),le=new p("angularfire2.auth.tenant-id"),ue=new p("angularfire2.auth.langugage-code"),ce=new p("angularfire2.auth.use-device-language"),pe=new p("angularfire.auth.persistence"),fe=(e,s,r,l,u,n,t,i)=>Q(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let o=s.runOutsideAngular(()=>e.auth());if(r&&o.useEmulator(...r),l&&(o.tenantId=l),o.languageCode=u,n&&o.useDeviceLanguage(),t)for(let[d,A]of Object.entries(t))o.settings[d]=A;return i&&o.setPersistence(i),o},[r,l,u,n,t,i]),$e=(()=>{class e{injector=L($);authState;idToken;user;idTokenResult;credential;constructor(r,l,u,n,t,i,o,d,A,w,X,de){let _=new k,I=S(void 0).pipe(E(t.outsideAngular),m(()=>n.runOutsideAngular(()=>import("./chunk-Y2LZLFST.js"))),R(()=>q(r,n,l)),R(g=>fe(g,n,i,d,A,w,o,X)),T({bufferSize:1,refCount:!1}));if(B(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=S(null);else{I.pipe(W()).subscribe();let g=I.pipe(m(a=>a.getRedirectResult().then(f=>f,()=>null)),G(this.injector),T({bufferSize:1,refCount:!1})),C=I.pipe(m(a=>new P(f=>({unsubscribe:n.runOutsideAngular(()=>a.onAuthStateChanged(h=>f.next(h),h=>f.error(h),()=>f.complete()))})))),O=I.pipe(m(a=>new P(f=>({unsubscribe:n.runOutsideAngular(()=>a.onIdTokenChanged(h=>f.next(h),h=>f.error(h),()=>f.complete()))}))));this.authState=g.pipe(b(C),j(t.outsideAngular),E(t.insideAngular)),this.user=g.pipe(b(O),j(t.outsideAngular),E(t.insideAngular)),this.idToken=this.user.pipe(m(a=>a?v(a.getIdToken()):S(null))),this.idTokenResult=this.user.pipe(m(a=>a?v(a.getIdTokenResult()):S(null))),this.credential=x(g,_,this.authState.pipe(V(a=>!a))).pipe(R(a=>a?.user?a:null),j(t.outsideAngular),E(t.insideAngular))}return K(this,I,n,{spy:{apply:(g,C,O)=>{(g.startsWith("signIn")||g.startsWith("createUser"))&&O.then(a=>_.next(a))}}})}static \u0275fac=function(l){return new(l||e)(c(Z),c(Y,8),c(F),c(M),c(H),c(ae,8),c(se,8),c(le,8),c(ue,8),c(ce,8),c(pe,8),c(z,8))};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();export{Z as a,Y as b,q as c,Q as d,ae as e,se as f,le as g,ue as h,ce as i,pe as j,fe as k,$e as l};
