import{a as Ut}from"./chunk-3NH6NOP6.js";import{a as Yt,b as jt,d as Lt,f as Le}from"./chunk-FQEWWJX2.js";import{a as $t}from"./chunk-XNSTYRIR.js";import{e as Gt,o as Vt}from"./chunk-ARGWYLIT.js";import{c as qt,d as zt}from"./chunk-T6SOJJBJ.js";import{a as we}from"./chunk-6LE6SZDP.js";import"./chunk-CDD7M2DC.js";import"./chunk-DOHNGIRK.js";import"./chunk-EPDAUZIC.js";import{a as Ot}from"./chunk-X74UJ3QR.js";import{a as Ft}from"./chunk-VGE2PNKJ.js";import{a as It,b as Mt}from"./chunk-7O4GN6JJ.js";import{a as wt}from"./chunk-RW26HZBH.js";import{a as Fe}from"./chunk-Y5RI4PHI.js";import{a as Pt,b as Wt,c as Nt}from"./chunk-BLZL7MQY.js";import{a as P,b as Tt,c as Me}from"./chunk-OJSM7WWP.js";import{a as Dt,b as St}from"./chunk-P4EHISIC.js";import{a as ae,b,c as At,d as Rt,e as Ye,f as je}from"./chunk-HTMKYO5H.js";import{k as Bt}from"./chunk-4RIDPFY2.js";import"./chunk-6YJMKPRN.js";import"./chunk-PRXHNPXO.js";import{a as Y}from"./chunk-PVSGC5X6.js";import"./chunk-WX54DYK2.js";import{a as _e}from"./chunk-FJCYNQP7.js";import"./chunk-XMHJJKH6.js";import{a as Et,c as xt}from"./chunk-VRDZKI6P.js";import{a as le,b as me,c as se}from"./chunk-6HRBECBJ.js";import"./chunk-E6UI7ODH.js";import"./chunk-V2BYYYUY.js";import"./chunk-ODTVUJKH.js";import{a as ne}from"./chunk-Z76PEBTC.js";import"./chunk-GLNCR2H3.js";import{b as B}from"./chunk-M7CNBRZG.js";import"./chunk-2LVKS4R7.js";import{a as Se}from"./chunk-BWPVOFCI.js";import"./chunk-T6JQBFCO.js";import{a as bt}from"./chunk-VK4TGBYQ.js";import{c as re,d as oe,e as R,h as gt,i as Ct}from"./chunk-SIF5SKDU.js";import"./chunk-F5X5MWHG.js";import"./chunk-T3QSJAN3.js";import{a as U}from"./chunk-3IAIBVAD.js";import"./chunk-QZ2WTBPW.js";import"./chunk-KFQHPBEM.js";import{a as Be}from"./chunk-7RWCIHFI.js";import"./chunk-HIKYOSQ5.js";import{c as Ie}from"./chunk-7LGNX6B7.js";import"./chunk-XU6AK5HV.js";import{e as ft}from"./chunk-YP5VDLTG.js";import"./chunk-PCFNTMO3.js";import"./chunk-QG7HLPG5.js";import{b as Ee,c as xe,e as yt}from"./chunk-W6W3L4PS.js";import{n as x,q as mt}from"./chunk-7TJE7DO7.js";import{a as _t}from"./chunk-UU7RD3EP.js";import"./chunk-UCIJYWKW.js";import{a as ei}from"./chunk-2SL7SW2K.js";import"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{c as ie}from"./chunk-6WEMRU4N.js";import"./chunk-S6VYPJGT.js";import"./chunk-I3M6OUQD.js";import{a as X,b as Z,c as ke,d as ee,g as ht,h as te}from"./chunk-BV6IOHNV.js";import{A as ye,B as ut,D as A,c as G,e as M,h as V,i as H,m as dt,o as Q,q as pt,r as K,t as J,w as ct}from"./chunk-4JDFQORI.js";import"./chunk-EPIW33CJ.js";import{o as vt,q as De}from"./chunk-YUJOUWZJ.js";import"./chunk-S2ZXS5BT.js";import{a as kt}from"./chunk-TWDZ6JFE.js";import"./chunk-M4WH542H.js";import"./chunk-UUGBUDN2.js";import"./chunk-CF7SUKG7.js";import{a as F,b as y}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{J as $,p as st}from"./chunk-HJKZPT2B.js";import{b as T,c as lt,d as z}from"./chunk-W5GYUEPJ.js";import{$b as u,Ab as E,Bc as q,Dc as w,Gb as v,Ia as g,Ic as he,Ja as C,Jc as ge,Ob as a,Sc as nt,Vb as k,Wb as tt,Xb as it,Yb as rt,Zb as o,_b as t,da as et,dc as N,f as ce,fc as h,ga as fe,gc as ot,hd as Ce,jd as ve,mc as Ve,md as be,nc as Ae,oc as Re,pb as i,rc as D,sc as m,tb as d,tc as O,uc as at,v as Ze,w as ue}from"./chunk-3Q5CJMKA.js";import{b as I}from"./chunk-WFMAM73Y.js";import{a as Je,b as Xe,g as Zt}from"./chunk-2AVGQ2MQ.js";var Qt=Zt(ei());var Pe=class qe{constructor(r,l,e,n,c,f){this.store=r,this.dateFormatPipe=l,this.actions$=e,this.route=n,this.auxSearchService=c,this._fuseConfirmationService=f,this.data$=this.store.select(je.selectBatchEligibility),this.loading$=this.store.select(je.selectLoading),this.rowData=[],this.pageSize=20,this.pageSizeOptions=[5,10,20,50],this.refresh=new ce,this.refresh$=this.refresh.asObservable(),this.options={gridOptions:{rowSelection:{mode:"multiRow",checkboxes:!0,headerCheckbox:!0,selectAll:"filtered",checkboxColumn:{width:100,pinned:"left",resizable:!0,suppressMovable:!0,sortable:!0,filter:!1,lockPosition:!0,headerName:"",suppressHeaderMenuButton:!1,headerTooltip:"Checkboxes indicate selection"}},headerHeight:30,rowHeight:36},defaultColDef:{flex:1,filter:!0,sortable:!0}},this.selectAll=!1,this.toolbarData=[{title:"Check Eligibility",type:"basic",icon:"mat_outline:check_circle",function:()=>{this.checkEligibility()}}],this.columnDefs=[{headerName:"ID",minWidth:80,field:"id",filter:"agMultiColumnFilter",sortIndex:1,hide:!1},{headerName:"First Name",minWidth:120,field:"firstName",filter:"agMultiColumnFilter",sortIndex:2,hide:!1},{headerName:"Last Name",minWidth:120,field:"lastName",filter:"agMultiColumnFilter",sortIndex:3,hide:!1},{headerName:"DOB",minWidth:100,field:"dob",filter:"agDateColumnFilter",valueFormatter:S=>this.dateFormatPipe.transform(S.data.dob),filterParams:P,sortIndex:4,hide:!1},{headerName:"Patient ID",minWidth:100,field:"patientId",filter:"agMultiColumnFilter",sortIndex:5,hide:!1},{headerName:"Payor ID",minWidth:100,field:"payorId",filter:"agMultiColumnFilter",sortIndex:6,hide:!1},{headerName:"Bill To",minWidth:150,field:"billTo",filter:"agMultiColumnFilter",sortIndex:7,hide:!1},{headerName:"Policy",minWidth:120,field:"policy",filter:"agMultiColumnFilter",sortIndex:8,hide:!1},{headerName:"Is Eligible",minWidth:120,field:"isEligible",cellRenderer:we,cellRendererParams:{field:"isEligible",icons:{true:{icon:"check_circle",color:"text-green-500"},false:{icon:"cancel",color:"text-red-500"}}},sortIndex:9,hide:!1}],this.visibleColumns=["checkedField","id","firstName","lastName","dob","patientId","payorId","billTo","policy","isEligible"],this.selection=new Ie(!0,[])}ngOnInit(){ue([this.route.queryParamMap,this.refresh$.pipe(fe(null))]).pipe(y(this)).subscribe(([r])=>{let l=r.get("startDate"),e=r.get("endDate");l&&e&&this.store.dispatch(ae.GetBatchEligibility({startDate:new Date(l),endDate:new Date(e)}))}),this.data$.pipe(y(this)).subscribe(r=>{r&&(this.rowData=[...r])}),this.actions$.pipe(xe(ae.ProcessBatchEligibilitySuccess),y(this)).subscribe(({eligibility:r})=>{this.selection.clear();let l=r.reduce((e,n)=>(e[n.patientId]=n.isEligible,e),{});this.rowData=this.rowData.map(e=>e.patientId in l?Xe(Je({},e),{isEligible:l[e.patientId]}):e)})}onChangeSelection(r){this.selectAll=!1,this.selection.setSelection(...r.api.getSelectedRows())}checkEligibility(){if(this.selection.isEmpty()){Qt.default.fire({position:"top-end",icon:"error",title:"Please select at least one record",showConfirmButton:!1,timer:1500});return}this._fuseConfirmationService.open({title:"Check Eligibility",message:"Are you sure you want to process eligibility for the selected records?",actions:{confirm:{label:"YES"},cancel:{label:"NO"}}}).afterClosed().pipe(y(this)).subscribe(l=>{if(l==="confirmed"){let e=this.selection.selected.map(n=>n.patientId);e.length&&e[0]!==0&&this.store.dispatch(ae.ProcessBatchEligibility({patientIds:e}))}})}ngOnDestroy(){this.auxSearchService.resetFilter.next({resetGrid:!0})}static{this.\u0275fac=function(l){return new(l||qe)(d(x),d(Y),d(Ee),d(T),d(U),d(Se))}}static{this.\u0275cmp=E({type:qe,selectors:[["app-batch-eligibility"]],features:[q([Y])],decls:8,vars:12,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],[1,"flex","w-full","bg-white","pl-2","pt-2","font-bold","dark:bg-transparent"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"rowSelectionChange","gridOptions","selectAllManually","component","rowData","columnDefs","visibleColumns","agGridHeight","loading"]],template:function(l,e){l&1&&(o(0,"div",0)(1,"div",1),m(2,"Batch Eligibility"),t(),o(3,"div",2),u(4,"fuse-horizontal-navigation",3),t(),o(5,"div",4)(6,"aux-ag-grid",5),he(7,"async"),h("rowSelectionChange",function(c){return e.onChangeSelection(c)}),t()()()),l&2&&(i(4),a("navigation",e.toolbarData)("name","patient-toolbar"),i(2),a("gridOptions",e.options)("selectAllManually",e.selectAll)("component","batchEligibility")("rowData",e.rowData)("columnDefs",e.columnDefs)("visibleColumns",e.visibleColumns)("agGridHeight","calc(100vh - 377px)")("loading",ge(7,10,e.loading$)))},dependencies:[_e,Me,be],encapsulation:2})}};Pe=I([F()],Pe);function ri(p,r){p&1&&(o(0,"mat-error"),m(1,"Start Date is required"),t())}function oi(p,r){p&1&&(o(0,"mat-error"),m(1,"End Date is required"),t())}var Kt=(()=>{class p{constructor(l,e,n,c){this.fb=l,this.store=e,this.dialogRef=n,this.data=c,this.form=this.fb.group({startDate:["",M.required],endDate:["",M.required]})}onSubmit(){if(this.form.valid){let{startDate:l,endDate:e}=this.form.value;this.store.dispatch(ae.FilterBatchEligibilityRecords({startDate:l,endDate:e})),this.dialogRef.close("confirmed")}}onCancel(){this.dialogRef.close("cancelled")}static{this.\u0275fac=function(e){return new(e||p)(d(ut),d(x),d(re),d(oe))}}static{this.\u0275cmp=E({type:p,selectors:[["app-batch-eligibility-popup"]],decls:29,vars:12,consts:[["startPicker",""],["endPicker",""],[1,"p-6"],[1,"text-xl","font-bold"],[1,"mt-2"],[3,"ngSubmit","formGroup"],[1,"mt-4"],[1,"w-full"],["matInput","","formControlName","startDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],[4,"ngIf"],["matInput","","formControlName","endDate","required","",3,"matDatepicker"],[1,"mt-6","flex","justify-end","gap-2"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,n){if(e&1){let c=N();o(0,"div",2)(1,"h2",3),m(2),t(),o(3,"p",4),m(4),t(),o(5,"form",5),h("ngSubmit",function(){return g(c),C(n.onSubmit())}),o(6,"div",6)(7,"mat-form-field",7)(8,"mat-label"),m(9,"Start Date"),t(),u(10,"input",8)(11,"mat-datepicker-toggle",9)(12,"mat-datepicker",null,0),v(14,ri,2,0,"mat-error",10),t()(),o(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),m(18,"End Date"),t(),u(19,"input",11)(20,"mat-datepicker-toggle",9)(21,"mat-datepicker",null,1),v(23,oi,2,0,"mat-error",10),t()(),o(24,"div",12)(25,"button",13),h("click",function(){return g(c),C(n.onCancel())}),m(26),t(),o(27,"button",14),m(28),t()()()()}if(e&2){let c=D(13),f=D(22);i(2),O(n.data.title),i(2),O(n.data.message),i(),a("formGroup",n.form),i(5),a("matDatepicker",c),i(),a("for",c),i(3),a("ngIf",n.form.get("startDate").hasError("required")),i(5),a("matDatepicker",f),i(),a("for",f),i(3),a("ngIf",n.form.get("endDate").hasError("required")),i(3),O(n.data.actions.cancel.label),i(),a("disabled",n.form.invalid),i(),at(" ",n.data.actions.confirm.label," ")}},dependencies:[A,Q,G,V,H,ct,K,J,te,X,ie,me,se,ee,le,ve,Z,De],encapsulation:2})}}return p})();var Ne=class Ue{constructor(r,l,e,n,c,f,S){this._fuseMediaWatcherService=r,this.searchService=l,this.breakpointObserver=e,this.dialog=n,this.router=c,this.store=f,this.route=S,this.toggleMenu=!1,this.drawerMode="side",this.drawerOpened=!0,this.menuData=[{title:"Actions",subtitle:"Add new team member",type:"group",children:[{title:"Add Work Order",type:"basic",icon:"heroicons_outline:plus-circle",function:()=>{this.openCreate()}},{title:"Batch Eligibility",type:"basic",icon:"mat_outline:check_circle",function:()=>{this.openBatchEligibilityPopup()}},{title:"Clear Filter",type:"basic",icon:"heroicons_outline:trash",function:()=>{this.clearFilter()}}]},{title:"Filters",type:"group",children:[{title:"EPO Ready",type:"basic",icon:"bookmark_add",link:"./epo"},{title:"EPO Sent",type:"basic",icon:"bookmark_added",link:"./eposent"},{title:"M B Lines",type:"basic",icon:"assignment",link:"./mblines"},{title:"P B Lines",type:"basic",icon:"assignment",link:"./pblines"},{title:"P Y Lines",type:"basic",icon:"assignment",link:"./pylines"},{title:"P Y PAST",type:"basic",icon:"assignment",link:"./pypast"},{title:"Monthly Marker",type:"basic",icon:"calendar_today",link:"./monthlymarker"},{title:"Date Variants",type:"basic",icon:"calendar_today",link:"./datevariants"},{title:"Auth Expired/Expiring",type:"basic",icon:"calendar_today",link:"./authexpiring"}]}],this.searchCtrl=new dt,this.isHandset$=this.breakpointObserver.observe([Be.Tablet,Be.Handset]).pipe(Ze(W=>W.matches),et())}ngOnInit(){this.searchCtrl.valueChanges.pipe(y(this)).subscribe(r=>this.searchService.search.next(r)),this._fuseMediaWatcherService.onMediaChange$.pipe(y(this)).subscribe(({matchingAliases:r})=>{r.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this.searchService.search.next(null)}openCreate(){this.router.navigate(["centers/work-order-center/add"])}openBatchEligibilityPopup(){this.dialog.open(Kt,{width:"500px",data:{title:"Batch Eligibility",message:"Enter date range for batch eligibility check.",actions:{confirm:{label:"Submit"},cancel:{label:"Cancel"}}}})}clearFilter(){this.searchService.resetFilter.next({resetGrid:!0}),this.store.dispatch(b.SetWorkOrderSearch({criteria:null})),this.router.navigate([],{relativeTo:this.route,queryParams:{}})}static{this.\u0275fac=function(l){return new(l||Ue)(d(bt),d(U),d(st),d(R),d(z),d(x),d(T))}}static{this.\u0275cmp=E({type:Ue,selectors:[["ac-work-order-center"]],decls:22,vars:9,consts:[["matDrawer",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","flex","flex-0","flex-col","border-b","p-6","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:py-6"],[1,"min-w-0","flex-1"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"min-w-0"],[1,"mt-2"],[1,"flex","flex-none","items-center","bg-white","px-4","dark:bg-transparent"],[1,"bg-base","flex","w-full","flex-1","items-center","rounded-full","border","px-5","py-4"],[1,"mr-2","icon-size-5",3,"svgIcon"],["placeholder","Search Results...","type","text",1,"placeholder-black","w-full","bg-transparent","outline-none",3,"formControl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"h-full","flex-auto"],[1,"w-72","dark:bg-gray-900",3,"autoFocus","mode","opened"],[3,"menuData","showTitle","title"],[1,"flex","flex-col"],[1,"flex-auto"]],template:function(l,e){if(l&1){let n=N();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h2",4),m(5," WorkOrder Center "),t()()(),o(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),u(10,"mat-icon",9)(11,"input",10),t()()()(),o(12,"div",11)(13,"button",12),h("click",function(){g(n);let f=D(17);return C(f.toggle())}),u(14,"mat-icon",13),t()()(),o(15,"mat-drawer-container",14)(16,"mat-drawer",15,0),u(18,"aux-sidebar",16),t(),o(19,"mat-drawer-content",17)(20,"div",18),u(21,"router-outlet"),t()()()()}l&2&&(i(10),a("svgIcon","mat_outline:search"),i(),a("formControl",e.searchCtrl),i(3),a("svgIcon","heroicons_outline:menu"),i(2),a("autoFocus",!1)("mode",e.drawerMode)("opened",e.drawerOpened),i(2),a("menuData",e.menuData)("showTitle",!1)("title","SalesCode Actions"))},dependencies:[$,A,G,V,pt,vt,Nt,Wt,Ot,Pt,lt],styles:[".max-w-sx[_ngcontent-%COMP%]{max-width:16rem!important}"],data:{animation:[wt,Mt,It,Ft]}})}};Ne=I([F()],Ne);var j=p=>({"mb-2":p});function ai(p,r){p&1&&(o(0,"mat-error"),m(1,"Please enter valid date!! It should be MM/DD/YYYY."),t())}function ni(p,r){p&1&&(o(0,"mat-error"),m(1,"Please enter valid date!! It should be MM/DD/YYYY."),t())}function li(p,r){p&1&&(o(0,"mat-error"),m(1,"Please enter valid date!! It should be MM/DD/YYYY."),t())}function mi(p,r){p&1&&(o(0,"mat-error"),m(1,"Please enter valid date!! It should be MM/DD/YYYY."),t())}function si(p,r){p&1&&(o(0,"mat-error"),m(1,"Please enter valid date!! It should be MM/DD/YYYY."),t())}function di(p,r){p&1&&(o(0,"mat-error"),m(1,"Please enter valid date!! It should be MM/DD/YYYY."),t())}function pi(p,r){if(p&1&&(o(0,"mat-option",33),m(1),t()),p&2){let l=r.$implicit;a("value",l.name),i(),O(l.name)}}function ci(p,r){p&1&&(o(0,"mat-error"),m(1,"Please enter valid date!! It should be MM/DD/YYYY."),t())}function ui(p,r){p&1&&(o(0,"mat-error"),m(1,"Physician Filed Is Required "),t())}var Oe=class He{constructor(r,l,e,n,c,f,S,W){this.fb=r,this.data=l,this.auxUtilService=e,this.store=n,this.matDialog=c,this.route=f,this.router=S,this.dialogRef=W,this.isLinear=!1,this.filteredOptions=[{name:"E"},{name:"F"}],this.confirmOptions=[{name:"Yes"},{name:"No"}];let L=Number(this.router.url.split("/")[3]);this.patientGroupData=l.dynamicComponentData,this.patientGroupEditForm=this.fb.group({patientid:[L],svcdate:[],todate:[],nextbill:[],cmnexpire:[],notesexpiredate:[],shipdate:[],authdate:[],shipstatus:[],invoiceno:[],authno:[],narrative:[],mod1:[],mod2:[],mod3:[],mod4:[],physicianFullName:[""],patientdoctorid1:[0],doctorId:[""],PrimaryPayorsName:[""],Payor1:[0],Payor2:[0],patientpayorid1:[0],patientpayorid2:[0],CoPayorsName:[""],isSvsdateClear:[!1],isTodateClear:[!1],isNextbillClear:[!1],isCmnexpireClear:[!1],isNotesexpiredateClear:[!1],isShipdateClear:[!1],isAuthdateClear:[!1],isShipstatusClear:[!1],isInvoicenoClear:[!1],isAuthnoClear:[!1],isNarrativeClear:[!1],isMode1Clear:[!1],isMode2Clear:[!1],isMode3Clear:[!1],isMode4Clear:[!1],IsPayor1Clear:[!1],IsPayor2Clear:[!1]})}onDateChange(r,l){this.patientGroupEditForm=this.auxUtilService.manuallyCheckDateValid(r.target.value,this.patientGroupEditForm,l)}submit(){let r=this.patientGroupEditForm.value;r.numbers=this.patientGroupData,this.store.dispatch(b.WOGroupEdit({patientData:r})),this.dialogRef.close(!0)}openPayorsList(r){let l={icon:"mat_outline:edit_note",title:"Select Assigned Payors",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:jt,dynamicComponentData:this.patientGroupEditForm.get("patientid").value,submitFunction:"selectRow",enterKeyEnabled:!0};this.matDialog.open(B,{width:"50%",height:"auto",data:l}).afterClosed().pipe(y(this)).subscribe(n=>{n&&(r=="Primary"?(this.patientGroupEditForm.get("PrimaryPayorsName").setValue(n.billTo),this.patientGroupEditForm.get("patientpayorid1").setValue(n.id),this.patientGroupEditForm.get("Payor1").setValue(n.payorId)):r=="Co-Pay"&&(this.patientGroupEditForm.get("CoPayorsName").setValue(n.billTo),this.patientGroupEditForm.get("patientpayorid2").setValue(n.id),this.patientGroupEditForm.get("Payor2").setValue(n.payorId)))})}openPhysicianList(){let r={icon:"mat_outline:edit_note",title:"Select Assigned Physician",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Lt,dynamicComponentData:null,submitFunction:"",enterKeyEnabled:!0};this.matDialog.open(B,{width:"auto",height:"auto",data:r}).afterClosed().pipe(y(this)).subscribe(e=>{e&&(this.patientGroupEditForm.get("physicianFullName").setValue(e.firstName+" "+e.lastName),this.patientGroupEditForm.get("patientdoctorid1").setValue(e.id))})}static{this.\u0275fac=function(l){return new(l||He)(d(ye),d(oe,8),d(ne),d(x),d(R),d(T),d(z),d(re))}}static{this.\u0275cmp=E({type:He,selectors:[["app-work-order-group-edit"]],features:[q([{provide:ht,useValue:{appearance:"outline"}}])],decls:174,vars:84,consts:[["stepper",""],["svcdate","matDatepicker"],["todate","matDatepicker"],["nextbill","matDatepicker"],["shipdate","matDatepicker"],["cmnExpireDate","matDatepicker"],["expireDate","matDatepicker"],["auto","matAutocomplete"],["authdate","matDatepicker"],[3,"linear"],["label","General",3,"stepControl"],[3,"formGroup"],[1,"group-edit-order","flex","max-h-screen","flex-col"],[1,"relative","h-full",3,"ngSubmit","formGroup"],[1,"w-full","md:flex"],[1,"mt-4","flex","w-full","flex-col","md:w-1/2"],[1,"mb-2","flex","w-full","items-center"],[1,"w-1/2","pr-1",3,"ngClass"],["matInput","","formControlName","svcdate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","isSvsdateClear",1,"mr-2",3,"color"],["matInput","","formControlName","todate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isTodateClear",1,"mr-2",3,"color"],["matInput","","formControlName","nextbill","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isNextbillClear",1,"mr-2",3,"color"],["matInput","","formControlName","shipdate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isShipdateClear",1,"mr-2",3,"color"],["matInput","","formControlName","cmnexpire","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isCmnexpireClear",1,"mr-2",3,"color"],["matInput","","formControlName","notesexpiredate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isNotesexpiredateClear",1,"mr-2","mt-1","items-center",3,"color"],[1,"w-1/2","pr-1",3,"subscriptSizing"],["matInput","","type","text","formControlName","shipstatus",1,"uppercase",3,"placeholder","matAutocomplete"],[3,"value"],["formControlName","isShipstatusClear",1,"mr-2",3,"color"],[1,"w-1/2","pr-1"],["matInput","","formControlName","invoiceno",1,"uppercase"],["formControlName","isInvoicenoClear",1,"mr-2",3,"color"],["matInput","","formControlName","authdate","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["formControlName","isAuthdateClear",1,"mr-2",3,"color"],["matInput","","formControlName","authno",1,"uppercase"],["formControlName","isAuthnoClear",1,"mr-2",3,"color"],["label","Billing",3,"stepControl"],["matInput","","type","text","formControlName","mod1",1,"uppercase",3,"placeholder"],["formControlName","isMode1Clear",1,"mr-2",3,"color"],["matInput","","type","text","formControlName","mod2",1,"uppercase",3,"placeholder"],["formControlName","isMode2Clear",1,"mr-2",3,"color"],["matInput","","type","text","formControlName","mod3",1,"uppercase",3,"placeholder"],["formControlName","isMode3Clear",1,"mr-2",3,"color"],["matInput","","type","text","formControlName","mod4",1,"uppercase",3,"placeholder"],["formControlName","isMode4Clear",1,"mr-2",3,"color"],[1,"w-1/3","pr-0"],["matInput","",1,"uppercase",3,"formControlName"],["matPrefix","",1,"icon-size-1","hidden","cursor-pointer","sm:flex",3,"click","svgIcon"],["formControlName","IsPayor1Clear",1,"mr-2",3,"color"],["formControlName","IsPayor2Clear",1,"mr-2",3,"color"],[1,"w-9/12","pr-1"],["matInput","","formControlName","narrative","placeholder","Narrative",1,"uppercase"],["formControlName","isNarrativeClear",1,"mr-2",3,"color"],[1,"align-center","mb-2","flex","items-baseline"],["matInput","",1,"uppercase",3,"readonly","formControlName"],["matPrefix","",1,"icon-size-1","cursor-pointer","sm:flex",3,"click","svgIcon"]],template:function(l,e){if(l&1){let n=N();o(0,"mat-stepper",9,0)(2,"mat-step",10)(3,"form",11)(4,"div",12)(5,"form",13),h("ngSubmit",function(){return g(n),C(e.submit())}),o(6,"div",14)(7,"div",15)(8,"div",16)(9,"mat-form-field",17)(10,"mat-label"),m(11,"Service Date"),t(),o(12,"input",18),h("change",function(f){return g(n),C(e.onDateChange(f,"svcdate"))}),t(),u(13,"mat-datepicker-toggle",19)(14,"mat-datepicker",null,1),v(16,ai,2,0,"mat-error"),t(),o(17,"mat-checkbox",20),m(18,"Clear Data"),t()(),o(19,"div",16)(20,"mat-form-field",17)(21,"mat-label"),m(22,"To Date"),t(),o(23,"input",21),h("change",function(f){return g(n),C(e.onDateChange(f,"todate"))}),t(),u(24,"mat-datepicker-toggle",19)(25,"mat-datepicker",null,2),v(27,ni,2,0,"mat-error"),t(),o(28,"mat-checkbox",22),m(29,"Clear Data"),t()(),o(30,"div",16)(31,"mat-form-field",17)(32,"mat-label"),m(33,"Next Bill Date"),t(),o(34,"input",23),h("change",function(f){return g(n),C(e.onDateChange(f,"nextbill"))}),t(),u(35,"mat-datepicker-toggle",19)(36,"mat-datepicker",null,3),v(38,li,2,0,"mat-error"),t(),o(39,"mat-checkbox",24),m(40,"Clear Data"),t()(),o(41,"div",16)(42,"mat-form-field",17)(43,"mat-label"),m(44,"Ship Date"),t(),o(45,"input",25),h("change",function(f){return g(n),C(e.onDateChange(f,"shipdate"))}),t(),u(46,"mat-datepicker-toggle",19)(47,"mat-datepicker",null,4),v(49,mi,2,0,"mat-error"),t(),o(50,"mat-checkbox",26),m(51,"Clear Data"),t()(),o(52,"div",16)(53,"mat-form-field",17)(54,"mat-label"),m(55,"CMN Expire Date"),t(),o(56,"input",27),h("change",function(f){return g(n),C(e.onDateChange(f,"cmnexpire"))}),t(),u(57,"mat-datepicker-toggle",19)(58,"mat-datepicker",null,5),v(60,si,2,0,"mat-error"),t(),o(61,"mat-checkbox",28),m(62,"Clear Data"),t()(),o(63,"div",16)(64,"mat-form-field",17)(65,"mat-label"),m(66,"Notes Expire Date"),t(),o(67,"input",29),h("change",function(f){return g(n),C(e.onDateChange(f,"notesexpiredate"))}),t(),u(68,"mat-datepicker-toggle",19)(69,"mat-datepicker",null,6),v(71,di,2,0,"mat-error"),t(),o(72,"mat-checkbox",30),m(73,"Clear Data"),t()()(),o(74,"div",15)(75,"div",16)(76,"mat-form-field",31)(77,"mat-label"),m(78,"Ship Status"),t(),u(79,"input",32),o(80,"mat-autocomplete",null,7),it(82,pi,2,2,"mat-option",33,tt),t()(),o(84,"mat-checkbox",34),m(85,"Clear Data"),t()(),o(86,"div",16)(87,"mat-form-field",35)(88,"mat-label"),m(89,"Invoice#"),t(),u(90,"input",36),t(),o(91,"mat-checkbox",37),m(92,"Clear Data"),t()(),o(93,"div",16)(94,"mat-form-field",17)(95,"mat-label"),m(96,"Auth Date"),t(),o(97,"input",38),h("change",function(f){return g(n),C(e.onDateChange(f,"authdate"))}),t(),u(98,"mat-datepicker-toggle",19)(99,"mat-datepicker",null,8),v(101,ci,2,0,"mat-error"),t(),o(102,"mat-checkbox",39),m(103,"Clear Data"),t()(),o(104,"div",16)(105,"mat-form-field",35)(106,"mat-label"),m(107,"Authorization #"),t(),u(108,"input",40),t(),o(109,"mat-checkbox",41),m(110,"Clear Data"),t()()()()()()()(),o(111,"mat-step",42)(112,"form",11)(113,"div",14)(114,"div",15)(115,"div",16)(116,"mat-form-field",31)(117,"mat-label"),m(118,"Mode1"),t(),u(119,"input",43),t(),o(120,"mat-checkbox",44),m(121,"Clear Data"),t()(),o(122,"div",16)(123,"mat-form-field",31)(124,"mat-label"),m(125,"Mode2"),t(),u(126,"input",45),t(),o(127,"mat-checkbox",46),m(128,"Clear Data"),t()(),o(129,"div",16)(130,"mat-form-field",31)(131,"mat-label"),m(132,"Mode3"),t(),u(133,"input",47),t(),o(134,"mat-checkbox",48),m(135,"Clear Data"),t()(),o(136,"div",16)(137,"mat-form-field",31)(138,"mat-label"),m(139,"Mode4"),t(),u(140,"input",49),t(),o(141,"mat-checkbox",50),m(142,"Clear Data"),t()()(),o(143,"div",15)(144,"div",16)(145,"mat-form-field",51)(146,"mat-label"),m(147,"Primary"),t(),u(148,"input",52),t(),o(149,"mat-icon",53),h("click",function(){return g(n),C(e.openPayorsList("Primary"))}),t(),o(150,"mat-checkbox",54),m(151,"Clear Data"),t()(),o(152,"div",16)(153,"mat-form-field",51)(154,"mat-label"),m(155,"Co-Pay"),t(),u(156,"input",52),t(),o(157,"mat-icon",53),h("click",function(){return g(n),C(e.openPayorsList("Co-Pay"))}),t(),o(158,"mat-checkbox",55),m(159,"Clear Data"),t()()()(),o(160,"div",16)(161,"mat-form-field",56)(162,"mat-label"),m(163,"Narrative"),t(),u(164,"input",57),t(),o(165,"mat-checkbox",58),m(166,"Clear Data"),t()(),o(167,"div",59)(168,"mat-form-field",56)(169,"mat-label"),m(170,"Physician"),t(),u(171,"input",60),v(172,ui,2,0,"mat-error"),t(),o(173,"mat-icon",61),h("click",function(){return g(n),C(e.openPhysicianList())}),t()()()()()}if(l&2){let n=D(15),c=D(26),f=D(37),S=D(48),W=D(59),L=D(70),Ge=D(81),s=D(100);a("linear",e.isLinear),i(2),a("stepControl",e.patientGroupEditForm),i(),a("formGroup",e.patientGroupEditForm),i(2),a("formGroup",e.patientGroupEditForm),i(4),a("ngClass",w(70,j,e.patientGroupEditForm.get("svcdate").hasError("notValidDate"))),i(3),a("matDatepicker",n),i(),a("for",n),i(3),k(e.patientGroupEditForm.get("svcdate").hasError("notValidDate")?16:-1),i(),a("color","primary"),i(3),a("ngClass",w(72,j,e.patientGroupEditForm.get("todate").hasError("notValidDate"))),i(3),a("matDatepicker",c),i(),a("for",c),i(3),k(e.patientGroupEditForm.get("todate").hasError("notValidDate")?27:-1),i(),a("color","primary"),i(3),a("ngClass",w(74,j,e.patientGroupEditForm.get("nextbill").hasError("notValidDate"))),i(3),a("matDatepicker",f),i(),a("for",f),i(3),k(e.patientGroupEditForm.get("nextbill").hasError("notValidDate")?38:-1),i(),a("color","primary"),i(3),a("ngClass",w(76,j,e.patientGroupEditForm.get("shipdate").hasError("notValidDate"))),i(3),a("matDatepicker",S),i(),a("for",S),i(3),k(e.patientGroupEditForm.get("shipdate").hasError("notValidDate")?49:-1),i(),a("color","primary"),i(3),a("ngClass",w(78,j,e.patientGroupEditForm.get("cmnexpire").hasError("notValidDate"))),i(3),a("matDatepicker",W),i(),a("for",W),i(3),k(e.patientGroupEditForm.get("cmnexpire").hasError("notValidDate")?60:-1),i(),a("color","primary"),i(3),a("ngClass",w(80,j,e.patientGroupEditForm.get("notesexpiredate").hasError("notValidDate"))),i(3),a("matDatepicker",L),i(),a("for",L),i(3),k(e.patientGroupEditForm.get("notesexpiredate").hasError("notValidDate")?71:-1),i(),a("color","primary"),i(4),a("subscriptSizing","dynamic"),i(3),a("placeholder","Ship Status")("matAutocomplete",Ge),i(3),rt(e.filteredOptions),i(2),a("color","primary"),i(7),a("color","primary"),i(3),a("ngClass",w(82,j,e.patientGroupEditForm.get("authdate").hasError("notValidDate"))),i(3),a("matDatepicker",s),i(),a("for",s),i(3),k(e.patientGroupEditForm.get("authdate").hasError("notValidDate")?101:-1),i(),a("color","primary"),i(7),a("color","primary"),i(2),a("stepControl",e.patientGroupEditForm),i(),a("formGroup",e.patientGroupEditForm),i(4),a("subscriptSizing","dynamic"),i(3),a("placeholder","Mod 1"),i(),a("color","primary"),i(3),a("subscriptSizing","dynamic"),i(3),a("placeholder","Mod 2"),i(),a("color","primary"),i(3),a("subscriptSizing","dynamic"),i(3),a("placeholder","Mod 3"),i(),a("color","primary"),i(3),a("subscriptSizing","dynamic"),i(3),a("placeholder","Mod 4"),i(),a("color","primary"),i(7),a("formControlName","PrimaryPayorsName"),i(),a("svgIcon","heroicons_solid:download"),i(),a("color","primary"),i(6),a("formControlName","CoPayorsName"),i(),a("svgIcon","heroicons_solid:download"),i(),a("color","primary"),i(7),a("color","primary"),i(6),a("readonly",!0)("formControlName","physicianFullName"),i(),k(e.patientGroupEditForm.get("physicianFullName").hasError("required")?172:-1),i(),a("svgIcon","heroicons_solid:download")}},dependencies:[zt,qt,A,Q,G,V,H,K,J,te,Ce,X,ie,me,se,ee,le,Z,_t,xt,Et,ft,$,ke],styles:["app-patient-group-edit-work-order .mat-mdc-form-field-bottom-align:before{content:none}.group-edit-order[_ngcontent-%COMP%]{height:-webkit-fill-available}  app-patient-group-edit-work-order .group-edit-body .mat-mdc-tab-body-content{padding-top:0;padding-bottom:0}  app-patient-group-edit-work-order .mat-mdc-tab-body-wrapper{height:calc(100vh - 353px)}"],data:{animation:kt}})}};Oe=I([F()],Oe);var fi=p=>({"mb-2":p});function hi(p,r){p&1&&(o(0,"mat-error"),m(1,"Next Bill is required"),t())}function gi(p,r){p&1&&(o(0,"mat-error"),m(1,"Please enter valid date!! It should be MM/DD/YYYY."),t())}function Ci(p,r){p&1&&(o(0,"mat-error"),m(1,"Item ID is required"),t())}function vi(p,r){p&1&&(o(0,"mat-error"),m(1,"Description is required"),t())}function bi(p,r){p&1&&(o(0,"mat-error"),m(1,"State is required"),t())}function yi(p,r){p&1&&(o(0,"mat-error"),m(1,"Payor ID is required"),t())}var Te=class Qe{constructor(r,l,e,n,c,f,S){this.dialogRef=r,this.matDialog=l,this.data=e,this.fb=n,this.auxUtilService=c,this.searchService=f,this.store=S,this.searchForm=this.fb.group({nextBill:["",M.required],itemCode:["",M.required],description:["",M.required],state:["",M.required],payor:["",M.required]})}onDateChange(r,l){this.searchForm=this.auxUtilService.manuallyCheckDateValid(r.target.value,this.searchForm,l)}openItemList(){let r={icon:"mat_outline:edit_note",title:"Select Item for Work Order Search",cancelButtonText:"Cancel",saveButtonText:"Select Item",dynamicComponent:Vt,dynamicComponentData:null,submitFunction:"selectRowSubmit",enterKeyEnabled:!0};this.matDialog.open(B,{width:"70%",height:"auto",data:r}).afterClosed().pipe(y(this)).subscribe(e=>{e&&(this.searchForm.get("itemCode").setValue(e.itemcode),this.searchForm.get("description").setValue(e.description),this.searchForm.markAsDirty()),this.searchService.saveFilterState({},"inventoryItemsList")}),this.store.dispatch(Gt.LoadInventory({filter:"active"}))}openPayorList(){let r={icon:"mat_outline:edit_note",title:"Select Payor for Work Order Search",cancelButtonText:"Cancel",saveButtonText:"Select Payor",dynamicComponent:$t,dynamicComponentData:null,submitFunction:"selectRow",enterKeyEnabled:!0};this.matDialog.open(B,{width:"70%",height:"auto",data:r}).afterClosed().pipe(y(this)).subscribe(e=>{e&&(this.searchForm.get("payor").setValue(e.name),this.searchForm.markAsDirty())}),this.store.dispatch(Bt.LoadPatientPayorsList())}onSubmit(){let r=this.searchForm.value,e=Object.values(r).some(n=>typeof n=="string"?n.trim()!=="":n instanceof Date?!isNaN(n.getTime()):n!=null)?r:void 0;e&&e.nextBill&&(e.nextBill=e.nextBill.toISOString()),this.dialogRef.close(e)}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(l){return new(l||Qe)(d(re),d(R),d(oe),d(ye),d(ne),d(U),d(x))}}static{this.\u0275cmp=E({type:Qe,selectors:[["ac-work-order-search-popup"]],decls:43,vars:22,consts:[["nextbill","matDatepicker"],[1,"ml-6","text-xl","font-bold"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","gap-4"],["appearance","outline",3,"ngClass"],["matInput","","formControlName","nextBill","placeholder","MM/DD/YYYY",3,"change","matDatepicker"],["matIconSuffix","",3,"for"],[1,"align-center","flex"],["appearance","outline",1,"w-full","pr-2",3,"subscriptSizing"],["matInput","","formControlName","itemCode",1,"uppercase",3,"placeholder","spellcheck"],["matPrefix","",1,"icon-size-1","mt-4","cursor-pointer","sm:flex",3,"click","svgIcon"],["appearance","outline"],["matInput","","formControlName","description"],["matInput","","formControlName","state"],["matInput","","formControlName","payor",1,"uppercase",3,"placeholder","spellcheck"],["align","end"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(l,e){if(l&1){let n=N();o(0,"h2",1),m(1),t(),o(2,"form",2),h("ngSubmit",function(){return g(n),C(e.onSubmit())}),o(3,"mat-dialog-content")(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),m(7,"Next Bill"),t(),o(8,"input",5),h("change",function(f){return g(n),C(e.onDateChange(f,"nextBill"))}),t(),u(9,"mat-datepicker-toggle",6)(10,"mat-datepicker",null,0),v(12,hi,2,0,"mat-error")(13,gi,2,0,"mat-error"),t(),o(14,"div",7)(15,"mat-form-field",8)(16,"mat-label"),m(17,"Item ID"),t(),u(18,"input",9),v(19,Ci,2,0,"mat-error"),t(),o(20,"mat-icon",10),h("click",function(){return g(n),C(e.openItemList())}),t()(),o(21,"mat-form-field",11)(22,"mat-label"),m(23,"Description"),t(),u(24,"input",12),v(25,vi,2,0,"mat-error"),t(),o(26,"mat-form-field",11)(27,"mat-label"),m(28,"State"),t(),u(29,"input",13),v(30,bi,2,0,"mat-error"),t(),o(31,"div",7)(32,"mat-form-field",8)(33,"mat-label"),m(34,"Payor"),t(),u(35,"input",14),v(36,yi,2,0,"mat-error"),t(),o(37,"mat-icon",10),h("click",function(){return g(n),C(e.openPayorList())}),t()()()(),o(38,"mat-dialog-actions",15)(39,"button",16),h("click",function(){return g(n),C(e.onCancel())}),m(40,"Cancel"),t(),o(41,"button",17),m(42,"Search"),t()()()}if(l&2){let n=D(11);i(),O(e.data.title),i(),a("formGroup",e.searchForm),i(3),a("ngClass",w(20,fi,e.searchForm.get("nextBill").hasError("notValidDate"))),i(3),a("matDatepicker",n),i(),a("for",n),i(3),k(e.searchForm.get("nextBill").hasError("required")?12:-1),i(),k(e.searchForm.get("nextBill").hasError("notValidDate")?13:-1),i(2),a("subscriptSizing","dynamic"),i(3),a("placeholder","Item ID")("spellcheck",!1),i(),k(e.searchForm.get("itemCode").hasError("required")?19:-1),i(),a("svgIcon","heroicons_solid:download"),i(5),k(e.searchForm.get("description").hasError("required")?25:-1),i(5),k(e.searchForm.get("state").hasError("required")?30:-1),i(2),a("subscriptSizing","dynamic"),i(3),a("placeholder","Payor ID")("spellcheck",!1),i(),k(e.searchForm.get("payor").hasError("required")?36:-1),i(),a("svgIcon","heroicons_solid:download"),i(4),a("disabled",e.searchForm.invalid)}},dependencies:[A,Q,G,V,H,K,J,gt,te,Ce,X,ie,me,se,ee,le,Z,$,ke,Ct,De],encapsulation:2})}};Te=I([F()],Te);function ki(p,r){if(p&1&&(o(0,"div",4),u(1,"fuse-horizontal-navigation",5),t()),p&2){let l=ot();i(),a("navigation",l.toolbarData)("name","work-order-toolbar")}}var _=class Ke{constructor(r,l,e,n,c,f,S,W,L,Ge){this.store=r,this.route=l,this.dateTimeFormatePipe=e,this.dateFormatePipe=n,this.actions$=c,this.dialog=f,this.router=S,this.cdr=W,this._fuseConfirmationService=L,this.auxUtilService=Ge,this.columnDefs=[{headerName:"Id",field:"id",hide:!1,filter:"agMultiColumnFilter",minWidth:107,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Patient Id",field:"patientid",hide:!1,filter:"agMultiColumnFilter",minWidth:107,cellRenderer:we,cellRendererParams:{field:"patientid"},onCellClicked:s=>this.handleRedirect("patientid",{data:{patientid:s.data.patientid}})},{headerName:"Invoice #",field:"invoiceno",hide:!1,filter:"agMultiColumnFilter",minWidth:107,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Svc Date",field:"svcdate",hide:!1,filter:"agDateColumnFilter",valueFormatter:s=>this.dateFormatePipe.transform(s.data.svcdate),minWidth:125,filterParams:P,sortable:!0,sort:"desc",onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Item Code",field:"itemcode",hide:!1,filter:"agMultiColumnFilter",minWidth:115,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"T",field:"billtype",hide:!1,filter:"agMultiColumnFilter",minWidth:75,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"C",field:"confirm",hide:!1,filter:"agMultiColumnFilter",minWidth:75,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Qty",field:"quantity",hide:!1,filter:"agMultiColumnFilter",minWidth:80,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Ship Status",field:"shipstatus",hide:!1,filter:"agMultiColumnFilter",minWidth:115,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Shipped On",field:"shipdate",hide:!1,filter:"agDateColumnFilter",valueFormatter:s=>this.dateTimeFormatePipe.transform(s.data.shipdate),minWidth:160,filterParams:P,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Description",field:"description",hide:!1,filter:"agMultiColumnFilter",minWidth:200,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"State",field:"state",hide:!1,filter:"agMultiColumnFilter",minWidth:100,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Next Bill",field:"lastdatebilled",hide:!1,filter:"agDateColumnFilter",valueFormatter:s=>this.dateFormatePipe.transform(s.data.lastdatebilled),minWidth:114,filterParams:P,onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"CMN Expire",field:"cmnexpire",hide:!1,filter:"agDateColumnFilter",valueFormatter:s=>this.dateFormatePipe.transform(s.data.cmnexpire),minWidth:114,filterParams:P,cellClass:s=>s.data.cmnexpire==="1900-01-01T00:00:00"||s.data.cmnexpire===""||s.data.cmnexpire<s.data.svcdate?"bg-red-400":"",onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Notes Expire",field:"notesexpiredate",hide:!1,filter:"agDateColumnFilter",valueFormatter:s=>this.dateFormatePipe.transform(s.data.notesexpiredate),minWidth:116,filterParams:P,cellClass:s=>s.data.notesexpiredate==="1900-01-01T00:00:00"||s.data.notesexpiredate===""||s.data.notesexpiredate<s.data.svcdate?"bg-red-400":"",onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Auth Date",field:"authdate",hide:!1,filter:"agDateColumnFilter",valueFormatter:s=>this.dateFormatePipe.transform(s.data.authdate),minWidth:116,filterParams:P,cellClass:s=>s.data.authdate==="1900-01-01T00:00:00"||s.data.authdate===""||s.data.authdate<s.data.svcdate?"bg-red-400":"",onCellClicked:s=>this.openWorkOrderDetails(s)},{headerName:"Payor",field:"billTo",hide:!1,filter:"agMultiColumnFilter",minWidth:165,onCellClicked:s=>this.openWorkOrderDetails(s)}],this.visibleColumns=["checkedField","patientid","invoiceno","svcdate","billtype","confirm","quantity","itemcode","shipstatus","shipdate","description","state","lastdatebilled","cmnexpire","notesexpiredate","authdate","billTo"],this.loading$=this.store.select(Ye.selectLoading),this.data$=this.store.select(Ye.selectWorkOrderReps),this.rowData=[],this.options={gridOptions:{rowSelection:{mode:"multiRow",checkboxes:!0,headerCheckbox:!0,selectAll:"filtered",checkboxColumn:{width:100,pinned:"left",resizable:!0,suppressMovable:!0,sortable:!0,filter:!1,lockPosition:!0,headerName:"",suppressHeaderMenuButton:!1,headerTooltip:"Checkboxes indicate selection"}},headerHeight:30,rowHeight:36},defaultColDef:{flex:1}},this.refresh=new ce,this.refresh$=this.refresh.asObservable(),this.selectedRowIndex=-1,this.selection=new Ie(!0,[])}ngOnInit(){this.filterSlug=this.route.snapshot.routeConfig.path,this.toolbarData=[],ue([this.route.queryParamMap,this.refresh$.pipe(fe(null))]).pipe(y(this)).subscribe(([r,l])=>{let e={nextBill:r.get("nextBill")||"",itemCode:r.get("itemCode")||"",description:r.get("description")||"",state:r.get("state")||"",payor:r.get("payor")||""};if(Object.values(e).some(c=>c!=="")&&(this.filterSlug==="eposent"||this.filterSlug==="monthlymarker"))e.nextBill&&(!isNaN(new Date(e.nextBill).getTime())||(e.nextBill="")),this.store.dispatch(b.SetWorkOrderSearch({criteria:e})),this.filterSlug==="eposent"?this.store.dispatch(b.SearchWorkOrderEpoSent({criteria:e})):this.filterSlug==="monthlymarker"&&this.store.dispatch(b.SearchWorkOrderMonthlyMarker({criteria:e}));else switch(this.store.dispatch(b.SetWorkOrderSearch({criteria:null})),this.filterSlug){case"epo":this.store.dispatch(b.LoadWorkReps({filter:"epo"}));break;case"eposent":this.store.dispatch(b.LoadWorkReps({filter:"eposent"}));break;case"mblines":this.store.dispatch(b.LoadWorkReps({filter:"mblines"}));break;case"pblines":this.store.dispatch(b.LoadWorkReps({filter:"pblines"}));break;case"pylines":this.store.dispatch(b.LoadWorkReps({filter:"pylines"}));break;case"pypast":this.store.dispatch(b.LoadWorkReps({filter:"pypast"}));break;case"monthlymarker":this.store.dispatch(b.LoadWorkReps({filter:"monthlymarker"}));break;case"datevariants":this.store.dispatch(b.LoadWorkReps({filter:"datevariants"}));break;case"authexpiring":this.store.dispatch(b.LoadWorkReps({filter:"authexpiring"}));break}}),this.data$.pipe(y(this)).subscribe(r=>{this.rowData=r}),this.actions$.pipe(xe(b.Refresh),y(this)).subscribe(r=>this.refresh.next(r))}openSearchPopup(){this.dialog.open(Te,{width:"600px",data:{title:"Search Work Orders",filter:this.filterSlug}}).afterClosed().subscribe(r=>{r&&this.router.navigate([],{relativeTo:this.route,queryParams:{nextBill:r.nextBill||null,itemCode:r.itemCode||null,description:r.description||null,state:r.state||null,payor:r.payor||null},queryParamsHandling:"merge"})})}deleteRow(r){this.deleteContact(r.data)}deleteContact(r){this._fuseConfirmationService.open({title:"Delete Work order Rep",message:"Are you sure you want to delete this work order rep? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().pipe(y(this)).subscribe(e=>{e==="confirmed"&&this.store.dispatch(b.DeleteWorkRep({dto:r}))})}onRowClick(r){r.column.colId!="actions"&&this.router.navigate(["centers/work-order-center/edit",r.api.getSelectedRows()[0].id])}isDisabled(){return this.selection.isEmpty()}groupEdit(){let r={icon:"mat_outline:edit_note",title:"Group Edit",cancelButtonText:"Cancel",saveButtonText:"Save",dynamicComponent:Oe,dynamicComponentData:this.selectedRow.map(e=>e.id),submitFunction:"submit",enterKeyEnabled:!0},l=this.dialog.open(B,{width:"900px",height:"auto",data:r})}redirectToEdit(r){r.column.colId!="actions"&&r.column.colId!=="patientid"&&this.router.navigate(["centers/work-order-center/edit",r.data.id])}openWorkOrderDetails(r){this.toolbarData.findIndex(e=>e.title==="Edit")===-1&&(this.toolbarData=[...this.toolbarData,{title:"Edit",type:"basic",icon:"mat_outline:edit",function:()=>{this.redirectToEdit(r)}}],this.cdr.detectChanges())}onSelectionChanged(r){this.selectedRow=r.api.getSelectedRows(),this.selection.setSelection(...r.api.getSelectedRows()),this.selection.isEmpty()?this.toolbarData=[]:this.toolbarData=[{title:"Group Edit",type:"basic",icon:"mat_outline:edit_note",function:l=>{this.groupEdit()}}]}handleRedirect(r,l){this.auxUtilService.redirectToNewTab(r,l)}static{this.\u0275fac=function(l){return new(l||Ke)(d(x),d(T),d(Fe),d(Y),d(Ee),d(R),d(z),d(nt),d(Se),d(ne))}}static{this.\u0275cmp=E({type:Ke,selectors:[["ac-work-order-center-table"]],viewQuery:function(l,e){if(l&1&&(Ve(Tt,7),Ve(Ut,7)),l&2){let n;Ae(n=Re())&&(e.paginator=n.first),Ae(n=Re())&&(e.sort=n.first)}},features:[q([Fe,Y])],decls:5,vars:10,consts:[[1,"flex","flex-auto","flex-col","overflow-hidden"],["class","flex w-full bg-white p-1 dark:bg-transparent",4,"ngIf"],[1,"relative","overflow-auto","bg-white","shadow"],[3,"rowSelectionChange","gridOptions","component","columnDefs","rowData","visibleColumns","agGridHeight","loading"],[1,"flex","w-full","bg-white","p-1","dark:bg-transparent"],[3,"navigation","name"]],template:function(l,e){l&1&&(o(0,"div",0),v(1,ki,2,2,"div",1),o(2,"div",2)(3,"aux-ag-grid",3),he(4,"async"),h("rowSelectionChange",function(c){return e.onSelectionChanged(c)}),t()()()),l&2&&(i(),a("ngIf",e.toolbarData.length>0),i(2),a("gridOptions",e.options)("component","workordercenter")("columnDefs",e.columnDefs)("rowData",e.rowData)("visibleColumns",e.visibleColumns)("agGridHeight","calc(100vh - 292px)")("loading",ge(4,8,e.loading$)))},dependencies:[ve,_e,Me,be],encapsulation:2,changeDetection:0})}};_=I([F()],_);var Xt=[mt(At,Rt),yt([St,Dt])];var wo=[{path:"",canActivate:[Yt],component:Ne,providers:Xt,children:[{path:"",redirectTo:"epo",pathMatch:"full"},{path:"epo",component:_},{path:"eposent",component:_},{path:"mblines",component:_},{path:"pblines",component:_},{path:"pylines",component:_},{path:"pypast",component:_},{path:"monthlymarker",component:_},{path:"datevariants",component:_},{path:"authexpiring",component:_},{path:"add",component:Le},{path:"edit/:id",component:Le},{path:"batch-eligibility",component:Pe}]}];export{wo as default};
