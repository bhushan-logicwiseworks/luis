import{a as Y,b as q}from"./chunk-NCFFCZCY.js";import{a as O}from"./chunk-WAL4G5HG.js";import{a as S,b as k}from"./chunk-T6JQBFCO.js";import{b as N}from"./chunk-XX7H3YTW.js";import"./chunk-MYHJKLLN.js";import{a as T}from"./chunk-CF7SUKG7.js";import{a as W,b as K}from"./chunk-ETZ3F2L4.js";import"./chunk-3QHLU7SJ.js";import{$b as p,Ab as u,Cc as M,Cd as G,Dc as j,Gb as x,Ob as h,Vb as f,Zb as n,_b as r,gc as g,hd as _,kc as Q,pb as a,qa as D,sc as m,tb as w,tc as b,uc as y,wa as L}from"./chunk-3Q5CJMKA.js";import{b as E}from"./chunk-WFMAM73Y.js";import{a as c,b as l,e as v,g as C}from"./chunk-2AVGQ2MQ.js";var R=v(I=>{var ct={width:24,height:24,body:'<path fill="currentColor" d="M5 5v14h14V5H5zm4 12H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" opacity=".3"/><path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z"/>'};I.__esModule=!0;I.default=ct});var U=v(P=>{var lt={width:24,height:24,body:'<path fill="currentColor" d="M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"/>'};P.__esModule=!0;P.default=lt});var $=v(B=>{var ht={width:24,height:24,body:'<path fill="currentColor" d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 2v3H4V5h16zM4 21V10h16v11H4z"/><path fill="currentColor" d="M4 5.01h16V8H4z" opacity=".3"/>'};B.__esModule=!0;B.default=ht});var J=v(V=>{var pt={width:24,height:24,body:'<circle cx="9" cy="8.5" r="1.5" fill="currentColor" opacity=".3"/><path fill="currentColor" d="M4.34 17h9.32c-.84-.58-2.87-1.25-4.66-1.25s-3.82.67-4.66 1.25z" opacity=".3"/><path fill="currentColor" d="M9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5S5.5 6.57 5.5 8.5S7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm0 6.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zm11.7-3.19c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35c.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z"/>'};V.__esModule=!0;V.default=pt});var X=v(H=>{var dt={width:24,height:24,body:'<path fill="currentColor" d="M4 18h16V6H4v12zm7.5-11c2.49 0 4.5 2.01 4.5 4.5c0 .88-.26 1.69-.7 2.39l2.44 2.43l-1.42 1.42l-2.44-2.44c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7z" opacity=".3"/><path fill="currentColor" d="M11.49 16c.88 0 1.7-.26 2.39-.7l2.44 2.44l1.42-1.42l-2.44-2.43c.44-.7.7-1.51.7-2.39C16 9.01 13.99 7 11.5 7S7 9.01 7 11.5S9.01 16 11.49 16zm.01-7a2.5 2.5 0 0 1 0 5a2.5 2.5 0 0 1 0-5zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z"/>'};H.__esModule=!0;H.default=dt});var ot=C(R()),at=C(U()),nt=C($()),rt=C(J()),st=C(X());var d={chart:{type:"radialBar",offsetY:-10,sparkline:{enabled:!0}},plotOptions:{radialBar:{startAngle:-90,endAngle:90,track:{background:"#e7e7e7",strokeWidth:"97%",margin:5},dataLabels:{name:{show:!1},value:{offsetY:-2,fontSize:"1.5rem",fontFamily:"Inter, sans-serif",color:"#000",fontWeight:700}}}},grid:{padding:{top:-10}},fill:{colors:["#5c77ff"]},labels:["Results"]};var Z=Y({grid:{show:!0,strokeDashArray:3,padding:{left:16}},chart:{type:"area",height:384,sparkline:{enabled:!1},zoom:{enabled:!1}},fill:{type:"gradient",gradient:{shadeIntensity:.9,opacityFrom:.7,opacityTo:.5,stops:[0,90,100]}},colors:["#008ffb","#ff9800"],dataLabels:{enabled:!0,background:{borderWidth:0,dropShadow:{enabled:!0,left:0,top:0,blur:4,opacity:.1}}},xaxis:{type:"category",labels:{show:!0}},yaxis:{labels:{show:!1}},legend:{show:!0,itemMargin:{horizontal:4,vertical:4}}});var tt=(()=>{class e{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=u({type:e,selectors:[["ac-line-chart-tech"]],inputs:{label:"label",value:"value",series:"series",options:"options",iconClasses:"iconClasses",icon:"icon"},decls:9,vars:6,consts:[[1,"flex","items-center","p-4"],["size","24px",1,"mr-4","block","rounded-full","p-3",3,"icon","ngClass"],[1,"flex-auto"],[1,"m-0","text-3xl","font-bold","leading-tight"],[1,"text-secondary","m-0","text-sm"],[3,"options","series"]],template:function(i,o){i&1&&(n(0,"div",0),p(1,"ic-icon",1),n(2,"div",2)(3,"h2",3),m(4),r(),n(5,"p",4),m(6),r()()(),n(7,"div",2),p(8,"aux-chart",5),r()),i&2&&(a(),h("icon",o.icon)("ngClass",o.iconClasses),a(3),y("",o.value,"\xA0"),a(2),b(o.label),a(2),h("options",o.options)("series",o.series))},dependencies:[k,S,_,O],styles:["[_nghost-%COMP%]{display:block;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}"]})}}return e})();function ut(e,s){if(e&1&&(n(0,"div",2),p(1,"ac-chart",7),r()),e&2){let t=g(2);a(),h("options",t.gaugeOptions)("series",t.gaugeSeries)}}function ft(e,s){if(e&1&&(n(0,"p",6),m(1),r()),e&2){let t=g(2);a(),b(t.label)}}function gt(e,s){if(e&1&&(n(0,"div",1)(1,"div",2)(2,"div",3),p(3,"ic-icon",4),n(4,"div")(5,"p",5),m(6),r()()()(),x(7,ut,2,2,"div",2),r(),x(8,ft,2,1,"p",6)),e&2){let t=g();a(3),h("icon",t.icon)("ngClass",t.iconClasses),a(3),y("",t.value,"\xA0"),a(),f(t.chartPosition==="side"?7:-1),a(),f(t.chartPosition==="side"?8:-1)}}function vt(e,s){if(e&1&&(n(0,"div",12),p(1,"aux-chart",7),r()),e&2){let t=g(2);a(),h("options",t.gaugeOptions)("series",t.gaugeSeries)}}function Ct(e,s){if(e&1&&(n(0,"div",0)(1,"div",8),p(2,"ic-icon",9),n(3,"div")(4,"p",10),m(5),r(),n(6,"p",11),m(7),r()()(),x(8,vt,2,2,"div",12),r()),e&2){let t=g();a(2),h("icon",t.icon)("ngClass",t.iconClasses),a(3),y("",t.value,"\xA0"),a(2),b(t.label),a(),f(t.chartPosition==="below"?8:-1)}}var et=(()=>{class e{constructor(){this.chartPosition="side"}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=u({type:e,selectors:[["ac-quick-value-tech"]],inputs:{value:"value",label:"label",icon:"icon",iconClasses:"iconClasses",gaugeSeries:"gaugeSeries",gaugeOptions:"gaugeOptions",chartPosition:"chartPosition"},decls:2,vars:2,consts:[[1,"flex","flex-auto","flex-col"],[1,"flex","flex-auto","items-center"],[1,"flex-1"],[1,"flex","items-center"],["size","24px",1,"mr-4","block","rounded-full","p-3",3,"icon","ngClass"],[1,"text-3xl","font-bold","leading-tight"],[1,"text-secondary","ml-16","text-sm"],[3,"options","series"],[1,"text-center"],["size","24px",1,"inline-block","rounded-full","p-3",3,"icon","ngClass"],[1,"text-4xl","font-bold"],[1,"text-secondary","text-sm"],[1,"mt-4","flex","flex-1","flex-col","justify-end"]],template:function(i,o){i&1&&x(0,gt,9,5)(1,Ct,9,5,"div",0),i&2&&(f(o.chartPosition==="side"?0:-1),a(),f(o.chartPosition==="below"||o.chartPosition==="none"?1:-1))},dependencies:[k,S,_,O],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}"]})}}return e})();var it=(()=>{class e{constructor(t){this.http=t}getThreatsByMonth(){return this.http.get(T.threatsbymonth)}getThreatPercentage(){return this.http.get(T.threatpercentage)}getMonthWithHighestThreat(){return this.http.get(T.monthwithhighestthreat)}static{this.\u0275fac=function(i){return new(i||e)(L(G))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var bt=()=>["bg-red-200","text-red-500"],yt=e=>[e],wt=()=>["bg-orange-100","text-orange-500"],Mt=()=>["bg-primary-light","text-primary"],z=class A{constructor(s,t,i){this.dashboardApiService=s,this.techdashboardApiService=t,this._fuseConfigService=i,this.icPageview=st.default,this.icGroup=rt.default,this.icAssessment=ot.default,this.icBarChar=at.default,this.icCalendarToday=nt.default,this.theme="light",this.threatsByMonth=[{name:"Threats by month",data:[]}],this.threatsByMonthChartOptions=l(c({},Z),{colors:["#f56565"]}),this.threatGaugeOptions=l(c({},d),{chart:l(c({},d.chart),{height:150,offsetY:-8}),fill:{colors:["#38b2ac"]}}),this._fuseConfigService.config$.pipe(K(this)).subscribe(o=>{o.scheme==="dark"&&(this.theme="dark")})}ngOnInit(){this.getThreatsByMonth(),this.getThreatPercentage(),this.getMonthWithHighestThreat(),this.updateGaugeOptions()}getThreatsByMonth(){this.techdashboardApiService.getThreatsByMonth().toPromise().then(s=>{let t=s.reduce((i,o)=>({x:[...i.x,o.monthName],y:[...i.y,o.monthCount],res:o.monthCount}),{x:[],y:[]});this.currentMonthThreatCount=t.res,this.threatsByMonth=[l(c({},this.threatsByMonth[0]),{data:t.y})],this.threatsByMonthChartOptions=l(c({},this.threatsByMonthChartOptions),{labels:t.x,chart:l(c({},this.threatsByMonthChartOptions.chart),{height:200}),tooltip:{theme:this.theme==="dark"?"dark":"light"}})})}getThreatPercentage(){this.techdashboardApiService.getThreatPercentage().toPromise().then(s=>{let t=s.reduce((i,o)=>({count:o.count,percent:o.percent}),{x:[],y:[]});this.totalThreatCount=t.count,this.totalThreatPercentage=t.percent})}getMonthWithHighestThreat(){this.techdashboardApiService.getMonthWithHighestThreat().toPromise().then(s=>{let t=s.reduce((i,o)=>({count:o.monthCount,month:o.monthName,year:o.year}),{x:[],y:[]});this.highestThreatCount=t.count?.toFixed(0),this.monthdata=t.month+" "+t.year})}updateGaugeOptions(){this.threatGaugeOptions=l(c({},d),{chart:l(c({},d.chart),{height:150,offsetY:-8}),plotOptions:l(c({},d.plotOptions),{radialBar:l(c({},d.plotOptions.radialBar),{dataLabels:l(c({},d.plotOptions.radialBar.dataLabels),{value:l(c({},d.plotOptions.radialBar.dataLabels.value),{fontSize:"1.2rem",color:this.theme=="dark"?"#FFFFFF":"#000000"})})})})})}static{this.\u0275fac=function(t){return new(t||A)(w(q),w(it),w(N))}}static{this.\u0275cmp=u({type:A,selectors:[["app-itdashboard-kpi"]],decls:11,vars:20,consts:[[1,"p-4"],[1,"md:flex"],[1,"w-full","pr-4","md:w-1/3"],[1,"pb-4"],["label","Threats by month",1,"dark:bg-gray-800",3,"iconClasses","icon","options","series","value"],["chartPosition","below","label","% threats against total transactions this month",1,"dark:bg-gray-800",3,"gaugeOptions","gaugeSeries","iconClasses","icon","value"],[1,"w-full","md:w-1/3"],["chartPosition","none",1,"dark:bg-gray-800",3,"iconClasses","icon","value","label"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"ac-line-chart-tech",4),r()(),n(5,"div",2)(6,"div",3),p(7,"ac-quick-value-tech",5),r()(),n(8,"div",6)(9,"div",3),p(10,"ac-quick-value-tech",7),r()()()()),t&2&&(a(4),h("iconClasses",M(15,bt))("icon",i.icAssessment)("options",i.threatsByMonthChartOptions)("series",i.threatsByMonth)("value",i.currentMonthThreatCount),a(3),h("gaugeOptions",i.threatGaugeOptions)("gaugeSeries",j(16,yt,i.totalThreatPercentage||0))("iconClasses",M(18,wt))("icon",i.icBarChar)("value",i.totalThreatCount),a(3),Q("label","Highest number of threats: ",i.monthdata,""),h("iconClasses",M(19,Mt))("icon",i.icCalendarToday)("value",i.highestThreatCount))},dependencies:[tt,et],styles:["app-itdashboard-kpi{display:block!important}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.column[_ngcontent-%COMP%]{flex-basis:100%;padding:0;border:solid 0px #a1a1a1}.col-kpi[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap}.row-kpi[_ngcontent-%COMP%]{flex-basis:100%;padding:5px;border:solid 5px transparent}@media screen and (min-width: 800px){.column[_ngcontent-%COMP%]{flex:1}}"]})}};z=E([W()],z);var te=[{path:"",component:z}];export{te as default};
