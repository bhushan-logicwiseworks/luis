import{k as t}from"./chunk-4RIDPFY2.js";import{a as d}from"./chunk-V2BYYYUY.js";import{a,b as m,c as o}from"./chunk-W6W3L4PS.js";import{n as f}from"./chunk-7TJE7DO7.js";import{a as S}from"./chunk-UUGBUDN2.js";import{J as P,ha as n,p as s,qa as u,v as r,wa as c}from"./chunk-3Q5CJMKA.js";var j=(()=>{class p{constructor(h,y,l){this.actions$=h,this.store=y,this.apiService=l,this.loadPayors$=a(()=>this.actions$.pipe(o(t.LoadPatientPayors),n(i=>this.apiService.getPatientPayors(i.id).pipe(r(e=>t.LoadPatientPayorsSuccess({payors:e})),P(e=>s(t.LoadPatientPayorsFailure({error:e.error}))))))),this.loadPayor$=a(()=>this.actions$.pipe(o(t.LoadPatientPayor),n(i=>this.apiService.getPatientPayor(i.id).pipe(r(e=>t.LoadPatientPayorSuccess({payor:e})),P(e=>s(t.LoadPatientPayorFailure({error:e.error}))))))),this.loadPayorsList$=a(()=>this.actions$.pipe(o(t.LoadPatientPayorsList),n(i=>this.apiService.getPatientPayorsList().pipe(r(e=>t.LoadPatientPayorsListSuccess({payorsList:e})),P(e=>s(t.LoadPatientPayorsListFailure({error:e.error}))))))),this.addPatientPayors$=a(()=>this.actions$.pipe(o(t.AddPatientPayors),n(i=>this.apiService.addNewPatientPayors(i.payors).pipe(r(e=>t.AddPatientPayorsSuccess({payors:e})),P(e=>s(t.AddPatientPayorsFailure({error:e.error}))))))),this.deletePayors$=a(()=>this.actions$.pipe(o(t.DeletePatientPayor),n(i=>this.apiService.deletePatientPayors(i.dto).pipe(r(e=>t.DeletePatientPayorSuccess()),P(e=>s(t.DeletePatientPayorFailure({error:e.error}))))))),this.updatePayorsRank$=a(()=>this.actions$.pipe(o(t.UpdatePatientPayors),n(i=>this.apiService.updatePatientPayorsRank(i.payors).pipe(r(e=>(d.EDIT_SUCCESS(),t.UpdatePatientPayorsSuccess({payors:e}))),P(e=>(d.EDIT_FAILURE(),s(t.UpdatePatientPayorsFailure({error:e.error})))))))),this.refresh$=a(()=>this.actions$.pipe(o(t.DeletePatientPayorSuccess,t.AddPatientPayorsSuccess,t.UpdatePatientPayorsSuccess),r(()=>t.Refresh())))}static{this.\u0275fac=function(y){return new(y||p)(c(m),c(f),c(S))}}static{this.\u0275prov=u({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();export{j as a};
